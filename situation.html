<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval'  frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ·é¾Ÿæ±¤å†…å®¹ç”Ÿæˆå™¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 10px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .header p {
            opacity: 0.9;
            font-size: 16px;
        }
        
        .role-selection {
            background: #f8f9fa;
            padding: 20px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .role-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            text-align: center;
        }
        
        .role-tabs {
            display: flex;
            background: #e9ecef;
            border-radius: 12px;
            padding: 4px;
            margin-bottom: 15px;
        }
        
        .role-tab {
            flex: 1;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            font-weight: 500;
            color: #666;
        }
        
        .role-tab.active {
            background: #667eea;
            color: white;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }
        
        .role-description {
            text-align: center;
            color: #666;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .form-content {
            padding: 30px 20px;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-group.full-width {
            grid-column: 1 / -1;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }
        
        select, input, textarea {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s;
            background: white;
        }
        
        select:focus, input:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        textarea {
            resize: vertical;
            min-height: 80px;
        }
        
        .checkbox-section {
            margin-bottom: 25px;
        }
        
        .checkbox-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
        }
        
        .checkbox-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 8px;
            padding: 16px;
            background: #f8f9fa;
            border-radius: 12px;
            max-height: 240px;
            overflow-y: auto;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            background: white;
            border-radius: 8px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 13px;
        }
        
        .checkbox-item:hover {
            border-color: #667eea;
            transform: translateY(-1px);
        }
        
        .checkbox-item.selected {
            border-color: #667eea;
            background: #e8f4ff;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
        }
        
        .checkbox-item input[type="checkbox"] {
            width: auto;
            height: auto;
            margin: 0 8px 0 0;
            padding: 0;
            accent-color: #667eea;
        }
        
        .checkbox-item label {
            margin: 0;
            cursor: pointer;
            font-weight: normal;
            font-size: 13px;
            color: #333;
        }
        
        .selected-display {
            margin-top: 12px;
            padding: 12px;
            background: #e8f4ff;
            border-radius: 8px;
            border: 1px solid #667eea;
            min-height: 20px;
        }
        
        .tag {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 4px 10px;
            margin: 2px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .description {
            background: #f0f8ff;
            border: 1px solid #b3d9ff;
            border-radius: 8px;
            padding: 10px;
            margin-top: 8px;
            font-size: 13px;
            color: #0066cc;
            line-height: 1.4;
        }
        
        .clear-btn {
            background: #dc3545;
            color: white;
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s;
        }
        
        .clear-btn:hover {
            background: #c82333;
            transform: translateY(-1px);
        }
        
        .generate-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 18px 30px;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            margin: 30px 0 20px 0;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .generate-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        
        .generate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .output {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 16px;
        }
        
        .output-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .role-indicator {
            background: #667eea;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }
        
        .copy-btn {
            background: #28a745;
            color: white;
            padding: 10px 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .copy-btn:hover {
            background: #218838;
            transform: translateY(-1px);
        }
        
        .prompt-content {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 24px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
            line-height: 1.6;
            color: #333;
            white-space: pre-wrap;
            max-height: 600px;
            overflow-y: auto;
        }
        
        .hidden {
            display: none;
        }

        /* å‚æ•°æ˜¾ç¤ºå¼€å…³æ ·å¼ */
        .switch-container {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: #f0f8ff;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid #b3d9ff;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #667eea;
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .switch-label {
            font-size: 14px;
            color: #333;
            font-weight: 500;
        }
        
        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 768px) {
            body {
                padding: 5px;
            }
            
            .header {
                padding: 20px 15px;
            }
            
            .header h1 {
                font-size: 24px;
            }
            
            .form-content {
                padding: 20px 15px;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
                gap: 15px;
                margin-bottom: 20px;
            }
            
            .form-group {
                margin-bottom: 20px;
            }
            
            .checkbox-grid {
                grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
                gap: 6px;
                padding: 12px;
                max-height: 200px;
            }
            
            .checkbox-item {
                padding: 6px 8px;
                font-size: 12px;
            }
            
            .role-tabs {
                flex-direction: column;
                gap: 4px;
            }
            
            .role-tab {
                padding: 10px 16px;
                font-size: 14px;
            }
            
            .generate-btn {
                padding: 16px 24px;
                font-size: 16px;
            }
            
            .output {
                margin-top: 20px;
                padding: 15px;
            }
            
            .prompt-content {
                padding: 16px;
                font-size: 13px;
                max-height: 400px;
            }
        }
        
        @media (max-width: 480px) {
            .checkbox-grid {
                grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            }
            
            .checkbox-item {
                font-size: 11px;
                padding: 4px 6px;
            }
            
            .tag {
                font-size: 11px;
                padding: 3px 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¢ æµ·é¾Ÿæ±¤å†…å®¹ç”Ÿæˆå™¨</h1>
            <p>ä¸“ä¸šçº§æµ·é¾Ÿæ±¤åˆ›ä½œå·¥å…·ï¼Œç”Ÿæˆé«˜è´¨é‡é€»è¾‘ä¸¥å¯†çš„æ¨ç†è°œé¢˜</p>
        </div>
        
        <div class="role-selection">
            <div class="role-title">é€‰æ‹©ä½ çš„è§’è‰²</div>
            <div class="role-tabs">
                <div class="role-tab active" data-role="player">
                    <div>ğŸ§© æˆ‘æ˜¯ç©å®¶</div>
                </div>
                <div class="role-tab" data-role="host">
                    <div>ğŸª æˆ‘æ˜¯ä¸»æŒäºº</div>
                </div>
            </div>
            <div class="role-description" id="role-description">
                æˆ‘æƒ³è¦æŒ‘æˆ˜æµ·é¾Ÿæ±¤è°œé¢˜ï¼Œåªéœ€è¦æ±¤é¢å†…å®¹è¿›è¡Œæ¨ç†
            </div>
        </div>
        
        <div class="form-content">
            <form id="promptForm">
                <!-- å‚æ•°æ˜¾ç¤ºå¼€å…³ -->
                <div class="switch-container">
                    <label class="switch">
                        <input type="checkbox" id="explainParams" checked="">
                        <span class="slider"></span>
                    </label>
                    <span class="switch-label">åœ¨æç¤ºè¯ä¸­è§£é‡Šå‚æ•°å«ä¹‰ï¼ˆè®©AIæ›´å¥½ç†è§£åˆ›ä½œè¦æ±‚ï¼‰</span>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label for="type">è°œé¢˜ç±»å‹</label>
                        <select id="type" required="" onchange="showDescription('type')">
                            <option value="">è¯·é€‰æ‹©ç±»å‹</option>
                            <option value="ç»å…¸æ¨ç†">ç»å…¸æ¨ç†</option>
                            <option value="å¿ƒç†æ‚¬ç–‘">å¿ƒç†æ‚¬ç–‘</option>
                            <option value="ç§‘å¹»å¥‡å¹»">ç§‘å¹»å¥‡å¹»</option>
                            <option value="æ—¥å¸¸ç”Ÿæ´»">æ—¥å¸¸ç”Ÿæ´»</option>
                            <option value="å†å²äººæ–‡">å†å²äººæ–‡</option>
                            <option value="ææ€–æƒŠæ‚š">ææ€–æƒŠæ‚š</option>
                            <option value="çˆ±æƒ…æƒ…æ„Ÿ">çˆ±æƒ…æƒ…æ„Ÿ</option>
                            <option value="èŒåœºå•†ä¸š">èŒåœºå•†ä¸š</option>
                            <option value="å®¶åº­ä¼¦ç†">å®¶åº­ä¼¦ç†</option>
                            <option value="é’æ˜¥æ ¡å›­">é’æ˜¥æ ¡å›­</option>
                            <option value="æ­¦ä¾ æ±Ÿæ¹–">æ­¦ä¾ æ±Ÿæ¹–</option>
                            <option value="éƒ½å¸‚å¥‡è°­">éƒ½å¸‚å¥‡è°­</option>
                        </select>
                        <div id="type-desc" class="description hidden"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="difficulty">éš¾åº¦ç­‰çº§</label>
                        <select id="difficulty" required="" onchange="showDescription('difficulty')">
                            <option value="">è¯·é€‰æ‹©éš¾åº¦</option>
                            <option value="æ–°æ‰‹æ‘">æ–°æ‰‹æ‘ï¼ˆ3-5ä¸ªé—®é¢˜ï¼‰</option>
                            <option value="å…¥é—¨çº§">å…¥é—¨çº§ï¼ˆ5-8ä¸ªé—®é¢˜ï¼‰</option>
                            <option value="è¿›é˜¶çº§">è¿›é˜¶çº§ï¼ˆ8-12ä¸ªé—®é¢˜ï¼‰</option>
                            <option value="é«˜æ‰‹çº§">é«˜æ‰‹çº§ï¼ˆ12-18ä¸ªé—®é¢˜ï¼‰</option>
                            <option value="å¤§å¸ˆçº§">å¤§å¸ˆçº§ï¼ˆ18-25ä¸ªé—®é¢˜ï¼‰</option>
                            <option value="ä¼ è¯´çº§">ä¼ è¯´çº§ï¼ˆ25ä¸ªé—®é¢˜ä»¥ä¸Šï¼‰</option>
                            <option value="åœ°ç‹±çº§">åœ°ç‹±çº§ï¼ˆæåº¦çƒ§è„‘ï¼‰</option>
                        </select>
                        <div id="difficulty-desc" class="description hidden"></div>
                    </div>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="setting">æ•…äº‹èƒŒæ™¯</label>
                        <select id="setting" required="" onchange="showDescription('setting')">
                            <option value="">è¯·é€‰æ‹©èƒŒæ™¯</option>
                            <option value="ç°ä»£éƒ½å¸‚">ç°ä»£éƒ½å¸‚</option>
                            <option value="å¤ä»£å†å²">å¤ä»£å†å²</option>
                            <option value="æœªæ¥ç§‘å¹»">æœªæ¥ç§‘å¹»</option>
                            <option value="ä¹¡æ‘ç”°å›­">ä¹¡æ‘ç”°å›­</option>
                            <option value="æµ·å²›å­¤å²›">æµ·å²›å­¤å²›</option>
                            <option value="åŒ»é™¢å­¦æ ¡">åŒ»é™¢å­¦æ ¡</option>
                            <option value="å¯†å®¤å°é—­">å¯†å®¤å°é—­</option>
                            <option value="é‡å¤–æ¢é™©">é‡å¤–æ¢é™©</option>
                            <option value="è±ªå®…åˆ«å¢…">è±ªå®…åˆ«å¢…</option>
                            <option value="åœ°ä¸‹ä¸–ç•Œ">åœ°ä¸‹ä¸–ç•Œ</option>
                            <option value="è™šæ‹Ÿç½‘ç»œ">è™šæ‹Ÿç½‘ç»œ</option>
                            <option value="å¼‚æ¬¡å…ƒç©ºé—´">å¼‚æ¬¡å…ƒç©ºé—´</option>
                        </select>
                        <div id="setting-desc" class="description hidden"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="characters">äººç‰©è®¾å®š</label>
                        <select id="characters" required="" onchange="showDescription('characters')">
                            <option value="">è¯·é€‰æ‹©äººç‰©</option>
                            <option value="å•ä¸€ä¸»è§’">å•ä¸€ä¸»è§’</option>
                            <option value="åŒäººå…³ç³»">åŒäººå…³ç³»</option>
                            <option value="å®¶åº­æˆå‘˜">å®¶åº­æˆå‘˜</option>
                            <option value="åŒäº‹æœ‹å‹">åŒäº‹æœ‹å‹</option>
                            <option value="é™Œç”Ÿäººç¾¤">é™Œç”Ÿäººç¾¤</option>
                            <option value="ä¸“ä¸šäººå£«">ä¸“ä¸šäººå£«</option>
                            <option value="ç‰¹æ®Šèº«ä»½">ç‰¹æ®Šèº«ä»½</option>
                            <option value="å¸ˆç”Ÿå…³ç³»">å¸ˆç”Ÿå…³ç³»</option>
                            <option value="ä¸Šä¸‹çº§">ä¸Šä¸‹çº§</option>
                            <option value="é‚»é‡Œå…³ç³»">é‚»é‡Œå…³ç³»</option>
                            <option value="ç½‘å‹å…³ç³»">ç½‘å‹å…³ç³»</option>
                        </select>
                        <div id="characters-desc" class="description hidden"></div>
                    </div>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="twist">åè½¬ç±»å‹</label>
                        <select id="twist" required="" onchange="showDescription('twist')">
                            <option value="">è¯·é€‰æ‹©åè½¬</option>
                            <option value="èº«ä»½åè½¬">èº«ä»½åè½¬</option>
                            <option value="æ—¶é—´åè½¬">æ—¶é—´åè½¬</option>
                            <option value="ç©ºé—´åè½¬">ç©ºé—´åè½¬</option>
                            <option value="åŠ¨æœºåè½¬">åŠ¨æœºåè½¬</option>
                            <option value="å› æœåè½¬">å› æœåè½¬</option>
                            <option value="è®¤çŸ¥åè½¬">è®¤çŸ¥åè½¬</option>
                            <option value="åŒé‡åè½¬">åŒé‡åè½¬</option>
                            <option value="è®°å¿†åè½¬">è®°å¿†åè½¬</option>
                            <option value="ç”Ÿæ­»åè½¬">ç”Ÿæ­»åè½¬</option>
                            <option value="çœŸå‡åè½¬">çœŸå‡åè½¬</option>
                            <option value="æ¢¦å¢ƒåè½¬">æ¢¦å¢ƒåè½¬</option>
                        </select>
                        <div id="twist-desc" class="description hidden"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="style">å™è¿°é£æ ¼</label>
                        <select id="style" required="" onchange="showDescription('style')">
                            <option value="">è¯·é€‰æ‹©é£æ ¼</option>
                            <option value="ç®€æ´æ˜å¿«">ç®€æ´æ˜å¿«</option>
                            <option value="ç»†è…»æè¿°">ç»†è…»æè¿°</option>
                            <option value="æ‚¬ç–‘ç´§å¼ ">æ‚¬ç–‘ç´§å¼ </option>
                            <option value="å¹½é»˜è¯™è°">å¹½é»˜è¯™è°</option>
                            <option value="è¯—æ„æŠ’æƒ…">è¯—æ„æŠ’æƒ…</option>
                            <option value="å†·å³»å®¢è§‚">å†·å³»å®¢è§‚</option>
                            <option value="æ¸©é¦¨æ²»æ„ˆ">æ¸©é¦¨æ²»æ„ˆ</option>
                            <option value="é»‘è‰²å¹½é»˜">é»‘è‰²å¹½é»˜</option>
                            <option value="å¤å…¸ä¼˜é›…">å¤å…¸ä¼˜é›…</option>
                        </select>
                        <div id="style-desc" class="description hidden"></div>
                    </div>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="audience">ç›®æ ‡å—ä¼—</label>
                        <select id="audience" required="" onchange="showDescription('audience')">
                            <option value="">è¯·é€‰æ‹©å—ä¼—</option>
                            <option value="å„¿ç«¥å‹å¥½">å„¿ç«¥å‹å¥½ï¼ˆ6-12å²ï¼‰</option>
                            <option value="é’å°‘å¹´">é’å°‘å¹´ï¼ˆ13-18å²ï¼‰</option>
                            <option value="å¹´è½»æˆäºº">å¹´è½»æˆäººï¼ˆ19-30å²ï¼‰</option>
                            <option value="èŒåœºäººå£«">èŒåœºäººå£«ï¼ˆ25-40å²ï¼‰</option>
                            <option value="ä¸­å¹´ç¾¤ä½“">ä¸­å¹´ç¾¤ä½“ï¼ˆ35-55å²ï¼‰</option>
                            <option value="é“¶å‘ä¸€æ—">é“¶å‘ä¸€æ—ï¼ˆ55å²ä»¥ä¸Šï¼‰</option>
                            <option value="å…¨å¹´é¾„å‘">å…¨å¹´é¾„å‘</option>
                            <option value="ä¸“ä¸šç©å®¶">ä¸“ä¸šç©å®¶</option>
                            <option value="æ–‡è‰ºé’å¹´">æ–‡è‰ºé’å¹´</option>
                            <option value="é€»è¾‘æ§">é€»è¾‘æ§</option>
                        </select>
                        <div id="audience-desc" class="description hidden"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="length">æ•…äº‹é•¿åº¦</label>
                        <select id="length" required="" onchange="showDescription('length')">
                            <option value="">è¯·é€‰æ‹©é•¿åº¦</option>
                            <option value="å¾®å‹">å¾®å‹ï¼ˆ100å­—å†…ï¼‰</option>
                            <option value="çŸ­ç¯‡">çŸ­ç¯‡ï¼ˆ100-300å­—ï¼‰</option>
                            <option value="ä¸­ç¯‡">ä¸­ç¯‡ï¼ˆ300-600å­—ï¼‰</option>
                            <option value="é•¿ç¯‡">é•¿ç¯‡ï¼ˆ600-1000å­—ï¼‰</option>
                            <option value="å²è¯—">å²è¯—ï¼ˆ1000å­—ä»¥ä¸Šï¼‰</option>
                        </select>
                        <div id="length-desc" class="description hidden"></div>
                    </div>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label for="logic-level">é€»è¾‘ä¸¥å¯†åº¦</label>
                        <select id="logic-level" onchange="showDescription('logic-level')">
                            <option value="standard">æ ‡å‡†</option>
                            <option value="strict">ä¸¥æ ¼</option>
                            <option value="hardcore">æè‡´ä¸¥è°¨</option>
                        </select>
                        <div id="logic-level-desc" class="description hidden"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="creativity">åˆ›æ„ç¨‹åº¦</label>
                        <select id="creativity" onchange="showDescription('creativity')">
                            <option value="conservative">ä¿å®ˆç»å…¸</option>
                            <option value="balanced">å¹³è¡¡åˆ›æ–°</option>
                            <option value="innovative">å¤§èƒ†åˆ›æ–°</option>
                        </select>
                        <div id="creativity-desc" class="description hidden"></div>
                    </div>
                </div>
                
                <div class="checkbox-section">
                    <div class="checkbox-header">
                        <label>æ ¸å¿ƒä¸»é¢˜ï¼ˆå¤šé€‰ï¼‰</label>
                        <button type="button" class="clear-btn" onclick="clearAllSelections('themes')">æ¸…ç©º</button>
                    </div>
                    <div class="checkbox-grid" id="themes-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-friendship" value="å‹æƒ…" onchange="updateSelection('themes', this)">
                            <label for="theme-friendship">å‹æƒ…</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-love" value="çˆ±æƒ…" onchange="updateSelection('themes', this)">
                            <label for="theme-love">çˆ±æƒ…</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-family" value="äº²æƒ…" onchange="updateSelection('themes', this)">
                            <label for="theme-family">äº²æƒ…</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-betrayal" value="èƒŒå›" onchange="updateSelection('themes', this)">
                            <label for="theme-betrayal">èƒŒå›</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-redemption" value="æ•‘èµ" onchange="updateSelection('themes', this)">
                            <label for="theme-redemption">æ•‘èµ</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-growth" value="æˆé•¿" onchange="updateSelection('themes', this)">
                            <label for="theme-growth">æˆé•¿</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-choice" value="é€‰æ‹©" onchange="updateSelection('themes', this)">
                            <label for="theme-choice">é€‰æ‹©</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-sacrifice" value="ç‰ºç‰²" onchange="updateSelection('themes', this)">
                            <label for="theme-sacrifice">ç‰ºç‰²</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-truth" value="çœŸç›¸" onchange="updateSelection('themes', this)">
                            <label for="theme-truth">çœŸç›¸</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-justice" value="æ­£ä¹‰" onchange="updateSelection('themes', this)">
                            <label for="theme-justice">æ­£ä¹‰</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-freedom" value="è‡ªç”±" onchange="updateSelection('themes', this)">
                            <label for="theme-freedom">è‡ªç”±</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-responsibility" value="è´£ä»»" onchange="updateSelection('themes', this)">
                            <label for="theme-responsibility">è´£ä»»</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-forgiveness" value="å®½æ•" onchange="updateSelection('themes', this)">
                            <label for="theme-forgiveness">å®½æ•</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-hope" value="å¸Œæœ›" onchange="updateSelection('themes', this)">
                            <label for="theme-hope">å¸Œæœ›</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-revenge" value="å¤ä»‡" onchange="updateSelection('themes', this)">
                            <label for="theme-revenge">å¤ä»‡</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-memory" value="è®°å¿†" onchange="updateSelection('themes', this)">
                            <label for="theme-memory">è®°å¿†</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-time" value="æ—¶é—´" onchange="updateSelection('themes', this)">
                            <label for="theme-time">æ—¶é—´</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-death" value="ç”Ÿæ­»" onchange="updateSelection('themes', this)">
                            <label for="theme-death">ç”Ÿæ­»</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-identity" value="èº«ä»½" onchange="updateSelection('themes', this)">
                            <label for="theme-identity">èº«ä»½</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-dream" value="æ¢¦æƒ³" onchange="updateSelection('themes', this)">
                            <label for="theme-dream">æ¢¦æƒ³</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-loneliness" value="å­¤ç‹¬" onchange="updateSelection('themes', this)">
                            <label for="theme-loneliness">å­¤ç‹¬</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-courage" value="å‹‡æ°”" onchange="updateSelection('themes', this)">
                            <label for="theme-courage">å‹‡æ°”</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-secret" value="ç§˜å¯†" onchange="updateSelection('themes', this)">
                            <label for="theme-secret">ç§˜å¯†</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="theme-fate" value="å‘½è¿" onchange="updateSelection('themes', this)">
                            <label for="theme-fate">å‘½è¿</label>
                        </div>
                    </div>
                    <div class="selected-display" id="themes-display">
                        <span style="color: #666;">è¯·é€‰æ‹©1-3ä¸ªæ ¸å¿ƒä¸»é¢˜</span>
                    </div>
                </div>
                
                <div class="checkbox-section">
                    <div class="checkbox-header">
                        <label>æƒ…èŠ‚å…ƒç´ ï¼ˆå¯é€‰ï¼‰</label>
                        <button type="button" class="clear-btn" onclick="clearAllSelections('elements')">æ¸…ç©º</button>
                    </div>
                    <div class="checkbox-grid" id="elements-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="element-letter" value="ä¿¡ä»¶" onchange="updateSelection('elements', this)">
                            <label for="element-letter">ä¿¡ä»¶</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="element-photo" value="ç…§ç‰‡" onchange="updateSelection('elements', this)">
                            <label for="element-photo">ç…§ç‰‡</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="element-key" value="é’¥åŒ™" onchange="updateSelection('elements', this)">
                            <label for="element-key">é’¥åŒ™</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="element-phone" value="ç”µè¯" onchange="updateSelection('elements', this)">
                            <label for="element-phone">ç”µè¯</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="element-mirror" value="é•œå­" onchange="updateSelection('elements', this)">
                            <label for="element-mirror">é•œå­</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="element-window" value="çª—æˆ·" onchange="updateSelection('elements', this)">
                            <label for="element-window">çª—æˆ·</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="element-clock" value="é’Ÿè¡¨" onchange="updateSelection('elements', this)">
                            <label for="element-clock">é’Ÿè¡¨</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="element-book" value="ä¹¦ç±" onchange="updateSelection('elements', this)">
                            <label for="element-book">ä¹¦ç±</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="element-music" value="éŸ³ä¹" onchange="updateSelection('elements', this)">
                            <label for="element-music">éŸ³ä¹</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="element-flower" value="èŠ±æœµ" onchange="updateSelection('elements', this)">
                            <label for="element-flower">èŠ±æœµ</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="element-weather" value="å¤©æ°”" onchange="updateSelection('elements', this)">
                            <label for="element-weather">å¤©æ°”</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="element-food" value="é£Ÿç‰©" onchange="updateSelection('elements', this)">
                            <label for="element-food">é£Ÿç‰©</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="element-animal" value="åŠ¨ç‰©" onchange="updateSelection('elements', this)">
                            <label for="element-animal">åŠ¨ç‰©</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="element-car" value="è½¦è¾†" onchange="updateSelection('elements', this)">
                            <label for="element-car">è½¦è¾†</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="element-money" value="é‡‘é’±" onchange="updateSelection('elements', this)">
                            <label for="element-money">é‡‘é’±</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="element-jewelry" value="é¦–é¥°" onchange="updateSelection('elements', this)">
                            <label for="element-jewelry">é¦–é¥°</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="element-medicine" value="è¯å“" onchange="updateSelection('elements', this)">
                            <label for="element-medicine">è¯å“</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="element-document" value="æ–‡ä»¶" onchange="updateSelection('elements', this)">
                            <label for="element-document">æ–‡ä»¶</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="element-tool" value="å·¥å…·" onchange="updateSelection('elements', this)">
                            <label for="element-tool">å·¥å…·</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="element-light" value="å…‰çº¿" onchange="updateSelection('elements', this)">
                            <label for="element-light">å…‰çº¿</label>
                        </div>
                    </div>
                    <div class="selected-display" id="elements-display">
                        <span style="color: #666;">å¯é€‰æ‹©0-5ä¸ªæƒ…èŠ‚å…ƒç´ </span>
                    </div>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="custom-elements">è‡ªå®šä¹‰å…ƒç´ </label>
                        <input type="text" id="custom-elements" placeholder="è‡ªå®šä¹‰å…³é”®å…ƒç´ ï¼Œç”¨é€—å·åˆ†éš”">
                    </div>
                    
                    <div class="form-group">
                        <label for="emotion">æƒ…æ„ŸåŸºè°ƒ</label>
                        <select id="emotion" onchange="showDescription('emotion')">
                            <option value="">è¯·é€‰æ‹©åŸºè°ƒ</option>
                            <option value="æ¸©é¦¨æ„Ÿäºº">æ¸©é¦¨æ„Ÿäºº</option>
                            <option value="ç´§å¼ åˆºæ¿€">ç´§å¼ åˆºæ¿€</option>
                            <option value="æ‚²ä¼¤æ²‰é‡">æ‚²ä¼¤æ²‰é‡</option>
                            <option value="è½»æ¾æ„‰å¿«">è½»æ¾æ„‰å¿«</option>
                            <option value="ç¥ç§˜è¯¡å¼‚">ç¥ç§˜è¯¡å¼‚</option>
                            <option value="åŠ±å¿—å‘ä¸Š">åŠ±å¿—å‘ä¸Š</option>
                            <option value="æµªæ¼«å”¯ç¾">æµªæ¼«å”¯ç¾</option>
                            <option value="æ·±æ²‰æ€è¾¨">æ·±æ²‰æ€è¾¨</option>
                        </select>
                        <div id="emotion-desc" class="description hidden"></div>
                    </div>
                </div>
                
                <div class="form-group full-width">
                    <label for="special">ç‰¹æ®Šè¦æ±‚</label>
                    <textarea id="special" placeholder="ä¾‹å¦‚ï¼šéœ€è¦åŒ…å«æ•™è‚²æ„ä¹‰ã€é¿å…æš´åŠ›å†…å®¹ã€èå…¥ç§‘å­¦çŸ¥è¯†ã€ä½“ç°ä¼ ç»Ÿæ–‡åŒ–ã€å¿…é¡»æœ‰åè½¬ã€ä¸èƒ½æœ‰æ‚²å‰§ç»“å±€ç­‰"></textarea>
                </div>
                
                <button type="submit" class="generate-btn" id="generateBtn">ğŸ§© ç”Ÿæˆæ±¤é¢æŒ‘æˆ˜</button>
            </form>
        </div>
        
        <div id="output" class="output hidden">
            <div class="output-header">
                <div class="role-indicator" id="role-badge">ç©å®¶æ¨¡å¼</div>
                <button class="copy-btn" onclick="copyContent()">ğŸ“‹ å¤åˆ¶å†…å®¹</button>
            </div>
            <div class="prompt-content" id="prompt-content"></div>
        </div>
    </div>

    <script>
        const descriptions = {
            type: {
                'ç»å…¸æ¨ç†': 'æ³¨é‡é€»è¾‘æ¨ç†å’Œçº¿ç´¢åˆ†æï¼Œé€šè¿‡ç»†è‡´çš„è§‚å¯Ÿå’Œæ¨æ–­æ¥è§£å¼€è°œé¢˜ã€‚é€‚åˆå–œæ¬¢çƒ§è„‘æ€è€ƒçš„ç©å®¶ã€‚',
                'å¿ƒç†æ‚¬ç–‘': 'æ¢ç´¢äººç‰©å†…å¿ƒä¸–ç•Œå’Œå¤æ‚åŠ¨æœºï¼Œå¾€å¾€æ¶‰åŠå¿ƒç†çŠ¶æ€çš„è½¬å˜å’Œéšè—çš„çœŸç›¸ã€‚',
                'ç§‘å¹»å¥‡å¹»': 'èå…¥ç§‘å­¦å¹»æƒ³æˆ–å¥‡å¹»å…ƒç´ ï¼Œå¯èƒ½æ¶‰åŠæ—¶ç©ºç©¿è¶Šã€è¶…èƒ½åŠ›æˆ–é­”æ³•ç­‰éç°å®è¦ç´ ã€‚',
                'æ—¥å¸¸ç”Ÿæ´»': 'å–æäºå¹³å‡¡çš„æ—¥å¸¸åœºæ™¯ï¼Œä½†éšè—ç€ä¸å¹³å‡¡çš„ç§˜å¯†ï¼Œè´´è¿‘ç”Ÿæ´»æ˜“äºç†è§£ã€‚',
                'å†å²äººæ–‡': 'ä»¥å†å²äº‹ä»¶æˆ–æ–‡åŒ–èƒŒæ™¯ä¸ºä¾æ‰˜ï¼Œèå…¥å†å²çŸ¥è¯†å’Œäººæ–‡æ€è€ƒã€‚',
                'ææ€–æƒŠæ‚š': 'è¥é€ ç´§å¼ ææ€–çš„æ°›å›´ï¼Œä½†é‡åœ¨æ¨ç†è€Œéçº¯ç²¹å“äººï¼Œé€‚åˆå–œæ¬¢åˆºæ¿€çš„ç©å®¶ã€‚',
                'çˆ±æƒ…æƒ…æ„Ÿ': 'ä»¥æƒ…æ„Ÿå…³ç³»ä¸ºæ ¸å¿ƒï¼Œæ¢è®¨çˆ±æƒ…ã€äº²æƒ…ã€å‹æƒ…ç­‰äººé™…å…³ç³»ä¸­çš„å¤æ‚æƒ…å†µã€‚',
                'èŒåœºå•†ä¸š': 'ä»¥å·¥ä½œç¯å¢ƒä¸ºèƒŒæ™¯ï¼Œæ¶‰åŠèŒåœºæ”¿æ²»ã€å•†ä¸šç«äº‰æˆ–è¡Œä¸šå†…å¹•ã€‚',
                'å®¶åº­ä¼¦ç†': 'èšç„¦å®¶åº­å†…éƒ¨å…³ç³»ï¼Œæ¢è®¨ä»£é™…å†²çªã€ä¼¦ç†é“å¾·ç­‰æ·±å±‚è¯é¢˜ã€‚',
                'é’æ˜¥æ ¡å›­': 'ä»¥å­¦æ ¡ä¸ºèƒŒæ™¯ï¼Œå±•ç°é’æ˜¥æœŸçš„æˆé•¿çƒ¦æ¼å’Œäººé™…å…³ç³»ã€‚',
                'æ­¦ä¾ æ±Ÿæ¹–': 'å¤é£èƒŒæ™¯ï¼Œæ¶‰åŠæ­¦æ—æ©æ€¨ã€æ±Ÿæ¹–ä¹‰æ°”ç­‰ä¼ ç»Ÿæ–‡åŒ–å…ƒç´ ã€‚',
                'éƒ½å¸‚å¥‡è°­': 'ç°ä»£éƒ½å¸‚ä¸­çš„è¶…è‡ªç„¶äº‹ä»¶ï¼Œç°å®ä¸å¹»æƒ³çš„äº¤ç»‡ã€‚'
            },
            difficulty: {
                'æ–°æ‰‹æ‘': 'è¶…ç®€å•å…¥é—¨ï¼Œçº¿ç´¢æå…¶æ˜æ˜¾ï¼Œé€‚åˆå®Œå…¨æ²¡æœ‰ç»éªŒçš„æ–°æ‰‹ã€‚',
                'å…¥é—¨çº§': 'çº¿ç´¢ç›¸å¯¹æ˜æ˜¾ï¼Œé€»è¾‘é“¾è¾ƒçŸ­ï¼Œé€‚åˆæ–°æ‰‹ç©å®¶ã€‚æ¨ç†è·¯å¾„æ¸…æ™°ï¼Œä¸ä¼šæœ‰å¤ªå¤šçº¢é²±é±¼ã€‚',
                'è¿›é˜¶çº§': 'éœ€è¦ä¸€å®šçš„æ¨ç†æŠ€å·§ï¼Œå¯èƒ½æœ‰1-2ä¸ªè¯¯å¯¼æ€§çº¿ç´¢ï¼Œéœ€è¦ç©å®¶ä»”ç»†åˆ†æã€‚',
                'é«˜æ‰‹çº§': 'é€»è¾‘é“¾è¾ƒé•¿ï¼ŒåŒ…å«å¤šä¸ªå…³é”®è½¬æŠ˜ç‚¹ï¼Œéœ€è¦ç»¼åˆå¤šæ¡çº¿ç´¢æ‰èƒ½å¾—å‡ºç»“è®ºã€‚',
                'å¤§å¸ˆçº§': 'é«˜åº¦å¤æ‚çš„æ¨ç†ç»“æ„ï¼Œå¯èƒ½æ¶‰åŠå¤šé‡åè½¬ï¼Œéœ€è¦ä¸°å¯Œçš„æ¨ç†ç»éªŒã€‚',
                'ä¼ è¯´çº§': 'æå…¶å¤æ‚çš„é€»è¾‘è°œé¢˜ï¼Œå¯èƒ½éœ€è¦è·³å‡ºå¸¸è§„æ€ç»´ï¼Œé€‚åˆèµ„æ·±æ¨ç†çˆ±å¥½è€…æŒ‘æˆ˜ã€‚',
                'åœ°ç‹±çº§': 'å˜æ€çº§åˆ«çš„éš¾åº¦ï¼Œå¯èƒ½éœ€è¦ä¸“ä¸šçŸ¥è¯†æˆ–æå…¶å·§å¦™çš„æ€ç»´è½¬æ¢ã€‚'
            },
            setting: {
                'ç°ä»£éƒ½å¸‚': 'ç¹åçš„åŸå¸‚ç¯å¢ƒï¼Œç°ä»£åŒ–è®¾æ–½é½å…¨ï¼Œäººé™…å…³ç³»å¤æ‚ï¼Œä¿¡æ¯è·å–ä¾¿åˆ©ã€‚',
                'å¤ä»£å†å²': 'ç‰¹å®šå†å²æ—¶æœŸçš„èƒŒæ™¯ï¼Œéœ€è¦è€ƒè™‘å½“æ—¶çš„ç¤¾ä¼šåˆ¶åº¦ã€æŠ€æœ¯æ°´å¹³å’Œæ–‡åŒ–ç‰¹è‰²ã€‚',
                'æœªæ¥ç§‘å¹»': 'é«˜ç§‘æŠ€ç¯å¢ƒï¼Œå¯èƒ½æ¶‰åŠäººå·¥æ™ºèƒ½ã€åŸºå› æŠ€æœ¯ã€å¤ªç©ºæ¢ç´¢ç­‰æœªæ¥å…ƒç´ ã€‚',
                'ä¹¡æ‘ç”°å›­': 'å®é™çš„å†œæ‘ç¯å¢ƒï¼Œäººé™…å…³ç³»ç›¸å¯¹ç®€å•ï¼Œä½†å¯èƒ½éšè—ç€æ·±å±‚çš„ç§˜å¯†ã€‚',
                'æµ·å²›å­¤å²›': 'ç›¸å¯¹å°é—­çš„ç¯å¢ƒï¼Œäººå‘˜æœ‰é™ï¼Œå¢åŠ äº†æ¨ç†çš„ç´§è¿«æ„Ÿå’Œç¥ç§˜æ„Ÿã€‚',
                'åŒ»é™¢å­¦æ ¡': 'ä¸“ä¸šæœºæ„ç¯å¢ƒï¼Œæ¶‰åŠä¸“ä¸šçŸ¥è¯†å’Œç‰¹æ®Šçš„äººé™…å…³ç³»ç»“æ„ã€‚',
                'å¯†å®¤å°é—­': 'å°é—­ç©ºé—´å†…çš„æ¨ç†ï¼Œé‡ç‚¹å…³æ³¨ç©ºé—´å¸ƒå±€å’Œç‰©ç†æ¡ä»¶çš„é™åˆ¶ã€‚',
                'é‡å¤–æ¢é™©': 'è‡ªç„¶ç¯å¢ƒä¸­çš„æ•…äº‹ï¼Œå¯èƒ½æ¶‰åŠç”Ÿå­˜æŒ‘æˆ˜å’Œç¯å¢ƒå› ç´ çš„å½±å“ã€‚',
                'è±ªå®…åˆ«å¢…': 'å¯Œè±ªé˜¶å±‚çš„ç”Ÿæ´»ç¯å¢ƒï¼Œå¯èƒ½æ¶‰åŠè´¢äº§ç»§æ‰¿ã€å®¶æ—ç§˜å¯†ç­‰ã€‚',
                'åœ°ä¸‹ä¸–ç•Œ': 'éšç§˜çš„åœ°ä¸‹ç»„ç»‡æˆ–è®¾æ–½ï¼Œç¥ç§˜è€Œå±é™©çš„ç¯å¢ƒã€‚',
                'è™šæ‹Ÿç½‘ç»œ': 'ç½‘ç»œç©ºé—´ä¸­çš„æ•…äº‹ï¼Œæ¶‰åŠæ•°å­—åŒ–ç”Ÿæ´»å’Œè™šæ‹Ÿç°å®ã€‚',
                'å¼‚æ¬¡å…ƒç©ºé—´': 'è¶…ç°å®çš„ç©ºé—´è®¾å®šï¼Œå¯èƒ½æœ‰ç‰¹æ®Šçš„ç‰©ç†æ³•åˆ™ã€‚'
            },
            length: {
                'å¾®å‹': 'æç®€é£æ ¼ï¼Œç”¨æœ€å°‘çš„æ–‡å­—è¡¨è¾¾æœ€å¤§çš„ä¿¡æ¯é‡ã€‚',
                'çŸ­ç¯‡': 'ç®€æ´æ˜äº†ï¼Œé€‚åˆå¿«é€Ÿé˜…è¯»å’Œæ¨ç†ã€‚',
                'ä¸­ç¯‡': 'å¹³è¡¡çš„ç¯‡å¹…ï¼Œæ—¢æœ‰è¶³å¤Ÿçš„ç»†èŠ‚åˆä¸å†—é•¿ã€‚',
                'é•¿ç¯‡': 'ä¸°å¯Œçš„ç»†èŠ‚æå†™ï¼Œé€‚åˆæ·±åº¦æ¨ç†çˆ±å¥½è€…ã€‚',
                'å²è¯—': 'æå…¶è¯¦ç»†çš„èƒŒæ™¯è®¾å®šå’Œäººç‰©åˆ»ç”»ï¼Œé€‚åˆèµ„æ·±ç©å®¶ã€‚'
            },
            emotion: {
                'æ¸©é¦¨æ„Ÿäºº': 'æ¸©æš–äººå¿ƒçš„æ•…äº‹åŸºè°ƒï¼Œå¼ºè°ƒäººæ€§çš„ç¾å¥½å’Œæƒ…æ„Ÿçš„çº¯çœŸã€‚',
                'ç´§å¼ åˆºæ¿€': 'å¿«èŠ‚å¥çš„å‘å±•ï¼Œå……æ»¡æ‚¬å¿µå’Œç´§è¿«æ„Ÿã€‚',
                'æ‚²ä¼¤æ²‰é‡': 'æ·±æ²‰çš„æƒ…æ„Ÿè¡¨è¾¾ï¼Œå¯èƒ½æ¶‰åŠå¤±å»ã€é—æ†¾ç­‰ä¸»é¢˜ã€‚',
                'è½»æ¾æ„‰å¿«': 'è½»æ¾çš„æ°›å›´ï¼Œé€‚åˆå¨±ä¹å’Œæ”¾æ¾ã€‚',
                'ç¥ç§˜è¯¡å¼‚': 'è¥é€ ç¥ç§˜çš„æ°›å›´ï¼Œå¢åŠ æ•…äº‹çš„å¸å¼•åŠ›ã€‚',
                'åŠ±å¿—å‘ä¸Š': 'ç§¯ææ­£é¢çš„ä»·å€¼è§‚ï¼Œç»™äººä»¥å¯å‘å’ŒåŠ¨åŠ›ã€‚',
                'æµªæ¼«å”¯ç¾': 'ç¾å¥½çš„çˆ±æƒ…æ•…äº‹ï¼Œå……æ»¡è¯—æ„å’Œæµªæ¼«è‰²å½©ã€‚',
                'æ·±æ²‰æ€è¾¨': 'å“²å­¦æ€§çš„æ€è€ƒï¼Œå¼•å‘å¯¹äººç”Ÿå’Œç¤¾ä¼šçš„æ·±åº¦æ€è€ƒã€‚'
            },
            characters: {
                'å•ä¸€ä¸»è§’': 'æ•…äº‹å›´ç»•ä¸€ä¸ªæ ¸å¿ƒäººç‰©å±•å¼€ï¼Œé‡ç‚¹åˆ†æå…¶è¡Œä¸ºåŠ¨æœºå’Œå¿ƒç†çŠ¶æ€ã€‚',
                'åŒäººå…³ç³»': 'ä¸¤ä¸ªä¸»è¦äººç‰©ä¹‹é—´çš„äº’åŠ¨å…³ç³»ï¼Œå¦‚å¤«å¦»ã€æœ‹å‹ã€æ•Œäººç­‰ã€‚',
                'å®¶åº­æˆå‘˜': 'å®¶åº­å†…éƒ¨çš„å…³ç³»ç½‘ç»œï¼Œæ¶‰åŠè¡€ç¼˜å…³ç³»å’Œå®¶åº­è´£ä»»ã€‚',
                'åŒäº‹æœ‹å‹': 'å¹³ç­‰å…³ç³»ä¸­çš„åˆä½œä¸ç«äº‰ï¼Œå‹è°Šä¸åˆ©ç›Šçš„å¹³è¡¡ã€‚',
                'é™Œç”Ÿäººç¾¤': 'äº’ä¸ç›¸è¯†çš„äººä»¬å› æŸç§åŸå› èšé›†ï¼Œå¢åŠ äº†ä¸ç¡®å®šæ€§ã€‚',
                'ä¸“ä¸šäººå£«': 'å…·æœ‰ç‰¹å®šä¸“ä¸šèƒŒæ™¯çš„äººç‰©ï¼Œå¯èƒ½æ¶‰åŠä¸“ä¸šçŸ¥è¯†å’ŒèŒä¸šæ“å®ˆã€‚',
                'ç‰¹æ®Šèº«ä»½': 'å…·æœ‰ç‰¹æ®Šç¤¾ä¼šåœ°ä½æˆ–èƒ½åŠ›çš„äººç‰©ï¼Œå¦‚åäººã€ç½ªçŠ¯ã€è¶…èƒ½åŠ›è€…ç­‰ã€‚',
                'å¸ˆç”Ÿå…³ç³»': 'æ•™è‚²ç¯å¢ƒä¸­çš„ä¸Šä¸‹çº§å…³ç³»ï¼Œæ¶‰åŠçŸ¥è¯†ä¼ æˆå’Œæˆé•¿ã€‚',
                'ä¸Šä¸‹çº§': 'èŒåœºä¸­çš„ç­‰çº§å…³ç³»ï¼Œå¯èƒ½æ¶‰åŠæƒåŠ›å’Œåˆ©ç›Šå†²çªã€‚',
                'é‚»é‡Œå…³ç³»': 'ç¤¾åŒºç”Ÿæ´»ä¸­çš„äººé™…å…³ç³»ï¼Œæ—¥å¸¸æ¥è§¦ä½†ä¸å¤Ÿæ·±å…¥ã€‚',
                'ç½‘å‹å…³ç³»': 'è™šæ‹Ÿä¸–ç•Œä¸­çš„äº¤å¾€ï¼Œå¯èƒ½å­˜åœ¨èº«ä»½çš„ä¸ç¡®å®šæ€§ã€‚'
            },
            twist: {
                'èº«ä»½åè½¬': 'äººç‰©çš„çœŸå®èº«ä»½ä¸è¡¨é¢èº«ä»½å­˜åœ¨å·¨å¤§å·®å¼‚ï¼Œå¦‚å§åº•ã€ä¼ªè£…ç­‰ã€‚',
                'æ—¶é—´åè½¬': 'æ—¶é—´é¡ºåºçš„é¢ å€’æˆ–æ—¶é—´è·¨åº¦çš„è¯¯å¯¼ï¼Œå¯èƒ½æ¶‰åŠå›å¿†ã€é¢„è§ç­‰ã€‚',
                'ç©ºé—´åè½¬': 'åœ°ç‚¹æˆ–ç©ºé—´å…³ç³»çš„è¯¯å¯¼ï¼Œå¦‚é•œåƒç©ºé—´ã€éšè—æˆ¿é—´ç­‰ã€‚',
                'åŠ¨æœºåè½¬': 'äººç‰©è¡Œä¸ºçš„çœŸå®åŠ¨æœºä¸è¡¨é¢åŠ¨æœºå®Œå…¨ä¸åŒï¼Œå–„æ¶é¢ å€’ã€‚',
                'å› æœåè½¬': 'åŸå› å’Œç»“æœçš„å…³ç³»è¢«é¢ å€’ï¼Œçœ‹ä¼¼çš„ç»“æœå®é™…æ˜¯åŸå› ã€‚',
                'è®¤çŸ¥åè½¬': 'æ‰“ç ´å¸¸è§„è®¤çŸ¥å’Œå‡è®¾ï¼ŒæŒ‘æˆ˜è¯»è€…çš„å›ºæœ‰æ€ç»´æ¨¡å¼ã€‚',
                'åŒé‡åè½¬': 'åŒ…å«ä¸¤ä¸ªä»¥ä¸Šçš„é‡å¤§åè½¬ï¼Œå±‚å±‚é€’è¿›çš„çœŸç›¸æ­éœ²ã€‚',
                'è®°å¿†åè½¬': 'æ¶‰åŠè®°å¿†çš„çœŸå‡ã€é—å¿˜æˆ–æ¢å¤ï¼Œç°å®ä¸å›å¿†çš„äº¤é”™ã€‚',
                'ç”Ÿæ­»åè½¬': 'å…³äºç”Ÿæ­»çŠ¶æ€çš„è¯¯åˆ¤æˆ–éšç’ï¼Œå¯èƒ½æ¶‰åŠå‡æ­»ã€å¤±è¸ªç­‰ã€‚',
                'çœŸå‡åè½¬': 'çœŸå®ä¸è™šå‡çš„é¢ å€’ï¼Œå¯èƒ½æ¶‰åŠè°è¨€ã€ä¼ªè£…æˆ–å¹»è§‰ã€‚',
                'æ¢¦å¢ƒåè½¬': 'ç°å®ä¸æ¢¦å¢ƒçš„ç•Œé™æ¨¡ç³Šï¼Œå¯èƒ½æ•´ä¸ªæ•…äº‹éƒ½åœ¨æ¢¦ä¸­ã€‚'
            },
            style: {
                'ç®€æ´æ˜å¿«': 'è¯­è¨€ç®€ç»ƒï¼ŒèŠ‚å¥æ˜å¿«ï¼Œç›´å‡»è¦ç‚¹ï¼Œé€‚åˆå¿«èŠ‚å¥çš„æ¨ç†ã€‚',
                'ç»†è…»æè¿°': 'ä¸°å¯Œçš„ç»†èŠ‚æå†™ï¼Œè¥é€ æ·±å…¥çš„åœºæ™¯æ„Ÿå’Œäººç‰©åˆ»ç”»ã€‚',
                'æ‚¬ç–‘ç´§å¼ ': 'è¥é€ ç´§å¼ åˆºæ¿€çš„æ°›å›´ï¼Œä¿æŒæ‚¬å¿µå’Œç´§è¿«æ„Ÿã€‚',
                'å¹½é»˜è¯™è°': 'è½»æ¾å¹½é»˜çš„è¯­è°ƒï¼Œåœ¨æ¨ç†ä¸­èå…¥è¶£å‘³å…ƒç´ ã€‚',
                'è¯—æ„æŠ’æƒ…': 'å¯Œæœ‰æ–‡å­¦è‰²å½©çš„è¡¨è¾¾ï¼Œæƒ…æ„Ÿä¸°å¯Œï¼Œæ„å¢ƒæ·±è¿œã€‚',
                'å†·å³»å®¢è§‚': 'ç†æ€§å®¢è§‚çš„å™è¿°æ–¹å¼ï¼Œé‡è§†äº‹å®å’Œé€»è¾‘åˆ†æã€‚',
                'æ¸©é¦¨æ²»æ„ˆ': 'æ¸©æš–äººå¿ƒçš„è¡¨è¾¾æ–¹å¼ï¼Œç»™äººä»¥å®‰æ…°å’Œå¸Œæœ›ã€‚',
                'é»‘è‰²å¹½é»˜': 'ä»¥å¹½é»˜çš„æ–¹å¼è¡¨è¾¾ä¸¥è‚ƒæˆ–æ‚²ä¼¤çš„ä¸»é¢˜ã€‚',
                'å¤å…¸ä¼˜é›…': 'æ–‡é›…çš„è¡¨è¾¾æ–¹å¼ï¼Œå…·æœ‰å¤å…¸æ–‡å­¦çš„éŸµå‘³ã€‚'
            },
            audience: {
                'å„¿ç«¥å‹å¥½': 'å†…å®¹å¥åº·å‘ä¸Šï¼Œè¯­è¨€ç®€å•æ˜“æ‡‚ï¼Œé¿å…æš´åŠ›å’Œææ€–å…ƒç´ ï¼Œæ³¨é‡æ•™è‚²æ„ä¹‰ã€‚',
                'é’å°‘å¹´': 'é€‚åˆä¸­å­¦ç”Ÿç†è§£æ°´å¹³ï¼Œå¯ä»¥æ¶‰åŠä¸€äº›å¤æ‚æƒ…æ„Ÿå’Œç¤¾ä¼šè¯é¢˜ã€‚',
                'å¹´è½»æˆäºº': 'å†…å®¹ç›¸å¯¹æˆç†Ÿï¼Œå¯ä»¥æ¶‰åŠèŒåœºã€çˆ±æƒ…ç­‰æˆäººè¯é¢˜ï¼Œæ¨ç†éš¾åº¦é€‚ä¸­ã€‚',
                'èŒåœºäººå£«': 'è´´è¿‘å·¥ä½œç”Ÿæ´»ï¼Œå¯èƒ½æ¶‰åŠèŒåœºå‹åŠ›ã€äººé™…å…³ç³»ç­‰ç°å®é—®é¢˜ã€‚',
                'ä¸­å¹´ç¾¤ä½“': 'è´´è¿‘ä¸­å¹´äººçš„ç”Ÿæ´»ç»éªŒï¼Œå¯èƒ½æ¶‰åŠå®¶åº­è´£ä»»ã€äº‹ä¸šå‘å±•ç­‰è¯é¢˜ã€‚',
                'é“¶å‘ä¸€æ—': 'é€‚åˆè€å¹´äººçš„ç”Ÿæ´»èŠ‚å¥ï¼Œå¯èƒ½æ¶‰åŠäººç”Ÿæ„Ÿæ‚Ÿã€å®¶åº­å’Œç¦ç­‰ã€‚',
                'å…¨å¹´é¾„å‘': 'è€å°‘çš†å®œçš„å†…å®¹ï¼Œå¹³è¡¡å„å¹´é¾„æ®µçš„ç†è§£èƒ½åŠ›å’Œå…´è¶£ç‚¹ã€‚',
                'ä¸“ä¸šç©å®¶': 'é«˜éš¾åº¦çš„æ¨ç†æŒ‘æˆ˜ï¼Œä¸é™åˆ¶å†…å®¹å¤æ‚åº¦ï¼Œè¿½æ±‚æ¨ç†çš„æè‡´ä½“éªŒã€‚',
                'æ–‡è‰ºé’å¹´': 'å…·æœ‰æ–‡å­¦æ€§å’Œè‰ºæœ¯æ€§ï¼Œæ³¨é‡ç²¾ç¥å±‚é¢çš„æ€è€ƒã€‚',
                'é€»è¾‘æ§': 'ä¸¥å¯†çš„é€»è¾‘ç»“æ„ï¼Œé€‚åˆå–œæ¬¢çº¯ç†æ€§æ¨ç†çš„ç©å®¶ã€‚'
            },
            'logic-level': {
                'standard': 'ç¬¦åˆåŸºæœ¬é€»è¾‘ï¼Œä¸è¿èƒŒå¸¸è¯†ï¼Œé€‚åˆå¤§ä¼—å¨±ä¹ã€‚',
                'strict': 'ä¸¥æ ¼éµå¾ªé€»è¾‘è§„å¾‹ï¼Œæ¯ä¸ªç»†èŠ‚éƒ½ç»å¾—èµ·æ¨æ•²ã€‚',
                'hardcore': 'æè‡´çš„é€»è¾‘ä¸¥å¯†æ€§ï¼Œå¯èƒ½éœ€è¦ä¸“ä¸šçŸ¥è¯†æ”¯æ’‘ï¼Œè¿½æ±‚æ— æ‡ˆå¯å‡»ã€‚'
            },
            creativity: {
                'conservative': 'ä½¿ç”¨ç»å…¸çš„æµ·é¾Ÿæ±¤ç»“æ„å’Œæ¨¡å¼ï¼Œç¨³å¦¥å¯é ã€‚',
                'balanced': 'åœ¨ç»å…¸åŸºç¡€ä¸Šé€‚åº¦åˆ›æ–°ï¼Œæ—¢ç†Ÿæ‚‰åˆæ–°é²œã€‚',
                'innovative': 'å¤§èƒ†å°è¯•æ–°çš„å™äº‹æ‰‹æ³•å’Œæ¨ç†æœºåˆ¶ï¼ŒæŒ‘æˆ˜ä¼ ç»Ÿã€‚'
            }
        };

        let selectedData = {
            themes: [],
            elements: []
        };

        let selectedRole = 'player';

        // è§’è‰²é€‰æ‹©
        document.querySelectorAll('.role-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const role = this.dataset.role;
                selectRole(role);
            });
        });

        function selectRole(role) {
            selectedRole = role;
            
            // æ›´æ–°è§†è§‰åé¦ˆ
            document.querySelectorAll('.role-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`[data-role="${role}"]`).classList.add('active');
            
            // æ›´æ–°æè¿°
            const descriptions = {
                'player': 'æˆ‘æƒ³è¦æŒ‘æˆ˜æµ·é¾Ÿæ±¤è°œé¢˜ï¼Œåªéœ€è¦æ±¤é¢å†…å®¹è¿›è¡Œæ¨ç†',
                'host': 'æˆ‘è¦ä¸»æŒæµ·é¾Ÿæ±¤æ¸¸æˆï¼Œéœ€è¦å®Œæ•´çš„æ±¤é¢ã€æ±¤åº•å’Œä¸»æŒäººæ‰‹å†Œ'
            };
            document.getElementById('role-description').textContent = descriptions[role];
            
            // æ›´æ–°æŒ‰é’®æ–‡å­—
            const btn = document.getElementById('generateBtn');
            if (role === 'player') {
                btn.innerHTML = 'ğŸ§© ç”Ÿæˆæ±¤é¢æŒ‘æˆ˜';
            } else {
                btn.innerHTML = 'ğŸª ç”Ÿæˆå®Œæ•´ä¸»æŒå†…å®¹';
            }
        }

        function showDescription(selectId) {
            const select = document.getElementById(selectId);
            const descDiv = document.getElementById(selectId + '-desc');
            const value = select.value;
            
            if (value && descriptions[selectId] && descriptions[selectId][value]) {
                descDiv.textContent = descriptions[selectId][value];
                descDiv.classList.remove('hidden');
            } else {
                descDiv.classList.add('hidden');
            }
        }

        function updateSelection(type, checkbox) {
            const value = checkbox.value;
            const item = checkbox.closest('.checkbox-item');
            
            if (checkbox.checked) {
                if (!selectedData[type].includes(value)) {
                    selectedData[type].push(value);
                }
                item.classList.add('selected');
            } else {
                selectedData[type] = selectedData[type].filter(item => item !== value);
                item.classList.remove('selected');
            }
            
            updateDisplay(type);
        }

        function updateDisplay(type) {
            const display = document.getElementById(type + '-display');
            const items = selectedData[type];
            
            if (items.length === 0) {
                const placeholder = type === 'themes' ? 'è¯·é€‰æ‹©1-3ä¸ªæ ¸å¿ƒä¸»é¢˜' : 'å¯é€‰æ‹©0-5ä¸ªæƒ…èŠ‚å…ƒç´ ';
                display.innerHTML = `<span style="color: #666;">${placeholder}</span>`;
            } else {
                const tags = items.map(item => `<span class="tag">${item}</span>`).join('');
                display.innerHTML = tags;
            }
        }

        function clearAllSelections(type) {
            selectedData[type] = [];
            document.querySelectorAll(`#${type}-group .checkbox-item`).forEach(item => {
                item.classList.remove('selected');
                item.querySelector('input[type="checkbox"]').checked = false;
            });
            updateDisplay(type);
        }

        document.getElementById('promptForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (selectedData.themes.length === 0) {
                alert('è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªæ ¸å¿ƒä¸»é¢˜');
                return;
            }
            
            generateContent();
        });

        function generateContent() {
            const formData = {
                role: selectedRole,
                type: document.getElementById('type').value,
                difficulty: document.getElementById('difficulty').value,
                setting: document.getElementById('setting').value,
                characters: document.getElementById('characters').value,
                twist: document.getElementById('twist').value,
                style: document.getElementById('style').value,
                audience: document.getElementById('audience').value,
                length: document.getElementById('length').value,
                themes: selectedData.themes,
                elements: selectedData.elements,
                customElements: document.getElementById('custom-elements').value,
                emotion: document.getElementById('emotion').value,
                special: document.getElementById('special').value,
                logicLevel: document.getElementById('logic-level').value,
                creativity: document.getElementById('creativity').value
            };

            let prompt = '';
            
            if (selectedRole === 'player') {
                prompt = generatePlayerPrompt(formData);
                document.getElementById('role-badge').textContent = 'ç©å®¶æ¨¡å¼';
            } else {
                prompt = generateHostPrompt(formData);
                document.getElementById('role-badge').textContent = 'ä¸»æŒäººæ¨¡å¼';
            }

            document.getElementById('prompt-content').textContent = prompt;
            document.getElementById('output').classList.remove('hidden');
            document.getElementById('output').scrollIntoView({ behavior: 'smooth' });
        }

        function getDifficultyDescription(difficulty) {
            const descriptions = {
                'æ–°æ‰‹æ‘': 'é€‚åˆåˆæ¬¡æ¥è§¦è€…ï¼ŒçœŸç›¸ç›¸å¯¹ç®€å•ç›´æ¥',
                'å…¥é—¨çº§': 'éœ€è¦åŸºç¡€çš„é€»è¾‘æ¨ç†èƒ½åŠ›ï¼Œçº¿ç´¢è¾ƒä¸ºæ˜æ˜¾',
                'è¿›é˜¶çº§': 'éœ€è¦ä»”ç»†åˆ†æç»†èŠ‚ï¼Œå¯èƒ½æœ‰ä¸€ä¸¤ä¸ªæ€ç»´è½¬æŠ˜',
                'é«˜æ‰‹çº§': 'æ¶‰åŠå¤šå±‚æ¨ç†ï¼Œéœ€è¦ç»¼åˆåˆ†æå¤šä¸ªçº¿ç´¢',
                'å¤§å¸ˆçº§': 'é€»è¾‘é“¾æ¡å¤æ‚ï¼Œå¯èƒ½åŒ…å«å¤šé‡åè½¬',
                'ä¼ è¯´çº§': 'éœ€è¦æå¼ºçš„æ´å¯ŸåŠ›å’Œåˆ›é€ æ€§æ€ç»´',
                'åœ°ç‹±çº§': 'æŒ‘æˆ˜äººç±»æ€ç»´æé™ï¼Œéœ€è¦è·³å‡ºå¸¸è§„æ€è€ƒæ¡†æ¶'
            };
            return descriptions[difficulty.split('ï¼ˆ')[0]] || 'é€‚ä¸­';
        }

        function getLogicDescription(level) {
            const descriptions = {
                'standard': 'åŸºæœ¬é€»è¾‘åˆç†',
                'strict': 'é€»è¾‘ä¸¥å¯†æ— æ‡ˆå¯å‡»',
                'hardcore': 'æè‡´é€»è¾‘ä¸¥è°¨æ€§'
            };
            return descriptions[level] || 'æ ‡å‡†';
        }

        function getCreativityDescription(level) {
            const descriptions = {
                'conservative': 'ç»å…¸ä¼ ç»Ÿçš„å™äº‹æ–¹å¼',
                'balanced': 'ä¼ ç»Ÿä¸åˆ›æ–°çš„å¹³è¡¡',
                'innovative': 'å¤§èƒ†åˆ›æ–°çš„è¡¨ç°æ‰‹æ³•'
            };
            return descriptions[level] || 'å¹³è¡¡åˆ›æ–°';
        }

        function generatePlayerPrompt(data) {
            const explainParams = document.getElementById('explainParams').checked;
            const allElements = [...data.elements, ...(data.customElements ? data.customElements.split(',').map(s => s.trim()) : [])];
            
            let prompt = `è¯·åˆ›ä½œä¸€ä¸ªæµ·é¾Ÿæ±¤è°œé¢˜çš„æ±¤é¢ã€‚æµ·é¾Ÿæ±¤æ˜¯ä¸€ç§æƒ…å¢ƒæ¨ç†æ¸¸æˆï¼Œç©å®¶éœ€è¦é€šè¿‡æé—®æ¥æ­å¼€èƒŒåçš„çœŸç›¸ã€‚
æ ¸å¿ƒè¦æ±‚ï¼š
- è°œé¢˜å¿…é¡»æœ‰å†…åœ¨é€»è¾‘è¿è´¯æ€§ï¼Œæ¯ä¸ªç»†èŠ‚éƒ½æœ‰å…¶å­˜åœ¨çš„å¿…ç„¶æ€§
- çœŸç›¸æ­æ™“æ—¶è¦è®©äººæ„Ÿåˆ°"åŸæ¥å¦‚æ­¤"è€Œé"ç‰µå¼ºé™„ä¼š"
- é¿å…ä¾èµ–å·§åˆã€æ–‡å­—æ¸¸æˆæˆ–ä½æ¦‚ç‡äº‹ä»¶
- ç¡®ä¿å› æœé“¾æ¡æ¸…æ™°ä¸”ç¬¦åˆç°å®é€»è¾‘
- é¿å…å‡ºç°"ç©ºçµ"æˆ–"ç©ºè™š"çš„è°œé¢˜
- ç¡®ä¿ç©å®¶èƒ½é€šè¿‡å„ç§æ–¹å¼æ¥ç†è§£å¹¶è§£é‡Šè°œé¢˜çš„çœŸç›¸


åˆ›ä½œè¦æ±‚ï¼š
- ç±»å‹ï¼š${data.type}
- éš¾åº¦ï¼š${data.difficulty}
- èƒŒæ™¯ï¼š${data.setting}
- äººç‰©ï¼š${data.characters}
- åè½¬ï¼š${data.twist}
- é£æ ¼ï¼š${data.style}
- å—ä¼—ï¼š${data.audience}
- é•¿åº¦ï¼š${data.length}ï¼ˆ${getLengthRange(data.length)}ï¼‰
- ä¸»é¢˜ï¼š${data.themes.join('ã€')}
- é€»è¾‘ä¸¥å¯†åº¦ï¼š${getLogicDescription(data.logicLevel)}
- åˆ›æ„ç¨‹åº¦ï¼š${getCreativityDescription(data.creativity)}`;

            if (allElements.length > 0) {
                prompt += `
- å…³é”®å…ƒç´ ï¼š${allElements.join('ã€')}`;
            }

            if (data.emotion) {
                prompt += `
- æƒ…æ„ŸåŸºè°ƒï¼š${data.emotion}`;
            }

            if (data.special) {
                prompt += `
- ç‰¹æ®Šè¦æ±‚ï¼š${data.special}`;
            }

            // å¦‚æœé€‰æ‹©è§£é‡Šå‚æ•°ï¼Œåˆ™æ·»åŠ è¯¦ç»†è¯´æ˜
            if (explainParams) {
                prompt += `

å‚æ•°è¯´æ˜ï¼š
- ${data.type}ï¼š${descriptions.type[data.type] || ''}
- ${data.difficulty}ï¼š${getDifficultyDescription(data.difficulty)}
- ${data.setting}ï¼š${descriptions.setting[data.setting] || ''}
- ${data.characters}ï¼š${descriptions.characters[data.characters] || ''}
- ${data.twist}ï¼š${descriptions.twist[data.twist] || ''}
- ${data.style}ï¼š${descriptions.style[data.style] || ''}
- ${getLogicDescription(data.logicLevel)}ï¼š${descriptions['logic-level'][data.logicLevel] || ''}
- ${descriptions.creativity[data.creativity] || ''}ï¼š${descriptions.creativity[data.creativity] || ''}`;

                if (data.emotion) {
                    prompt += `
- ${data.emotion}ï¼š${descriptions.emotion[data.emotion] || ''}`;
                }
            }

            prompt += `

åˆ›ä½œæ ‡å‡†ï¼š
- æ±¤é¢å¿…é¡»å‘ˆç°ä¸€ä¸ªçœ‹ä¼¼çŸ›ç›¾æˆ–ä¸åˆç†çš„æƒ…å¢ƒ
- æ¯ä¸ªç»†èŠ‚éƒ½è¦ç»å¾—èµ·é€»è¾‘æ¨æ•²ï¼Œä¸èƒ½æœ‰æ¼æ´
- æè¿°è¦ç”ŸåŠ¨å…·ä½“ï¼Œèƒ½å¼•å‘å¼ºçƒˆçš„å¥½å¥‡å¿ƒ
- ç»“å°¾è¦ç•™æœ‰æ‚¬å¿µï¼Œè®©äººæƒ³è¦æ¢ç©¶çœŸç›¸
- ç¬¦åˆç›®æ ‡å—ä¼—çš„ç†è§£èƒ½åŠ›å’Œä»·å€¼è§‚
- å…³é”®ä¿¡æ¯çš„éšè—è¦å·§å¦™è€Œéåˆ»æ„
- æ¯ä¸ªè¯è¯­éƒ½ç»è¿‡æ¨æ•²ï¼Œæ—¢ä¸è¯¯å¯¼ä¹Ÿä¸æ³„éœ²


è¯·ç›´æ¥è¾“å‡ºæ±¤é¢å†…å®¹ï¼Œä¸è¦åŒ…å«ä»»ä½•è§£é‡Šæˆ–è¯´æ˜ã€‚`;

            return prompt;
        }

        function generateHostPrompt(data) {
            const explainParams = document.getElementById('explainParams').checked;
            const allElements = [...data.elements, ...(data.customElements ? data.customElements.split(',').map(s => s.trim()) : [])];
            
            let prompt = `è¯·ä¸ºæµ·é¾Ÿæ±¤æ¸¸æˆåˆ›ä½œä¸€å¥—å®Œæ•´çš„ä¸»æŒææ–™ã€‚
æ ¸å¿ƒè¦æ±‚ï¼š
- è°œé¢˜å¿…é¡»æœ‰å†…åœ¨é€»è¾‘è¿è´¯æ€§ï¼Œæ¯ä¸ªç»†èŠ‚éƒ½æœ‰å…¶å­˜åœ¨çš„å¿…ç„¶æ€§
- çœŸç›¸æ­æ™“æ—¶è¦è®©äººæ„Ÿåˆ°"åŸæ¥å¦‚æ­¤"è€Œé"ç‰µå¼ºé™„ä¼š"
- é¿å…ä¾èµ–å·§åˆã€æ–‡å­—æ¸¸æˆæˆ–ä½æ¦‚ç‡äº‹ä»¶
- ç¡®ä¿å› æœé“¾æ¡æ¸…æ™°ä¸”ç¬¦åˆç°å®é€»è¾‘
- é¿å…å‡ºç°"ç©ºçµ"æˆ–"ç©ºè™š"çš„è°œé¢˜
- ç¡®ä¿ç©å®¶èƒ½é€šè¿‡å„ç§æ–¹å¼æ¥ç†è§£å¹¶è§£é‡Šè°œé¢˜çš„çœŸç›¸

åˆ›ä½œè¦æ±‚ï¼š
- ç±»å‹ï¼š${data.type}
- éš¾åº¦ï¼š${data.difficulty}
- èƒŒæ™¯ï¼š${data.setting}
- äººç‰©ï¼š${data.characters}
- åè½¬ï¼š${data.twist}
- é£æ ¼ï¼š${data.style}
- å—ä¼—ï¼š${data.audience}
- é•¿åº¦ï¼š${data.length}ï¼ˆ${getLengthRange(data.length)}ï¼‰
- ä¸»é¢˜ï¼š${data.themes.join('ã€')}
- é€»è¾‘ä¸¥å¯†åº¦ï¼š${getLogicDescription(data.logicLevel)}
- åˆ›æ„ç¨‹åº¦ï¼š${getCreativityDescription(data.creativity)}`;

            if (allElements.length > 0) {
                prompt += `
- å…³é”®å…ƒç´ ï¼š${allElements.join('ã€')}`;
            }

            if (data.emotion) {
                prompt += `
- æƒ…æ„ŸåŸºè°ƒï¼š${data.emotion}`;
            }

            if (data.special) {
                prompt += `
- ç‰¹æ®Šè¦æ±‚ï¼š${data.special}`;
            }

            // å¦‚æœé€‰æ‹©è§£é‡Šå‚æ•°ï¼Œåˆ™æ·»åŠ è¯¦ç»†è¯´æ˜
            if (explainParams) {
                prompt += `

å‚æ•°è¯´æ˜ï¼š
- ${data.type}ï¼š${descriptions.type[data.type] || ''}
- ${data.difficulty}ï¼š${getDifficultyDescription(data.difficulty)}
- ${data.setting}ï¼š${descriptions.setting[data.setting] || ''}
- ${data.characters}ï¼š${descriptions.characters[data.characters] || ''}
- ${data.twist}ï¼š${descriptions.twist[data.twist] || ''}
- ${data.style}ï¼š${descriptions.style[data.style] || ''}
- ${data.audience}ï¼š${descriptions.audience[data.audience] || ''}
- ${getLogicDescription(data.logicLevel)}ï¼š${descriptions['logic-level'][data.logicLevel] || ''}
- ${descriptions.creativity[data.creativity] || ''}ï¼š${descriptions.creativity[data.creativity] || ''}`;

                if (data.emotion) {
                    prompt += `
- ${data.emotion}ï¼š${descriptions.emotion[data.emotion] || ''}`;
                }
            }

            prompt += `

è¯·æŒ‰ä»¥ä¸‹ç»“æ„è¾“å‡ºï¼š

ã€æ±¤é¢ã€‘
[ä¸€ä¸ªçœ‹ä¼¼çŸ›ç›¾çš„æƒ…å¢ƒæè¿°]

ã€æ±¤åº•ã€‘
èƒŒæ™¯æ•…äº‹ï¼š[è¯¦ç»†çš„äº‹ä»¶èƒŒæ™¯å’Œäººç‰©å…³ç³»]
äº‹ä»¶ç»è¿‡ï¼š[æŒ‰æ—¶é—´é¡ºåºçš„å®Œæ•´äº‹ä»¶æè¿°]
çœŸç›¸æ­ç§˜ï¼š[è§£é‡Šæ‰€æœ‰çŸ›ç›¾å’Œç–‘ç‚¹çš„æ ¸å¿ƒçœŸç›¸]
é€»è¾‘éªŒè¯ï¼š[ç¡®è®¤æ‰€æœ‰ç»†èŠ‚çš„åˆç†æ€§]

ã€ä¸»æŒæŒ‡å—ã€‘
å¼€åœºå»ºè®®ï¼š
- æ¸¸æˆè§„åˆ™è¯´æ˜
- æ°›å›´è¥é€ æŠ€å·§

é—®ç­”ç­–ç•¥ï¼š
- å…³é”®ä¿¡æ¯çš„å›ç­”åŸåˆ™
- è¯¯å¯¼ä¿¡æ¯çš„å¤„ç†æ–¹å¼
- çº¿ç´¢é‡Šæ”¾çš„èŠ‚å¥æ§åˆ¶

å¸¸è§é—®é¢˜ï¼š
- [åˆ—å‡º5-10ä¸ªç©å®¶å¯èƒ½æå‡ºçš„å…³é”®é—®é¢˜åŠæ ‡å‡†ç­”æ¡ˆ]

åˆ›ä½œæ ‡å‡†ï¼š
1. æ±¤é¢å¿…é¡»å‘ˆç°ä¸€ä¸ªçœ‹ä¼¼çŸ›ç›¾æˆ–ä¸åˆç†çš„æƒ…å¢ƒ
2. æ¯ä¸ªç»†èŠ‚éƒ½è¦ç»å¾—èµ·é€»è¾‘æ¨æ•²ï¼Œä¸èƒ½æœ‰æ¼æ´
3. æè¿°è¦ç”ŸåŠ¨å…·ä½“ï¼Œèƒ½å¼•å‘å¼ºçƒˆçš„å¥½å¥‡å¿ƒ
4. ç»“å°¾è¦ç•™æœ‰æ‚¬å¿µï¼Œè®©äººæƒ³è¦æ¢ç©¶çœŸç›¸
5. ç¬¦åˆç›®æ ‡å—ä¼—çš„ç†è§£èƒ½åŠ›å’Œä»·å€¼è§‚

æ³¨æ„äº‹é¡¹ï¼š
- é¿å…è¿‡æ—©æš´éœ²æ ¸å¿ƒä¿¡æ¯
- ä¿æŒé€»è¾‘ä¸€è‡´æ€§
- æ ¹æ®ç©å®¶è¿›åº¦è°ƒæ•´éš¾åº¦`;

            return prompt;
        }

        function getDifficultyQuestions(difficulty) {
            const questions = {
                'æ–°æ‰‹æ‘': '3-5',
                'å…¥é—¨çº§': '5-8',
                'è¿›é˜¶çº§': '8-12',
                'é«˜æ‰‹çº§': '12-18',
                'å¤§å¸ˆçº§': '18-25',
                'ä¼ è¯´çº§': '25-35',
                'åœ°ç‹±çº§': '35-50'
            };
            return questions[difficulty] || '10-15';
        }

        function getLengthRange(length) {
            const ranges = {
                'å¾®å‹': '50-100å­—',
                'çŸ­ç¯‡': '100-300å­—',
                'ä¸­ç¯‡': '300-600å­—',
                'é•¿ç¯‡': '600-1000å­—',
                'å²è¯—': '1000å­—ä»¥ä¸Š'
            };
            return ranges[length] || 'é€‚å½“ç¯‡å¹…';
        }

        function copyContent() {
            const content = document.getElementById('prompt-content').textContent;
            
            navigator.clipboard.writeText(content).then(function() {
                const button = event.target;
                const originalText = button.textContent;
                button.textContent = 'âœ… å·²å¤åˆ¶';
                button.style.background = '#007bff';
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = '#28a745';
                }, 2000);
            }, function() {
                alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶');
            });
        }
    </script>


</body></html>
