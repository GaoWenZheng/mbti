<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>小六壬</title>
    <style>
        :root {
            --primary-color: #8B1E1E;
            /* 朱砂红 */
            --primary-light: #FCE8E8;
            --text-main: #2C2C2C;
            --text-secondary: #666666;
            --bg-body: #F7F5F2;
            /* 米纸色 */
            --bg-card: #FFFFFF;
            --border-radius: 12px;
            --shadow: 0 4px 12px rgba(139, 30, 30, 0.08);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Microsoft YaHei", "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            padding: 10px;
            background-color: var(--bg-body);
            color: var(--text-main);
            line-height: 1.6;
            background-image: radial-gradient(#e0e0e0 1px, transparent 1px);
            background-size: 20px 20px;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: var(--primary-color);
            margin: 10px 0 10px;
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: 2px;
            text-shadow: 1px 1px 0px rgba(255, 255, 255, 0.8);
        }

        .card {
            background: var(--bg-card);
            border-radius: var(--border-radius);
            padding: 15px;
            box-shadow: var(--shadow);
            margin-bottom: 15px;
            border: 1px solid rgba(0, 0, 0, 0.03);
        }

        h2 {
            font-size: 1.1rem;
            color: var(--primary-color);
            margin-top: 0;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--primary-light);
            display: flex;
            align-items: center;
        }

        h2::before {
            content: '';
            display: inline-block;
            width: 4px;
            height: 16px;
            background-color: var(--primary-color);
            margin-right: 8px;
            border-radius: 2px;
        }

        /* 输入区域优化 */
        .input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            text-align: center;
            outline: none;
            transition: var(--transition);
            background: #FAFAFA;
            color: var(--text-main);
            font-weight: 600;
        }

        input:focus {
            border-color: var(--primary-color);
            background: #fff;
            box-shadow: 0 0 0 3px var(--primary-light);
        }

        /* 隐藏数字输入框的小箭头 */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        .btn-group {
            display: flex;
            gap: 10px;
        }

        button {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        #calculate {
            background-color: var(--primary-color);
            color: white;
            box-shadow: 0 4px 6px rgba(139, 30, 30, 0.2);
        }

        #calculate:active {
            transform: translateY(2px);
        }

        #random {
            background-color: #fff;
            color: var(--primary-color);
            border: 1px solid var(--primary-color);
        }

        #random:active {
            background-color: var(--primary-light);
        }

        /* 结果区域展示 */
        .result-cards {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .god-card {
            background: linear-gradient(135deg, #fff 0%, #fefefe 100%);
            border: 1px solid #eee;
            border-radius: 10px;
            padding: 12px 5px;
            /*稍微减小上下内边距*/
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .god-symbol {
            font-size: 24px;
            /* 从28px调小一点，容纳两个字 */
            font-weight: bold;
            color: var(--primary-color);
            display: block;
            margin-top: 5px;
            margin-bottom: 4px;
            font-family: "KaiTi", "STKaiti", "SimSun", serif;
            /* 楷体 */
            letter-spacing: 2px;
            /* 增加字间距，更有古韵 */
        }

        .god-summary {
            font-size: 12px;
            color: #888;
            background-color: #f7f5f2;
            padding: 2px 6px;
            border-radius: 4px;
            white-space: nowrap;
            /* 防止换行 */
            transform: scale(0.95);
            /* 稍微缩小一点显得精致 */
        }

        .god-nature {
            position: absolute;
            top: 4px;
            right: 4px;
            font-size: 10px;
            color: #999;
            border: 1px solid #eee;
            padding: 0 4px;
            border-radius: 4px;
            background: #fff;
        }

        /* Tabs 优化 */
        .tabs {
            display: flex;
            background: #f0f0f0;
            border-radius: 10px;
            padding: 4px;
            margin-bottom: 20px;
            overflow-x: auto;
        }

        .tab {
            flex: 1;
            text-align: center;
            padding: 10px 5px;
            cursor: pointer;
            border-radius: 8px;
            font-size: 14px;
            color: var(--text-secondary);
            white-space: nowrap;
            transition: var(--transition);
        }

        .tab.active {
            background-color: #fff;
            color: var(--primary-color);
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(5px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* 内容文本优化 */
        .explanation-text p {
            margin-bottom: 12px;
            color: #444;
            font-size: 15px;
        }

        .explanation-text h4 {
            color: var(--primary-color);
            margin: 15px 0 8px 0;
            font-size: 16px;
            border-left: 3px solid var(--primary-color);
            padding-left: 8px;
        }

        /* 取象网格布局 */
        .image-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 15px;
        }

        .image-item {
            background: #FAFAFA;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #eee;
        }

        .image-label {
            font-size: 12px;
            color: #999;
            display: block;
            margin-bottom: 4px;
        }

        .image-value {
            font-size: 14px;
            color: #333;
            font-weight: 500;
        }

        .highlight-text {
            color: var(--primary-color);
            font-weight: bold;
        }


        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
            min-width: 300px;
        }

        th,
        td {
            padding: 10px;
            border-bottom: 1px solid #eee;
            text-align: left;
        }

        th {
            background-color: #f9f9f9;
            color: var(--text-secondary);
            font-weight: 600;
        }

        tr:last-child td {
            border-bottom: none;
        }

        .hidden {
            display: none;
        }

        /* 徽章样式 */
        .badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            margin-right: 5px;
            background: #eee;
        }

        .badge-suitable {
            background: #e6f7ed;
            color: #008a45;
        }

        .badge-unsuitable {
            background: #fbeaea;
            color: #d32f2f;
        }

        /* --- 新增样式开始 --- */
        /* 时间轴样式 */
        .timeline {
            position: relative;
            padding-left: 20px;
            border-left: 2px solid #eee;
            margin-left: 10px;
            margin-bottom: 25px;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 20px;
        }

        .timeline-dot {
            position: absolute;
            left: -26px;
            top: 0;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: #ddd;
            border: 2px solid #fff;
        }

        .timeline-dot.start {
            background: #8bc34a;
        }

        /* 起因-绿 */
        .timeline-dot.process {
            background: #ffc107;
        }

        /* 经过-黄 */
        .timeline-dot.end {
            background: #8B1E1E;
        }

        /* 结果-红 */

        .timeline-title {
            font-weight: bold;
            font-size: 14px;
            color: #333;
            margin-bottom: 4px;
        }

        .timeline-content {
            font-size: 13px;
            color: #666;
            background: #fafafa;
            padding: 8px;
            border-radius: 6px;
        }

        /* 结果详情网格 */
        .image-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 10px;
        }

        .image-item {
            background: #FAFAFA;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #eee;
        }

        .image-label {
            font-size: 12px;
            color: #999;
            display: block;
            margin-bottom: 4px;
        }

        .image-value {
            font-size: 14px;
            color: #333;
            font-weight: 500;
        }

        .highlight-text {
            color: #8B1E1E;
            font-weight: bold;
        }

        /* --- 动态结果卡片样式 --- */
        #mainSummary {
            padding: 20px;
            border-radius: 12px;
            font-size: 15px;
            text-align: justify;
            line-height: 1.8;
            margin-top: 15px;

            /* 核心修改：边框和背景现在通过 JS 动态控制，这里只设基础属性 */
            border: 1px solid transparent;
            color: #333;
            /* 默认深灰字，保证阅读清晰 */

            transition: all 0.5s ease;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
            position: relative;
            overflow: hidden;
        }

        /* 增加纹理层，让渐变更有质感 */
        #mainSummary::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: radial-gradient(#000 1px, transparent 1px);
            background-size: 20px 20px;
            opacity: 0.03;
            /* 极淡的噪点 */
            pointer-events: none;
        }

        /* 结果徽章样式 (动态变色) */
        .verdict-badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 20px;
            /* 胶囊形 */
            font-size: 13px;
            font-weight: bold;
            margin-right: 8px;
            vertical-align: middle;
            letter-spacing: 1px;
            background: rgba(255, 255, 255, 0.7);
            /* 半透明白底 */
            border: 1px solid currentColor;
            /* 边框跟随文字颜色 */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        /* --- 新增样式结束 --- */
    </style>
</head>

<body>
    <div class="container">
        <h1>小六壬</h1>

        <div class="card">
            <h2>起卦</h2>
            <div class="input-section">
                <div style="margin-bottom: 10px; font-size: 14px; color: #666;">请输入三个数字 (1-999)</div>
                <div class="input-group">
                    <input type="number" id="num1" min="1" max="999" placeholder="数一">
                    <input type="number" id="num2" min="1" max="999" placeholder="数二">
                    <input type="number" id="num3" min="1" max="999" placeholder="数三">
                </div>
                <div class="btn-group">
                    <button id="random">随机生成</button>
                    <button id="calculate">立即占卜</button>
                </div>
            </div>
        </div>

        <div id="resultSection" class="hidden">
            <!-- 结果摘要卡片 -->
            <div class="card" style="border-top: 4px solid var(--primary-color);">
                <h2>占卜结果</h2>
                <div class="result-cards" id="resultCards">
                    <!-- JS 生成卡片 -->
                </div>
                <div id="mainSummary"
                    style="background: #FDF6F6; padding: 12px; border-radius: 8px; color: #5D1010; font-size: 15px; text-align: justify; line-height: 1.8;">
                    <!-- JS 生成总评 -->
                </div>
            </div>

            <!-- 详细解释卡片 -->
            <div class="card">
                <div class="tabs">
                    <div class="tab active" data-tab="basic">基本含义</div>
                    <div class="tab" data-tab="detail">详细分析</div>
                    <div class="tab" data-tab="combo">组合关系</div>
                    <div class="tab" data-tab="images">万物类象</div>
                </div>

                <div id="basicTab" class="tab-content active explanation-text">
                    <div id="basicExplanation"></div>
                </div>

                <div id="detailTab" class="tab-content explanation-text">
                    <div id="detailExplanation"></div>
                </div>

                <div id="comboTab" class="tab-content explanation-text">
                    <div id="comboExplanation"></div>
                </div>

                <div id="imagesTab" class="tab-content explanation-text">
                    <div id="imagesExplanation"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 六神数据 (新增 color 和 accent 属性)
        const liuShen = [
            {
                name: "大安",
                symbol: "大安",
                summary: "大吉 · 事事昌顺",
                nature: "土",
                // 杏仁黄：代表稳重、土地、收获
                color: "#FFF9C4",
                accent: "#FBC02D",
                basic: "大安事事昌，求财在坤方，失物去不远，宅舍保安康。",
                detail: "大安为六神之首，主吉利平安，诸事大吉大利。代表稳定、和谐、顺利，是最好的卦象。",
                characteristics: "平稳、祥和、顺畅、圆满、吉祥",
                suitable: "婚姻、交易、出行、求财、入宅",
                unsuitable: "诉讼、争斗"
            },
            {
                name: "留连",
                symbol: "留连",
                summary: "中凶 · 谋事未明",
                nature: "火",
                // 沉香褐：代表拖延、陈旧、土地焦灼
                color: "#D7CCC8",
                accent: "#5D4037",
                basic: "留连事难成，求谋日未明，官事凶不利，移徙阻南行。",
                detail: "留连主延迟、拖延、犹豫不决。事情进展缓慢，需要耐心等待。代表事物的发展会遇到阻碍，需要时间才能解决。",
                characteristics: "拖延、徘徊、犹豫、迂回、等待",
                suitable: "守成、等待时机、细水长流的事业",
                unsuitable: "急事、快速见效的事情"
            },
            {
                name: "速喜",
                symbol: "速喜",
                summary: "中吉 · 喜讯立至",
                nature: "木",
                // 桃夭粉：代表喜庆、桃花、火焰
                color: "#FFCDD2",
                accent: "#C62828",
                basic: "速喜喜来临，求财向东行，失物申午未，行人立便至。",
                detail: "速喜代表好消息快速到来，事情迅速见效。主快速、愉快、顺利成功。是一个喜气洋洋的卦象，预示着好事将至。",
                characteristics: "迅速、欢喜、兴旺、顺利、成功",
                suitable: "婚姻、庆典、升迁、求财、会友",
                unsuitable: "需要长期规划的事情"
            },
            {
                name: "赤口",
                symbol: "赤",
                summary: "小凶 · 口舌是非",
                nature: "金",
                // 银朱红/灰：代表兵刃、争吵、尖锐 (这里用冷灰带红调)
                color: "#E0E0E0",
                accent: "#455A64", // 或者用深红 #BF360C
                basic: "赤口主口舌，官非切要防，失物西方寻，行人未回转。",
                detail: "赤口代表口舌是非、争端、灾祸。主不顺、阻碍、争执。做事容易遇到阻力，人际关系可能紧张，需要小心处理。",
                characteristics: "冲突、争执、不顺、阻碍、是非",
                suitable: "慎重决策、避免冲突",
                unsuitable: "谈判、面试、交友、出行"
            },
            {
                name: "小吉",
                symbol: "小吉",
                summary: "小吉 · 诸事和合",
                nature: "水",
                // 柳梢绿：代表生机、小确幸、水流
                color: "#C8E6C9",
                accent: "#2E7D32",
                basic: "小吉主小益，求财宜早行，婚姻与家宅，诸事皆平平。",
                detail: "小吉象征小的吉祥与顺利。虽不及大安那样圆满，但仍属吉利之象。主平稳中有小的收获，事情会朝好的方向发展。",
                characteristics: "小利、渐进、平稳、温和、略有收获",
                suitable: "小投资、小生意、循序渐进的事业",
                unsuitable: "大动作、大决策"
            },
            {
                name: "空亡",
                symbol: "空亡",
                summary: "大凶 · 音信全无",
                nature: "金",
                // 苍山灰/蓝：代表虚空、夜晚、深邃
                color: "#CFD8DC",
                accent: "#37474F",
                basic: "空亡阴阳空，病者药不灵，寻人不相见，官事有虚惊。",
                detail: "空亡代表虚无、空寂、难以把握。主不确定性大，事情难以预测，容易落空。是变化多端的卦象，需谨慎对待。",
                characteristics: "虚无、难测、无常、变化、不实",
                suitable: "思考、冥想、放下、暂缓行动",
                unsuitable: "投资、婚姻、合作、重要决策"
            }
        ];
        // 扩展的万物类象数据 (新增核心)
        const shenShaImages = {
            "大安": {
                direction: "西南、东北、东方",
                color: "黄、青、棕",
                number: "1、5、7",
                body: "腿脚、肝胆、脾胃",
                person: "贵人、长辈、官员",
                place: "田园、老宅、树林、机关",
                lostItem: "没丢远，在家里或熟悉处，静止物体旁。",
                disease: "病情稳定，多为慢性或内伤。",
                time: "白天，长久"
            },
            "留连": {
                direction: "南方、东南",
                color: "红、紫、粉",
                number: "2、8、6",
                body: "心脏、眼睛、血液",
                person: "妇女、纠缠者、拖延者",
                place: "街道、窗户边、厨房",
                lostItem: "被遮盖或借走。寻找需时间，在明亮处。",
                disease: "拖延反复，发热炎症。",
                time: "缓慢，拖延"
            },
            "速喜": {
                direction: "东方、南方",
                color: "绿、红、橙",
                number: "3、6、9",
                body: "头部、咽喉、神经",
                person: "信使、年轻人、艺人",
                place: "学校、花草旁、高处",
                lostItem: "立刻找能找到，在显眼处，往东/南找。",
                disease: "急病，外感风寒或上火。",
                time: "迅速，早晨"
            },
            "赤口": {
                direction: "西方",
                color: "白、金、银",
                number: "4、7、10",
                body: "肺部、牙齿、骨骼",
                person: "军警、律师、仇人",
                place: "金属旁、工地、缺口处",
                lostItem: "恐已损坏或被盗。在金属/尖锐物旁。",
                disease: "呼吸道，牙痛，外伤手术。",
                time: "下午，秋季"
            },
            "小吉": {
                direction: "北方",
                color: "黑、蓝、灰",
                number: "1、5、6",
                body: "肾脏、耳朵、泌尿",
                person: "商人、司机、桃花",
                place: "水边、浴室、阴暗处",
                lostItem: "没丢，放忘了。在水边/低处/潮湿处。",
                disease: "寒湿，拉肚子，感冒。",
                time: "夜晚，冬季"
            },
            "空亡": {
                direction: "中央、西北",
                color: "白、灰、透明",
                number: "0、3、6",
                body: "神经衰弱、虚症",
                person: "僧道、骗子、无能者",
                place: "荒地、坟墓、空房",
                lostItem: "难找了，可能遗失在路上或不存在。",
                disease: "虚病，精神萎靡，查无病因。",
                time: "半夜，虚无"
            }
        };
        // 六神组合意义
        const combinations = {
            "大安+大安": "双重吉祥，万事顺遂，事业兴旺，家庭和睦，财运亨通。最佳组合之一。",
            "大安+留连": "基础稳固但进展缓慢，需耐心等待时机。事情会有好结果，但需要时间。",
            "大安+速喜": "平稳中有喜讯，吉上加吉。事业顺利，喜事连连，财运亨通。非常好的组合。",
            "大安+赤口": "表面平稳内有波折，需防小人口舌。总体仍偏向吉利，但需谨慎处理人际关系。",
            "大安+小吉": "稳中有进，平安喜乐。虽无大起大落，但安稳平顺，适合稳扎稳打的事业。",
            "大安+空亡": "表面安稳但内藏变数，需防诈骗和不切实际的幻想。实际收获可能不如预期。",

            "留连+大安": "开始缓慢但最终平安，需耐心等待时机成熟。长期来看是吉利的。",
            "留连+留连": "双重拖延，事情一再延迟，进展极慢。需要重新规划或改变策略，否则难有成果。",
            "留连+速喜": "先难后易，初期进展缓慢但后期迎来转机。坚持耐心等待会有好结果。",
            "留连+赤口": "重重阻碍，困难重重。易有争端和不顺，需谨慎处理，避免冲突升级。",
            "留连+小吉": "缓慢中有小顺利，拖延中有小收获。进展不快但偶有小惊喜，总体偏中性。",
            "留连+空亡": "进退两难，徘徊不定。计划易落空，决策难实施，容易陷入迷茫状态。",

            "速喜+大安": "喜庆平安，双重吉利。好事将至且能持久，是理想的组合。",
            "速喜+留连": "喜讯来临但可能被延迟，好事在即但需要耐心等待最终成果。",
            "速喜+速喜": "双喜临门，喜上加喜。好消息接连不断，事业爱情双丰收。极为吉利的组合。",
            "速喜+赤口": "喜中有忧，好事中可能夹杂口舌是非。需警惕好事被破坏的可能性。",
            "速喜+小吉": "大喜小喜，双重欢喜。各方面都有好的发展，虽不是惊天动地但令人满意。",
            "速喜+空亡": "表面喜庆但实质空虚，恐有虚假喜讯。需辨别真伪，防止被表象迷惑。",

            "赤口+大安": "始难终易，初有口舌最终平安。虽有波折但结局尚可，需沉着应对。",
            "赤口+留连": "口舌拖延，争执不断且难以解决。事情发展不顺，需避免正面冲突。",
            "赤口+速喜": "口舌后有转机，虽有争端但很快得到解决。短暂的风波后会迎来好消息。",
            "赤口+赤口": "双重口舌，争端不断。极易发生冲突和官司，是非缠身。需要特别谨慎处理。",
            "赤口+小吉": "有争端但不严重，小有不顺但能度过。需要耐心调和矛盾，寻找共识。",
            "赤口+空亡": "口舌虚惊，虽有争端但可能不了了之。表面紧张但实质可能无大碍。",

            "小吉+大安": "小吉大顺，逐步走向稳定繁荣。渐进发展，最终达到理想状态。",
            "小吉+留连": "小利慢得，进展缓慢但有小收获。需耐心积累，不可急于求成。",
            "小吉+速喜": "喜上加喜，好事不断。小利之后迎来大喜，是积极向上的组合。",
            "小吉+赤口": "小利中有口舌，进展受阻但不至于严重。需谨慎处理人际关系。",
            "小吉+小吉": "双重小利，步步为营。虽无大起大落，但稳健前进，逐步积累。",
            "小吉+空亡": "表面有利但可能落空，需警惕虚假的小利益。实际收获可能不如预期。",

            "空亡+大安": "初虚后实，开始不确定但最终平安。耐心等待会有转机。",
            "空亡+留连": "虚无飘渺，难以把握且进展缓慢。容易陷入迷茫和拖延，需要明确方向。",
            "空亡+速喜": "虚中有喜，意外的好消息。原本不确定的事情可能出现转机。",
            "空亡+赤口": "虚惊一场，表面紧张但可能不了了之。需防止虚假信息引发争端。",
            "空亡+小吉": "空中有小益，看似虚无但有小收获。意外的小惊喜可能出现。",
            "空亡+空亡": "双重虚无，极不确定性。计划难以实现，事情难以把握，容易前功尽弃。"
        };
        const combinations1 = {
            "1,1,1": "大安三连，万事大吉！此为上上签，凡事顺遂，心想事成。人际关系和睦，财运亨通，健康平安。",
            "1,1,2": "大安加留连，开始顺利但后期可能有所延迟。整体来说仍属吉相，只是需要多一分耐心。",
            "1,1,3": "大安配速喜，双喜临门！近期将有好消息传来，事业顺利，家庭和睦。",
            "1,1,4": "大安遇赤口，表面平顺暗藏波折。需警惕他人言辞，避免卷入口舌是非中。",
            "1,1,5": "大安加小吉，吉上加吉。虽然进展不大，但稳定向好，可以期待佳绩。",
            "1,1,6": "大安遇空亡，前途光明但结果虚无。切勿过于乐观，谨防空欢喜一场。",
            "1,2,1": "始终有大安护佑，中间虽有留连延宕，整体仍属吉相。需耐心等待时机。",
            "1,2,2": "开局顺利但后期停滞不前。事情进展缓慢，需要更多耐心和毅力。",
            "1,2,3": "前期顺利，中间略有停滞，最终迎来喜讯。整体发展趋势向好。",
            "1,2,4": "开始平稳，过程拖延，最后恐有口舌之争。需谨言慎行，避免冲突。",
            "1,2,5": "始于大安，中有留连，终得小吉。历经波折但终有所获，值得坚持。",
            "1,2,6": "起初平安顺遂，中间拖延，最终难有成果。不宜抱太大期望，量力而行。",
            "1,3,1": "大安速喜相间，佳讯频传。近期运势极佳，可大胆向前。",
            "1,3,2": "开局顺利，中间喜事，但后期有延宕。成功在望但需耐心等待最终结果。",
            "1,3,3": "大安加速喜，双喜临门！事业有成，爱情甜蜜，财运亨通。",
            "1,3,4": "前期平顺，中间有喜，但终局有口舌之争。喜中有忧，需防小人。",
            "1,3,5": "起始平安，中间喜讯，结尾小吉。整体运势甚佳，可放心前行。",
            "1,3,6": "初见平安，中有喜事，但终局难成。喜事可能是虚假的，需保持冷静。",
            "1,4,1": "始终有大安，但中间有口舌之争。谨言慎行，避开是非，终得平安。",
            "1,4,2": "开始顺利，中间有口舌是非，最后情况停滞。需要谨慎处理人际关系。",
            "1,4,3": "前期平顺，中有争执，后有喜事。暂时的困难不会影响最终的好结果。",
            "1,4,4": "大安遇双赤口，表面平顺但暗流涌动。近期应特别注意人际关系，避免卷入纠纷。",
            "1,4,5": "起初平安，中有口舌，终得小吉。经历波折后有小幅好转，守得云开见月明。",
            "1,4,6": "始于大安，中有口舌，终陷空亡。事情起步顺利但后继乏力，需慎重考虑。",
            "1,5,1": "大安小吉相伴，平安顺遂。近期运势平稳向好，可稳步前进。",
            "1,5,2": "起初平安，中有小吉，终有留连。整体偏吉，但结果可能迟迟不来，需耐心等待。",
            "1,5,3": "始于大安，中有小吉，终得速喜。运势渐入佳境，好事将至。",
            "1,5,4": "开始平顺，中间略有起色，但最终有口舌之争。需警惕乐极生悲的情况。",
            "1,5,5": "大安配小吉，稳中有进。虽无大起大落，但平稳发展，终有所成。",
            "1,5,6": "起初顺利，中间小有起色，但最终恐难成事。切勿操之过急，量力而行。",
            "1,6,1": "大安空亡交替，起伏较大。表面风平浪静，实则暗藏变数，需谨慎行事。",
            "1,6,2": "开始平安，中间遇阻，最后陷入延宕。事情进展不如预期，需调整计划。",
            "1,6,3": "始于平安，中有虚无，终得喜事。历经波折终有转机，守得云开见月明。",
            "1,6,4": "起初顺利，中间遇阻，最后有口舌之争。局势逐渐恶化，需未雨绸缪。",
            "1,6,5": "大安后遇空亡再得小吉。经历挫折后略有转机，但不宜期望过高。",
            "1,6,6": "始于大安终于空亡，内藏凶兆。表面顺利实则难成，不宜贸然行事。",
            "2,1,1": "留连后见大安，拖延后终得平安。虽有波折但结局圆满，耐心等待即可。",
            "2,1,2": "留连大安再留连，反复拖延。事情进展缓慢，需有持久耐心。",
            "2,1,3": "开始拖延，中间平顺，最后有喜。等待过后将迎来好消息，值得期待。",
            "2,1,4": "初有留连，中得大安，终遇赤口。前途尚可但结局需谨慎，防范口舌是非。",
            "2,1,5": "留连后得大安小吉，渐入佳境。初期虽有阻滞但后势看好，可稳步前进。",
            "2,1,6": "起初停滞，中间平顺，最后难成。有惊无险但结果不佳，期望不宜过高。",
            "2,2,1": "留连再留连，最后见大安。长期停滞后终见曙光，守得云开见月明。",
            "2,2,2": "留连三连，久久难决。事情停滞不前，需重新规划或寻求外力帮助。",
            "2,2,3": "双重留连后见速喜。长时间的等待后将迎来转机，耐心坚持即可。",
            "2,2,4": "留连再留连，终见赤口。长期拖延后恐有口舌之争，需防范冲突。",
            "2,2,5": "留连再留连，终得小吉。经久不决后略有转机，但进展有限。",
            "2,2,6": "留连再留连，终陷空亡。长期停滞后恐难有成果，应当重新考虑。",
            "2,3,1": "初有留连，中见速喜，终得大安。先难后易，渐入佳境，结局圆满。",
            "2,3,2": "开始停滞，中间有喜，后又陷入拖延。喜事可能因故延迟，需耐心等待。",
            "2,3,3": "留连后遇速喜连连，喜上加喜。等待后迎来好消息，事业爱情双丰收。",
            "2,3,4": "起初停滞，中间有喜，最后有口舌之争。喜中藏忧，需提防小人。",
            "2,3,5": "留连后得速喜小吉，渐入佳境。经过等待后运势向好，可适度乐观。",
            "2,3,6": "初有留连，中有速喜，终陷空亡。喜事可能是虚假的，需保持警惕。",
            "2,4,1": "起初停滞，中有口舌，终得大安。历经波折后柳暗花明，结局圆满。",
            "2,4,2": "开始拖延，中间有争执，后又陷入停滞。局势不容乐观，需谨慎行事。",
            "2,4,3": "留连后有赤口速喜，先苦后甜。经历口舌是非后迎来喜事，守得云开见月明。",
            "2,4,4": "留连后遇双赤口，凶上加凶。近期运势低迷，诸事不顺，应当避免冲突。",
            "2,4,5": "初有留连，中有赤口，终得小吉。经历波折后略有好转，但不宜大意。",
            "2,4,6": "留连赤口终空亡，凶相连连。处境艰难且难有转机，需重新规划。",
            "2,5,1": "留连后小吉大安，渐入佳境。起初进展缓慢但逐渐好转，结局圆满。",
            "2,5,2": "留连小吉再留连，反复拖延。有所好转但又陷入停滞，需再接再厉。",
            "2,5,3": "初有留连，中有小吉，终得速喜。运势渐入佳境，好事将至。",
            "2,5,4": "留连小吉终赤口，喜中有忧。表面向好但暗藏口舌之争，需谨言慎行。",
            "2,5,5": "留连后得小吉连连，稳中有升。虽进展缓慢但持续向好，可稳步前进。",
            "2,5,6": "留连小吉终空亡，好景不长。短暂好转后难有成果，期望不宜过高。",
            "2,6,1": "留连空亡终大安，绝处逢生。起初困难重重但最终柳暗花明，结局圆满。",
            "2,6,2": "留连空亡再留连，举步维艰。处境艰难且持续拖延，需调整策略或寻求帮助。",
            "2,6,3": "初有留连，中陷空亡，终得速喜。绝境中迎来转机，柳暗花明又一村。",
            "2,6,4": "留连空亡终赤口，凶相迭起。处境不断恶化，需防范更多冲突。",
            "2,6,5": "初有留连，中陷空亡，终得小吉。经历大起大落后略有好转，但进展有限。",
            "2,6,6": "留连后双空亡，凶上加凶。事情难有进展且难见成果，应当及时止损。",
            "3,1,1": "速喜大安再大安，吉上加吉。喜事连连，事业有成，生活美满。",
            "3,1,2": "速喜后得大安留连。喜事后有所拖延，但整体向好，需耐心等待。",
            "3,1,3": "速喜大安再速喜，吉运连连。近期喜事不断，可大展宏图。",
            "3,1,4": "速喜大安终赤口，喜中有忧。开始顺利但结局有口舌之争，需防小人。",
            "3,1,5": "速喜大安终小吉，吉运不断。运势持续向好，可放心前行。",
            "3,1,6": "速喜大安终空亡，虚假之喜。表面喜庆但结果难成，需保持理性。",
            "3,2,1": "速喜后遇留连大安。喜事可能暂时受阻但终有圆满结局，耐心等待即可。",
            "3,2,2": "速喜后遇双留连，喜事难续。好事来了又被推迟，需持久耐心。",
            "3,2,3": "速喜留连再速喜，否极泰来。喜事虽有波折但终得成就，守得云开见月明。",
            "3,2,4": "速喜留连终赤口，喜事生变。起初顺利但后继乏力，终有口舌之争。",
            "3,2,5": "速喜留连终小吉，曲折向好。经历波折后略有起色，可持谨慎乐观态度。",
            "3,2,6": "速喜留连终空亡，喜事难成。起初喜悦但后继无力，结果可能落空。",
            "3,3,1": "速喜连连后得大安，大吉大利。喜事连连，事业有成，前途光明。",
            "3,3,2": "速喜再速喜终留连。连续的好消息后可能有所拖延，但整体仍属大吉。",
            "3,3,3": "速喜三连，喜上加喜！事业、爱情、财运三丰收，近期运势极佳。",
            "3,3,4": "速喜连连终赤口，乐极生悲。连续好转后可能有口舌之争，需保持警惕。",
            "3,3,5": "速喜连连终小吉，喜气洋洋。近期喜事连连，运势一片大好。",
            "3,3,6": "速喜再速喜终空亡，好景不长。连续的好消息可能是虚假的，需保持理性判断。",
            "3,4,1": "速喜赤口终大安，曲折向好。中间虽有口舌之争但最终局面大好。",
            "3,4,2": "速喜后有赤口留连，喜事受阻。好转后遇到口舌之争且进展缓慢，需多加谨慎。",
            "3,4,3": "速喜赤口再速喜，否极泰来。经历口舌是非后又迎来喜事，大起大落后终有好转。",
            "3,4,4": "速喜后遇双赤口，喜转为忧。起初顺利但后续争端不断，需提防小人。",
            "3,4,5": "速喜赤口终小吉，曲折有望。中间虽有波折但最终略有好转，可保持谨慎乐观。",
            "3,4,6": "速喜赤口终空亡，好景不再。喜事后遇口舌之争且结果难成，需重新规划。",
            "3,5,1": "速喜小吉终大安，吉运连连。起初喜事后续持续向好，结局圆满。",
            "3,5,2": "速喜小吉终留连，渐入佳境后暂停。整体向好但最终可能有所延迟，需耐心等待。",
            "3,5,3": "速喜小吉再速喜，喜上加喜。近期运势极佳，可大胆向前。",
            "3,5,4": "速喜小吉终赤口，喜中有忧。前期顺利但最终有口舌之争，需谨言慎行。",
            "3,5,5": "速喜小吉再小吉，吉运绵绵。虽无大起大落但运势持续向好，可稳步前进。",
            "3,5,6": "速喜小吉终空亡，喜事难成。起初顺利但最终结果可能落空，不宜期望过高。",
            "3,6,1": "速喜空亡终大安，绝处逢生。中间虽有挫折但最终柳暗花明，结局圆满。",
            "3,6,2": "速喜空亡终留连，波折不断。喜事后有挫折且进展缓慢，需重新规划。",
            "3,6,3": "速喜空亡再速喜，否极泰来。大起大落后迎来转机，守得云开见月明。",
            "3,6,4": "速喜空亡终赤口，步步惊心。起初喜悦但后续困难重重且有口舌之争，需谨慎应对。",
            "3,6,5": "速喜空亡终小吉，起伏较大后略有转机。经历波折后稍有好转，期望不宜过高。",
            "3,6,6": "速喜空亡再空亡，喜事是假。表面喜悦但实则难成，切勿轻信。",
            "4,1,1": "赤口后遇双大安，否极泰来。初有口舌之争但后续转好，结局圆满。",
            "4,1,2": "赤口大安终留连，曲折渐进。口舌之后有所好转但进展缓慢，需耐心等待。",
            "4,1,3": "赤口大安终速喜，渐入佳境。起初有口舌是非但逐渐好转，最终迎来喜事。",
            "4,1,4": "赤口大安终赤口，忧中有喜又生忧。中间略有好转但终局仍有口舌之争，需谨慎应对。",
            "4,1,5": "赤口大安终小吉，否极泰来。起初有口舌是非但后续转好，结局可期。",
            "4,1,6": "赤口大安终空亡，好景不长。中间略有好转但最终难成，需调整预期。",
            "4,2,1": "赤口留连终大安，柳暗花明。历经口舌之争和拖延后终得平安，值得期待。",
            "4,2,2": "赤口后遇双留连，举步维艰。口舌之争后又陷入长期停滞，困难重重。",
            "4,2,3": "赤口留连终速喜，否极泰来。经历口舌和拖延后迎来转机，守得云开见月明。",
            "4,2,4": "赤口留连终赤口，凶上加凶。口舌不断且进展缓慢，局势不容乐观。",
            "4,2,5": "赤口留连终小吉，曲折有望。经历波折后略有转机，可保持谨慎乐观。",
            "4,2,6": "赤口留连终空亡，凶相迭起。困境不断且难见成果，应当及时止损。",
            "4,3,1": "赤口速喜终大安，渐入佳境。起初有口舌之争但逐渐好转，最终平安顺遂。",
            "4,3,2": "赤口速喜终留连，喜中有忧。中间喜事但最终进展缓慢，需耐心等待。",
            "4,3,3": "赤口速喜再速喜，渐入佳境。口舌之后连续迎来喜事，运势大好。",
            "4,3,4": "赤口速喜终赤口，忧喜交加。中间短暂好转但终局仍有口舌之争，起伏较大。",
            "4,3,5": "赤口速喜终小吉，曲折向好。起初有口舌之争但后续渐入佳境，可保持乐观。",
            "4,3,6": "赤口速喜终空亡，好景不长。中间喜事但最终难成，期望不宜过高。",
            "4,4,1": "赤口连连终大安，绝处逢生。连续的口舌之争后终见曙光，柳暗花明。",
            "4,4,2": "赤口连连终留连，举步维艰。连续的口舌之争后又陷入停滞，困难重重。",
            "4,4,3": "赤口连连终速喜，柳暗花明。连续的不顺后迎来转机，守得云开见月明。",
            "4,4,4": "赤口三连，大凶之兆。近期运势极差，口舌是非不断，应当避免冲突和重要决策。",
            "4,4,5": "赤口连连终小吉，绝处逢生。长期不顺后略有转机，但改善有限。",
            "4,4,6": "赤口连连终空亡，凶上加凶。处境不断恶化且难见成果，应当及时止损。",
            "4,5,1": "赤口小吉终大安，曲折向好。中间略有好转后局面大好，值得期待。",
            "4,5,2": "赤口小吉终留连，稍有转机但进展缓慢。需耐心等待，不宜急躁。",
            "4,5,3": "赤口小吉终速喜，柳暗花明。起初不顺但逐渐好转，最终迎来喜事。",
            "4,5,4": "赤口小吉终赤口，好景不长。中间略有好转但终局仍有口舌之争，需谨慎应对。",
            "4,5,5": "赤口小吉再小吉，危中有机。起初有口舌之争但后续稳步向好，可保持谨慎乐观。",
            "4,5,6": "赤口小吉终空亡，转机不长。中间略有好转但最终难成，需调整预期。",
            "4,6,1": "赤口空亡终大安，绝处逢生。历经最困难的阶段后柳暗花明，结局圆满。",
            "4,6,2": "赤口空亡终留连，举步维艰。困境不断且进展缓慢，需重新规划。",
            "4,6,3": "赤口空亡终速喜，否极泰来。经历最艰难的时期后迎来转机，守得云开见月明。",
            "4,6,4": "赤口空亡终赤口，凶上加凶。处境持续恶化，需避免冲突和重要决策。",
            "4,6,5": "赤口空亡终小吉，绝处逢生。大起大落后略有转机，但改善有限。",
            "4,6,6": "赤口空亡再空亡，大凶之象。近期运势极差，万事难成，应当避静修身。",
            "5,1,1": "小吉大安再大安，吉运连连。起初略有好转后局面大好，可大胆向前。",
            "5,1,2": "小吉大安终留连，前景光明但进展缓慢。整体向好但需耐心等待。",
            "5,1,3": "小吉大安终速喜，吉上加吉。运势持续向好且终有喜事，可放心前行。",
            "5,1,4": "小吉大安终赤口，喜中有忧。前期顺利但最终有口舌之争，需谨言慎行。",
            "5,1,5": "小吉大安再小吉，稳步向好。运势持续向好，可稳步前进。",
            "5,1,6": "小吉大安终空亡，好景不长。前期顺利但最终难成，期望不宜过高。",
            "5,2,1": "小吉留连终大安，渐入佳境。略有好转后虽有拖延但终局圆满，值得期待。",
            "5,2,2": "小吉留连再留连，进展缓慢。有所好转但长期停滞，需持久耐心。",
            "5,2,3": "小吉留连终速喜，柳暗花明。小有起色后虽有拖延但终见喜事，可保持乐观。",
            "5,2,4": "小吉留连终赤口，好景不长。起初向好但后续停滞且有口舌之争，需谨慎应对。",
            "5,2,5": "小吉留连再小吉，稳中有升。虽有拖延但整体向好，可持谨慎乐观态度。",
            "5,2,6": "小吉留连终空亡，转机难续。初有起色但进展缓慢且难有成果，需调整预期。",
            "5,3,1": "小吉速喜终大安，吉运连连。运势持续向好且终局圆满，近期大吉大利。",
            "5,3,2": "小吉速喜终留连，喜中有忧。前期持续向好但最终有所延宕，需耐心等待。",
            "5,3,3": "小吉速喜再速喜，喜气洋洋。运势持续攀升，近期喜事连连，可大展宏图。",
            "5,3,4": "小吉速喜终赤口，乐极生悲。前期顺利但终局有口舌之争，需提防小人。",
            "5,3,5": "小吉速喜终小吉，吉运绵绵。运势持续向好，可稳步前进。",
            "5,3,6": "小吉速喜终空亡，好景不长。前期顺利但最终结果可能落空，不宜期望过高。",
            "5,4,1": "小吉赤口终大安，曲折向好。中间有口舌之争但终局圆满，值得期待。",
            "5,4,2": "小吉赤口终留连，好景不再。起初向好但后续有口舌之争且进展缓慢，需多加谨慎。",
            "5,4,3": "小吉赤口终速喜，否极泰来。经历波折后终见喜事，守得云开见月明。",
            "5,4,4": "小吉赤口再赤口，喜忧交加。略有好转但后续口舌不断，需谨言慎行。",
            "5,4,5": "小吉赤口终小吉，危中有机。中间有波折但整体略有好转，可持谨慎乐观态度。",
            "5,4,6": "小吉赤口终空亡，前景堪忧。起初好转但后续困难重重且难有成果，需重新规划。",
            "5,5,1": "小吉连连终大安，稳中向好。持续小幅好转后终得大安，可放心前行。",
            "5,5,2": "小吉连连终留连，进展缓慢。持续小幅好转但最终有所延宕，需耐心等待。",
            "5,5,3": "小吉连连终速喜，渐入佳境。稳步向好后终得喜事，运势大好。",
            "5,5,4": "小吉连连终赤口，喜中有忧。持续好转但终局有口舌之争，需提防小人。",
            "5,5,5": "小吉三连，渐入佳境。虽无大起大落但运势持续向好，可稳步前进。",
            "5,5,6": "小吉连连终空亡，好景不长。前期稳步向好但最终难成，期望不宜过高。",
            "5,6,1": "小吉空亡终大安，绝处逢生。中间有挫折但终局圆满，柳暗花明又一村。",
            "5,6,2": "小吉空亡终留连，好景不再。起初好转但后续有挫折且进展缓慢，需调整策略。",
            "5,6,3": "小吉空亡终速喜，否极泰来。经历大起大落后迎来转机，守得云开见月明。",
            "5,6,4": "小吉空亡终赤口，前景堪忧。起初好转但后续困难重重且有口舌之争，需谨慎应对。",
            "5,6,5": "小吉空亡终小吉，起伏较大。大起大落后略有转机，但进展有限。",
            "5,6,6": "小吉空亡再空亡，前景黯淡。起初略好但后续困难重重且难有成果，需重新规划。",
            "6,1,1": "空亡大安再大安，绝处逢生。起初困难但后续一片光明，柳暗花明又一村。",
            "6,1,2": "空亡大安终留连，渐入佳境但进展缓慢。中间好转但最终有所延宕，需耐心等待。",
            "6,1,3": "空亡大安终速喜，否极泰来。历经困境后运势大好，可放心前行。",
            "6,1,4": "空亡大安终赤口，起伏较大。中间好转但终局有口舌之争，需谨言慎行。",
            "6,1,5": "空亡大安终小吉，渐入佳境。起初困难但后续渐有起色，可持谨慎乐观态度。",
            "6,1,6": "空亡大安终空亡，好景不长。中间短暂好转但始终难有成果，不宜期望过高。",
            "6,2,1": "空亡留连终大安，绝处逢生。历经最困难的阶段后柳暗花明，结局圆满。",
            "6,2,2": "空亡留连再留连，举步维艰。困境不断且进展缓慢，需重新规划。",
            "6,2,3": "空亡留连终速喜，否极泰来。经历艰难的时期后迎来转机，守得云开见月明。",
            "6,2,4": "空亡留连终赤口，凶上加凶。处境持续恶化，需避免冲突和重要决策。",
            "6,2,5": "空亡留连终小吉，绝处逢生。大起大落后略有转机，但改善有限。",
            "6,2,6": "空亡留连再空亡，大凶之象。近期运势极差，万事难成，应当避静修身。",
            "6,3,1": "空亡速喜终大安，否极泰来。大起大落后终局圆满，柳暗花明又一村。",
            "6,3,2": "空亡速喜终留连，喜中有忧。中间有喜但最终进展缓慢，需耐心等待。",
            "6,3,3": "空亡速喜再速喜，绝处逢生。起初困难但后续喜事连连，可大胆向前。",
            "6,3,4": "空亡速喜终赤口，大起大落。中间有喜但终局有口舌之争，需谨言慎行。",
            "6,3,5": "空亡速喜终小吉，渐入佳境。起初困难但后续喜事连连，可保持乐观。",
            "6,3,6": "空亡速喜终空亡，虚假之喜。中间好转但始终难有实质性成果，需保持理性。",
            "6,4,1": "空亡赤口终大安，柳暗花明。历经最困难的阶段后见曙光，结局圆满。",
            "6,4,2": "空亡赤口终留连，举步维艰。困境不断且进展缓慢，需重新规划。",
            "6,4,3": "空亡赤口终速喜，否极泰来。经历最艰难的时期后迎来转机，守得云开见月明。",
            "6,4,4": "空亡赤口再赤口，大凶之兆。处境持续恶化，口舌是非不断，应避静修身。",
            "6,4,5": "空亡赤口终小吉，起伏较大。大起大落后略有好转，但进展有限。",
            "6,4,6": "空亡赤口终空亡，大凶之象。近期运势极差，万事难成，应当避静修身。",
            "6,5,1": "空亡小吉终大安，柳暗花明。历经困境后逐渐好转，终局圆满。",
            "6,5,2": "空亡小吉终留连，稍有转机但进展缓慢。需耐心等待，不宜急躁。",
            "6,5,3": "空亡小吉终速喜，绝处逢生。起初困难但后续渐入佳境，终有喜事。",
            "6,5,4": "空亡小吉终赤口，起伏较大。中间略有好转但终局有口舌之争，需谨慎应对。",
            "6,5,5": "空亡小吉再小吉，渐有转机。经历困境后稳步向好，可持谨慎乐观态度。",
            "6,5,6": "空亡小吉终空亡，转机不长。中间略有好转但始终难有成果，不宜期望过高。",
            "6,6,1": "空亡再空亡终大安，绝处逢生。长期处于困境后终见曙光，柳暗花明。",
            "6,6,2": "空亡连连终留连，大凶之兆。长期处于困境且进展缓慢，需重新规划。",
            "6,6,3": "空亡连连终速喜，绝处逢生。长期困境后终有转机，守得云开见月明。",
            "6,6,4": "空亡连连终赤口，大凶之兆。困境不断且有口舌之争，处境不断恶化。",
            "6,6,5": "空亡连连终小吉，柳暗花明。长期困境后略有转机，但改善有限。",
            "6,6,6": "空亡三连，大凶之象。近期运势极差，万事难成，应当避静修身，重新规划。"
        };
        // 补充：六神五行与详细物象库 (用于生成画面感)
        const wuXing = {
            "大安": {
                element: "土",
                weather: "阴天、多云、微风",
                images: ["大地", "高山", "老宅", "田园", "方盒", "土堆", "家具"]
            },
            "留连": {
                element: "火",
                weather: "炎热、燥热、久阴",
                images: ["纠结", "绳索", "街道", "旧物", "证件", "灶台", "枷锁"]
            },
            "速喜": {
                element: "木",
                weather: "有风、晴朗、虹霓",
                images: ["鲜花", "树木", "奖杯", "喜报", "乐器", "电塔", "飞机"]
            },
            "赤口": {
                element: "金",
                weather: "雷雨、冰雹、大风",
                images: ["刀剑", "剪刀", "金属", "白骨", "牙齿", "锯子", "破损"]
            },
            "小吉": {
                element: "水",
                weather: "小雨、湿润、雪",
                images: ["小溪", "酒水", "鱼缸", "汤药", "黑衣", "桃花", "幼苗"]
            },
            "空亡": {
                element: "金",
                weather: "阴晦、雾霾、空旷",
                images: ["空盒子", "荒地", "枯骨", "牢狱", "窟窿", "影子", "空气"]
            }
        };
        // 计算六神函数
        function calculateLiuShen(num) {
            let remainder = num % 6;
            if (remainder === 0) remainder = 6;
            return liuShen[remainder - 1];
        }

        // 获取详细万物取象 (完整版：含三传、核心、天气、物象)
        function getDetailedImages(god1, god2, god3) {
            let result = "";

            // 获取数据
            const s1 = shenShaImages[god1.name]; // 扩展详情
            const s2 = shenShaImages[god2.name];
            const s3 = shenShaImages[god3.name];

            const w1 = wuXing[god1.name]; // 五行物象库
            const w2 = wuXing[god2.name];
            const w3 = wuXing[god3.name];

            // ------------------------------------------
            // 1. 三传流年推演 (Timeline)
            // ------------------------------------------
            result += `<h4>🔮 三传流年推演</h4>`;
            result += `<div class="timeline">`;

            // 起因
            result += `
            <div class="timeline-item">
                <div class="timeline-dot start"></div>
                <div class="timeline-title">起因：${god1.name}</div>
                <div class="timeline-content">
                    <div><strong>时机/人物：</strong>${s1.time} / ${s1.person}</div>
                </div>
            </div>`;

            // 经过
            result += `
            <div class="timeline-item">
                <div class="timeline-dot process"></div>
                <div class="timeline-title">经过：${god2.name}</div>
                <div class="timeline-content">
                    <div><strong>过程特征：</strong>${god2.characteristics}</div>
                </div>
            </div>`;

            // 结果
            result += `
            <div class="timeline-item">
                <div class="timeline-dot end"></div>
                <div class="timeline-title">结果：${god3.name}</div>
                <div class="timeline-content">
                    <div><strong>最终定局：</strong>${god3.detail}</div>
                </div>
            </div>`;
            result += `</div>`;

            // ------------------------------------------
            // 2. 天象与环境 (新增模块)
            // ------------------------------------------

            // 随机抽取物象组合 (每个神煞抽2个词)
            const imgPool = [
                ...getRandomElements(w1.images, 2),
                ...getRandomElements(w2.images, 2),
                ...getRandomElements(w3.images, 2)
            ];

            // 简单的天气组合逻辑
            let weatherStr = `${w1.weather} 转 ${w3.weather}`;
            if (god1.name === god3.name) weatherStr = `持续${w1.weather}`;

            result += `<h4>🌤️ 天象与物象组合</h4>`;
            result += `<div class="image-grid">`;

            // 天气
            result += `
            <div class="image-item" style="grid-column: span 2;">
                <span class="image-label">☁️ 天气/天时</span>
                <span class="image-value">${weatherStr}</span>
            </div>`;

            // 画面感 (蒙太奇)
            result += `
            <div class="image-item" style="grid-column: span 2; border-left: 3px solid var(--primary-color);">
                <span class="image-label">🖼️ 读象 · 画面感 (直觉联想)</span>
                <span class="image-value highlight-text" style="line-height:1.6; letter-spacing:1px;">
                    ${imgPool.join(" · ")}
                </span>
            </div>`;
            result += `</div>`;

            // ------------------------------------------
            // 3. 核心定局详情 (以结果论)
            // ------------------------------------------
            result += `<h4>📍 核心定局 (以结果论)</h4>`;
            result += `<div class="image-grid">`;

            // 方位
            result += `
            <div class="image-item">
                <span class="image-label">🧭 寻人/物方位</span>
                <span class="image-value highlight-text">${s3.direction}</span>
            </div>`;

            // 数字
            result += `
            <div class="image-item">
                <span class="image-label">🔢 关联数字</span>
                <span class="image-value">${s3.number}</span>
            </div>`;

            // 失物
            result += `
            <div class="image-item" style="grid-column: span 2;">
                <span class="image-label">🔍 失物线索</span>
                <span class="image-value">${s3.lostItem}</span>
            </div>`;

            // 身体/疾病
            result += `
            <div class="image-item" style="grid-column: span 2;">
                <span class="image-label">💊 身体/疾病</span>
                <span class="image-value">${s3.disease} <br><span style="font-size:12px;color:#888">部位：${s3.body}</span></span>
            </div>`;

            // 颜色
            result += `
            <div class="image-item">
                <span class="image-label">🎨 幸运颜色</span>
                <span class="image-value">${s3.color}</span>
            </div>`;

            // 场所
            result += `
            <div class="image-item">
                <span class="image-label">🏠 场所特征</span>
                <span class="image-value">${s3.place}</span>
            </div>`;

            result += `</div>`; // End grid

            return result;
        }
        // 判断五行相生
        function hasWuXingGeneration(elements) {
            const generationPairs = [
                ["木", "火"], ["火", "土"], ["土", "金"], ["金", "水"], ["水", "木"]
            ];
            for (let pair of generationPairs) {
                if (elements.includes(pair[0]) && elements.includes(pair[1])) return true;
            }
            return false;
        }

        // 判断五行相克
        function hasWuXingRestriction(elements) {
            const restrictionPairs = [
                ["木", "土"], ["土", "水"], ["水", "火"], ["火", "金"], ["金", "木"]
            ];
            for (let pair of restrictionPairs) {
                if (elements.includes(pair[0]) && elements.includes(pair[1])) return true;
            }
            return false;
        }

        // 从数组中随机选取n个元素
        function getRandomElements(array, n) {
            const shuffled = [...array].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, n);
        }

        // 当页面加载完成时
        document.addEventListener('DOMContentLoaded', function () {
            // 获取DOM元素
            const num1Input = document.getElementById('num1');
            const num2Input = document.getElementById('num2');
            const num3Input = document.getElementById('num3');
            const calculateBtn = document.getElementById('calculate');
            const randomBtn = document.getElementById('random');
            const resultSection = document.getElementById('resultSection');
            const resultCards = document.getElementById('resultCards');
            const mainSummary = document.getElementById('mainSummary');

            const basicExplanation = document.getElementById('basicExplanation');
            const detailExplanation = document.getElementById('detailExplanation');
            const comboExplanation = document.getElementById('comboExplanation');
            const imagesExplanation = document.getElementById('imagesExplanation');

            // 设置标签切换功能
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', function () {
                    // 移除所有标签的active类
                    tabs.forEach(t => t.classList.remove('active'));
                    // 添加当前标签的active类
                    this.classList.add('active');

                    // 隐藏所有内容
                    const tabContents = document.querySelectorAll('.tab-content');
                    tabContents.forEach(content => content.classList.remove('active'));

                    // 显示当前标签对应的内容
                    const tabId = this.getAttribute('data-tab');
                    document.getElementById(tabId + 'Tab').classList.add('active');
                });
            });

            // 点击计算按钮时
            calculateBtn.addEventListener('click', function () {
                const num1 = parseInt(num1Input.value);
                const num2 = parseInt(num2Input.value);
                const num3 = parseInt(num3Input.value);

                // 验证输入
                if (isNaN(num1) || isNaN(num2) || isNaN(num3) ||
                    num1 < 1 || num1 > 999 || num2 < 1 || num2 > 999 || num3 < 1 || num3 > 999) {
                    alert('请输入三个1-999之间的数字');
                    return;
                }
                const num11 = (num1 - 1) % 6 + 1;
                const num22 = (num11 + num2 + 4) % 6 + 1;
                const num33 = (num22 + num3 + 4) % 6 + 1;
                // 计算六神
                const god1 = calculateLiuShen(num11);
                const god2 = calculateLiuShen(num22);
                const god3 = calculateLiuShen(num33);
                const he = `${num11},${num22},${num33}`;
                // 显示结果
                displayResult(num1, num2, num3, god1, god2, god3, he);
            });

            // 点击随机按钮时
            randomBtn.addEventListener('click', function () {
                //生成三个随机数字
                const num1 = Math.floor(Math.random() * 999) + 1;
                const num2 = Math.floor(Math.random() * 999) + 1;
                const num3 = Math.floor(Math.random() * 999) + 1;
                const num11 = (num1 - 1) % 6 + 1;
                const num22 = (num11 + num2 + 4) % 6 + 1;
                const num33 = (num22 + num3 + 4) % 6 + 1;
                // 显示随机数字
                num1Input.value = num1;
                num2Input.value = num2;
                num3Input.value = num3;

                // 计算六神
                const god1 = calculateLiuShen(num11);
                const god2 = calculateLiuShen(num22);
                const god3 = calculateLiuShen(num33);
                const he = `${num11},${num22},${num33}`;
                // 显示结果
                displayResult(num1, num2, num3, god1, god2, god3, he);
            });
            // 动态生成渐变背景样式
            function applyDynamicTheme(element, g1, g2, g3) {
                // 1. 生成三段式渐变 (135度，从左上到右下)
                // g1(起因) -> g2(经过) -> g3(结果)
                const gradient = `linear-gradient(135deg, ${g1.color} 0%, ${g2.color} 50%, ${g3.color} 100%)`;

                // 2. 应用背景
                element.style.background = gradient;

                // 3. 应用边框色 (使用"结果"的主题色，加深视觉定性)
                element.style.borderColor = g3.accent;

                // 4. 返回徽章的样式 (供内部HTML使用)
                return `color: ${g3.accent}; border-color: ${g3.accent};`;
            }
            // 显示结果函数
            function displayResult(num1, num2, num3, god1, god2, god3, he) {
                // 显示结果区域
                resultSection.classList.remove('hidden');

                // 顶部卡片展示三个神煞
                let cardsHTML = `
                    <div class="god-card">
                        <span class="god-nature">${god1.nature}</span>
                        <span class="god-symbol">${god1.symbol}</span>
                        <span class="god-summary" style="background-color: ${god1.color}; border-color: ${god1.accent};">${god1.summary}</span>
                    </div>
                    <div class="god-card">
                        <span class="god-nature">${god2.nature}</span>
                        <span class="god-symbol">${god2.symbol}</span>
                        <span class="god-summary" style="background-color: ${god2.color}; border-color: ${god2.accent};">${god2.summary}</span>
                    </div>
                    <div class="god-card">
                        <span class="god-nature">${god3.nature}</span>
                        <span class="god-symbol">${god3.symbol}</span>
                        <span class="god-summary" style="background-color: ${god3.color}; border-color: ${god3.accent};">${god3.summary}</span>
                    </div>
                `;
                resultCards.innerHTML = cardsHTML;
                // 1. 应用动态样式到主卡片
                // badgeStyle 将用于下面的徽章 span
                const badgeStyle = applyDynamicTheme(mainSummary, god1, god2, god3);

                // 2. 简单的吉凶文本判断 (仅用于显示文字，不控制颜色)
                const goodGods = ["大安", "速喜", "小吉"];
                let label = "";
                if (god3.name === "空亡") label = "虚空 · 变数";
                else if (goodGods.includes(god3.name)) label = "吉象 · 顺遂";
                else label = "凶象 · 慎行";

                // 3. 生成 HTML
                mainSummary.innerHTML = `
                    <span class="verdict-badge" style="${badgeStyle}">${label}</span>
                    <strong>总断：</strong>${combinations1[he] || "数据组合待补充..."}
                `;

                // 基本解释
                let basicHTML = `
                    <h4>${god1.name}</h4>
                    <p>${god1.basic}</p>
                    
                    <h4>${god2.name}</h4>
                    <p>${god2.basic}</p>
                    
                    <h4>${god3.name}</h4>
                    <p>${god3.basic}</p>
                `;

                basicExplanation.innerHTML = basicHTML;

                // 详细解释
                let detailHTML = `
                    <h4>${god1.name}</h4>
                    <p>${god1.detail}</p>
                    <p><strong>特性:</strong> ${god1.characteristics}</p>
                    <p><span class="badge badge-suitable">宜</span>${god1.suitable}</p>
                    <p><span class="badge badge-unsuitable">忌</span>${god1.unsuitable}</p>
                    
                    <h4>${god2.name}</h4>
                    <p>${god2.detail}</p>
                    <p><strong>特性:</strong> ${god2.characteristics}</p>
                    <p><span class="badge badge-suitable">宜</span>${god2.suitable}</p>
                    <p><span class="badge badge-unsuitable">忌</span>${god2.unsuitable}</p>
                    
                    <h4>${god3.name}</h4>
                    <p>${god3.detail}</p>
                    <p><strong>特性:</strong> ${god3.characteristics}</p>
                    <p><span class="badge badge-suitable">宜</span>${god3.suitable}</p>
                    <p><span class="badge badge-unsuitable">忌</span>${god3.unsuitable}</p>
                `;

                detailExplanation.innerHTML = detailHTML;

                // 组合解释
                let comboHTML = `
                    <h4>${god1.name} + ${god2.name}</h4>
                    <p>${combinations[`${god1.name}+${god2.name}`]}</p>
                    
                    <h4>${god2.name} + ${god3.name}</h4>
                    <p>${combinations[`${god2.name}+${god3.name}`]}</p>
                    
                    <h4>${god1.name} + ${god3.name}</h4>
                    <p>${combinations[`${god1.name}+${god3.name}`]}</p>
                    
                    <h4>三神组合总体解读</h4>
                    <p>${getTripleComboExplanation(god1, god2, god3)}</p>
                `;

                comboExplanation.innerHTML = comboHTML;

                // 万物取象
                let imagesHTML = getDetailedImages(god1, god2, god3);
                imagesExplanation.innerHTML = imagesHTML;

                // 滚动到结果区域
                resultSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }

            // 三神组合解释函数
            function getTripleComboExplanation(god1, god2, god3) {
                const gods = [god1, god2, god3];
                const godNames = gods.map(g => g.name);

                // 统计各个神煞出现的次数
                const counts = {};
                godNames.forEach(name => {
                    counts[name] = (counts[name] || 0) + 1;
                });

                // 判断是否有三个相同的神煞
                if (Object.values(counts).includes(3)) {
                    const godName = Object.keys(counts).find(key => counts[key] === 3);

                    switch (godName) {
                        case "大安":
                            return "三重大安，最为吉利，万事如意，大吉大利。事业有成，家庭幸福，财运亨通，健康平安。一切顺遂，无往不利。";
                        case "留连":
                            return "三重留连，极度拖延，事情停滞不前。需要彻底改变策略或放弃当前计划。陷入漫长等待，难有突破。";
                        case "速喜":
                            return "三重速喜，极大喜事即将到来。可能有意外之喜，惊喜连连。事业、爱情、财运都有极好的发展。";
                        case "赤口":
                            return "三重赤口，极度不顺，多有口舌是非，争端不断。需特别小心人际关系，避免冲突和官司。";
                        case "小吉":
                            return "三重小吉，稳步上升，逐渐积累。虽无大喜大悲，但平稳发展，积少成多，最终可能有不错的成果。";
                        case "空亡":
                            return "三重空亡，极度虚无，计划难以实现。现实与理想有很大差距，需重新审视目标，避免痴心妄想。";
                    }
                }

                // 判断是否有两个相同的神煞
                if (Object.values(counts).includes(2)) {
                    const repeatedGod = Object.keys(counts).find(key => counts[key] === 2);
                    const singleGod = Object.keys(counts).find(key => counts[key] === 1);

                    let result = `${repeatedGod}之象加强，${singleGod}之象辅助。`;

                    // 根据不同组合给出具体解释
                    if (repeatedGod === "大安") {
                        result += "以平安稳定为主，";
                        if (singleGod === "速喜") {
                            result += "兼有喜庆之象，大吉大利。";
                        } else if (singleGod === "小吉") {
                            result += "兼有小吉之象，稳中有进，平安顺遂。";
                        } else if (singleGod === "留连") {
                            result += "但有拖延之象，虽平安但进展缓慢。";
                        } else if (singleGod === "赤口") {
                            result += "但有口舌之象，虽平安但需防小人。";
                        } else if (singleGod === "空亡") {
                            result += "但有虚无之象，表面平安内有变数。";
                        }
                    } else if (repeatedGod === "留连") {
                        result += "以拖延徘徊为主，进展缓慢，";
                        if (singleGod === "大安") {
                            result += "但最终会有平安结果。";
                        } else if (singleGod === "速喜") {
                            result += "但最终会有转机。";
                        } else if (singleGod === "小吉") {
                            result += "中间可能有小的收获。";
                        } else if (singleGod === "赤口") {
                            result += "且多有口舌是非，处境困难。";
                        } else if (singleGod === "空亡") {
                            result += "且多有虚无迷茫，难以把握。";
                        }
                    } else if (repeatedGod === "速喜") {
                        result += "以喜庆为主，好事将至，";
                        if (singleGod === "大安") {
                            result += "且能保持平安稳定，非常吉利。";
                        } else if (singleGod === "留连") {
                            result += "但可能有所延迟，需要耐心等待。";
                        } else if (singleGod === "小吉") {
                            result += "兼有小吉之象，喜气洋洋。";
                        } else if (singleGod === "赤口") {
                            result += "但也有口舌之象，喜中有忧。";
                        } else if (singleGod === "空亡") {
                            result += "但也有虚无之象，喜事可能有变数。";
                        }
                    } else if (repeatedGod === "赤口") {
                        result += "以口舌是非为主，多有争端，";
                        if (singleGod === "大安") {
                            result += "但最终会趋于平安。";
                        } else if (singleGod === "留连") {
                            result += "且争端难以解决，拖延不决。";
                        } else if (singleGod === "速喜") {
                            result += "但最终会有转机，迎来好消息。";
                        } else if (singleGod === "小吉") {
                            result += "但有小吉调和，不至于太严重。";
                        } else if (singleGod === "空亡") {
                            result += "但可能是虚惊一场，不了了之。";
                        }
                    } else if (repeatedGod === "小吉") {
                        result += "以小吉小利为主，稳步发展，";
                        if (singleGod === "大安") {
                            result += "兼有平安之象，稳中向好。";
                        } else if (singleGod === "留连") {
                            result += "但进展较慢，需要耐心等待。";
                        } else if (singleGod === "速喜") {
                            result += "兼有速喜之象，可能迎来好转机。";
                        } else if (singleGod === "赤口") {
                            result += "但有口舌之象，小有波折。";
                        } else if (singleGod === "空亡") {
                            result += "但有虚无之象，可能虚有其表。";
                        }
                    } else if (repeatedGod === "空亡") {
                        result += "以虚无难测为主，变数很大，";
                        if (singleGod === "大安") {
                            result += "但最终会趋于平安。";
                        } else if (singleGod === "留连") {
                            result += "且进展缓慢，难以把握。";
                        } else if (singleGod === "速喜") {
                            result += "但可能有意外之喜。";
                        } else if (singleGod === "赤口") {
                            result += "且可能有口舌之争，但多为虚惊。";
                        } else if (singleGod === "小吉") {
                            result += "但可能有小的收获，不至于一无所获。";
                        }
                    }

                    return result;
                }

                // 三个不同的神煞
                // 判断整体吉凶
                const positiveGods = ["大安", "速喜", "小吉"];
                const negativeGods = ["赤口", "留连", "空亡"];

                let positiveCount = 0;
                let negativeCount = 0;

                godNames.forEach(name => {
                    if (positiveGods.includes(name)) positiveCount++;
                    if (negativeGods.includes(name)) negativeCount++;
                });

                let result = "三神各异，变化多端。";

                if (positiveCount > negativeCount) {
                    result += "总体偏向吉利，虽有波折但基本向好。";
                } else if (positiveCount < negativeCount) {
                    result += "总体偏向不利，多有困难和阻碍。";
                } else {
                    result += "吉凶参半，喜忧参半，需具体问题具体分析。";
                }

                // 具体组合的特殊解释
                if (godNames.includes("大安") && godNames.includes("速喜") && godNames.includes("小吉")) {
                    result += "大安、速喜、小吉三吉并临，非常吉利。事业有成，喜事连连，财运亨通。";
                } else if (godNames.includes("赤口") && godNames.includes("留连") && godNames.includes("空亡")) {
                    result += "赤口、留连、空亡三凶同现，非常不利。多有口舌是非，进展缓慢，变数很大。";
                } else if (godNames.includes("大安") && godNames.includes("速喜")) {
                    result += "大安与速喜相助，主大吉大利。";
                } else if (godNames.includes("赤口") && godNames.includes("空亡")) {
                    result += "赤口与空亡相随，防虚假争端。";
                }

                return result;
            }
        });
    </script>
</body>

</html>
