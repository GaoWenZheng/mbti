<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å°å…­å£¬</title>
    <style>
        :root {
            --primary-color: #8B1E1E;
            /* æœ±ç ‚çº¢ */
            --primary-light: #FCE8E8;
            --text-main: #2C2C2C;
            --text-secondary: #666666;
            --bg-body: #F7F5F2;
            /* ç±³çº¸è‰² */
            --bg-card: #FFFFFF;
            --border-radius: 12px;
            --shadow: 0 4px 12px rgba(139, 30, 30, 0.08);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Microsoft YaHei", "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            padding: 10px;
            background-color: var(--bg-body);
            color: var(--text-main);
            line-height: 1.6;
            background-image: radial-gradient(#e0e0e0 1px, transparent 1px);
            background-size: 20px 20px;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: var(--primary-color);
            margin: 10px 0 10px;
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: 2px;
            text-shadow: 1px 1px 0px rgba(255, 255, 255, 0.8);
        }

        .card {
            background: var(--bg-card);
            border-radius: var(--border-radius);
            padding: 15px;
            box-shadow: var(--shadow);
            margin-bottom: 15px;
            border: 1px solid rgba(0, 0, 0, 0.03);
        }

        h2 {
            font-size: 1.1rem;
            color: var(--primary-color);
            margin-top: 0;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--primary-light);
            display: flex;
            align-items: center;
        }

        h2::before {
            content: '';
            display: inline-block;
            width: 4px;
            height: 16px;
            background-color: var(--primary-color);
            margin-right: 8px;
            border-radius: 2px;
        }

        /* è¾“å…¥åŒºåŸŸä¼˜åŒ– */
        .input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            text-align: center;
            outline: none;
            transition: var(--transition);
            background: #FAFAFA;
            color: var(--text-main);
            font-weight: 600;
        }

        input:focus {
            border-color: var(--primary-color);
            background: #fff;
            box-shadow: 0 0 0 3px var(--primary-light);
        }

        /* éšè—æ•°å­—è¾“å…¥æ¡†çš„å°ç®­å¤´ */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        .btn-group {
            display: flex;
            gap: 10px;
        }

        button {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        #calculate {
            background-color: var(--primary-color);
            color: white;
            box-shadow: 0 4px 6px rgba(139, 30, 30, 0.2);
        }

        #calculate:active {
            transform: translateY(2px);
        }

        #random {
            background-color: #fff;
            color: var(--primary-color);
            border: 1px solid var(--primary-color);
        }

        #random:active {
            background-color: var(--primary-light);
        }

        /* ç»“æœåŒºåŸŸå±•ç¤º */
        .result-cards {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .god-card {
            background: linear-gradient(135deg, #fff 0%, #fefefe 100%);
            border: 1px solid #eee;
            border-radius: 10px;
            padding: 12px 5px;
            /*ç¨å¾®å‡å°ä¸Šä¸‹å†…è¾¹è·*/
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .god-symbol {
            font-size: 24px;
            /* ä»28pxè°ƒå°ä¸€ç‚¹ï¼Œå®¹çº³ä¸¤ä¸ªå­— */
            font-weight: bold;
            color: var(--primary-color);
            display: block;
            margin-top: 5px;
            margin-bottom: 4px;
            font-family: "KaiTi", "STKaiti", "SimSun", serif;
            /* æ¥·ä½“ */
            letter-spacing: 2px;
            /* å¢åŠ å­—é—´è·ï¼Œæ›´æœ‰å¤éŸµ */
        }

        .god-summary {
            font-size: 12px;
            color: #888;
            background-color: #f7f5f2;
            padding: 2px 6px;
            border-radius: 4px;
            white-space: nowrap;
            /* é˜²æ­¢æ¢è¡Œ */
            transform: scale(0.95);
            /* ç¨å¾®ç¼©å°ä¸€ç‚¹æ˜¾å¾—ç²¾è‡´ */
        }

        .god-nature {
            position: absolute;
            top: 4px;
            right: 4px;
            font-size: 10px;
            color: #999;
            border: 1px solid #eee;
            padding: 0 4px;
            border-radius: 4px;
            background: #fff;
        }

        /* Tabs ä¼˜åŒ– */
        .tabs {
            display: flex;
            background: #f0f0f0;
            border-radius: 10px;
            padding: 4px;
            margin-bottom: 20px;
            overflow-x: auto;
        }

        .tab {
            flex: 1;
            text-align: center;
            padding: 10px 5px;
            cursor: pointer;
            border-radius: 8px;
            font-size: 14px;
            color: var(--text-secondary);
            white-space: nowrap;
            transition: var(--transition);
        }

        .tab.active {
            background-color: #fff;
            color: var(--primary-color);
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(5px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* å†…å®¹æ–‡æœ¬ä¼˜åŒ– */
        .explanation-text p {
            margin-bottom: 12px;
            color: #444;
            font-size: 15px;
        }

        .explanation-text h4 {
            color: var(--primary-color);
            margin: 15px 0 8px 0;
            font-size: 16px;
            border-left: 3px solid var(--primary-color);
            padding-left: 8px;
        }

        /* å–è±¡ç½‘æ ¼å¸ƒå±€ */
        .image-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 15px;
        }

        .image-item {
            background: #FAFAFA;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #eee;
        }

        .image-label {
            font-size: 12px;
            color: #999;
            display: block;
            margin-bottom: 4px;
        }

        .image-value {
            font-size: 14px;
            color: #333;
            font-weight: 500;
        }

        .highlight-text {
            color: var(--primary-color);
            font-weight: bold;
        }


        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
            min-width: 300px;
        }

        th,
        td {
            padding: 10px;
            border-bottom: 1px solid #eee;
            text-align: left;
        }

        th {
            background-color: #f9f9f9;
            color: var(--text-secondary);
            font-weight: 600;
        }

        tr:last-child td {
            border-bottom: none;
        }

        .hidden {
            display: none;
        }

        /* å¾½ç« æ ·å¼ */
        .badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            margin-right: 5px;
            background: #eee;
        }

        .badge-suitable {
            background: #e6f7ed;
            color: #008a45;
        }

        .badge-unsuitable {
            background: #fbeaea;
            color: #d32f2f;
        }

        /* --- æ–°å¢æ ·å¼å¼€å§‹ --- */
        /* æ—¶é—´è½´æ ·å¼ */
        .timeline {
            position: relative;
            padding-left: 20px;
            border-left: 2px solid #eee;
            margin-left: 10px;
            margin-bottom: 25px;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 20px;
        }

        .timeline-dot {
            position: absolute;
            left: -26px;
            top: 0;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: #ddd;
            border: 2px solid #fff;
        }

        .timeline-dot.start {
            background: #8bc34a;
        }

        /* èµ·å› -ç»¿ */
        .timeline-dot.process {
            background: #ffc107;
        }

        /* ç»è¿‡-é»„ */
        .timeline-dot.end {
            background: #8B1E1E;
        }

        /* ç»“æœ-çº¢ */

        .timeline-title {
            font-weight: bold;
            font-size: 14px;
            color: #333;
            margin-bottom: 4px;
        }

        .timeline-content {
            font-size: 13px;
            color: #666;
            background: #fafafa;
            padding: 8px;
            border-radius: 6px;
        }

        /* ç»“æœè¯¦æƒ…ç½‘æ ¼ */
        .image-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 10px;
        }

        .image-item {
            background: #FAFAFA;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #eee;
        }

        .image-label {
            font-size: 12px;
            color: #999;
            display: block;
            margin-bottom: 4px;
        }

        .image-value {
            font-size: 14px;
            color: #333;
            font-weight: 500;
        }

        .highlight-text {
            color: #8B1E1E;
            font-weight: bold;
        }

        /* --- åŠ¨æ€ç»“æœå¡ç‰‡æ ·å¼ --- */
        #mainSummary {
            padding: 20px;
            border-radius: 12px;
            font-size: 15px;
            text-align: justify;
            line-height: 1.8;
            margin-top: 15px;

            /* æ ¸å¿ƒä¿®æ”¹ï¼šè¾¹æ¡†å’ŒèƒŒæ™¯ç°åœ¨é€šè¿‡ JS åŠ¨æ€æ§åˆ¶ï¼Œè¿™é‡Œåªè®¾åŸºç¡€å±æ€§ */
            border: 1px solid transparent;
            color: #333;
            /* é»˜è®¤æ·±ç°å­—ï¼Œä¿è¯é˜…è¯»æ¸…æ™° */

            transition: all 0.5s ease;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
            position: relative;
            overflow: hidden;
        }

        /* å¢åŠ çº¹ç†å±‚ï¼Œè®©æ¸å˜æ›´æœ‰è´¨æ„Ÿ */
        #mainSummary::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: radial-gradient(#000 1px, transparent 1px);
            background-size: 20px 20px;
            opacity: 0.03;
            /* ææ·¡çš„å™ªç‚¹ */
            pointer-events: none;
        }

        /* ç»“æœå¾½ç« æ ·å¼ (åŠ¨æ€å˜è‰²) */
        .verdict-badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 20px;
            /* èƒ¶å›Šå½¢ */
            font-size: 13px;
            font-weight: bold;
            margin-right: 8px;
            vertical-align: middle;
            letter-spacing: 1px;
            background: rgba(255, 255, 255, 0.7);
            /* åŠé€æ˜ç™½åº• */
            border: 1px solid currentColor;
            /* è¾¹æ¡†è·Ÿéšæ–‡å­—é¢œè‰² */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        /* --- ç»„åˆå…³ç³»åˆ†ææ ·å¼ --- */
        .combo-card {
            background: #fff;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.02);
        }

        .combo-header {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .flow-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 15px 0;
            position: relative;
        }

        .flow-node {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #f9f9f9;
            border: 2px solid #eee;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 13px;
            z-index: 2;
        }

        .flow-arrow {
            flex: 1;
            height: 2px;
            background: #ddd;
            position: relative;
            margin: 0 5px;
        }

        .flow-arrow::after {
            content: '';
            position: absolute;
            right: 0;
            top: -4px;
            border-left: 8px solid #ddd;
            border-top: 5px solid transparent;
            border-bottom: 5px solid transparent;
        }

        /* å…³ç³»æ ‡ç­¾ (æµ®åœ¨ç®­å¤´ä¸Šæ–¹) */
        .rel-badge {
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            background: #fff;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 11px;
            border: 1px solid #ddd;
            white-space: nowrap;
        }

        /* ç”Ÿå…‹é¢œè‰² */
        .rel-sheng {
            color: #2E7D32;
            border-color: #C8E6C9;
            background: #E8F5E9;
        }

        .rel-ke {
            color: #C62828;
            border-color: #FFCDD2;
            background: #FFEBEE;
        }

        .rel-tong {
            color: #F9A825;
            border-color: #FFF59D;
            background: #FFFDE7;
        }

        .rel-xie {
            color: #1565C0;
            border-color: #BBDEFB;
            background: #E3F2FD;
        }

        .rel-hao {
            color: #6A1B9A;
            border-color: #E1BEE7;
            background: #F3E5F5;
        }

        .combo-text {
            font-size: 14px;
            color: #555;
            line-height: 1.6;
            background: #fafafa;
            padding: 10px;
            border-radius: 6px;
            margin-top: 10px;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>å°å…­å£¬</h1>

        <div class="card">
            <h2>èµ·å¦</h2>
            <div class="input-section">
                <div style="margin-bottom: 10px; font-size: 14px; color: #666;">è¯·è¾“å…¥ä¸‰ä¸ªæ•°å­— (1-999)</div>
                <div class="input-group">
                    <input type="number" id="num1" min="1" max="999" placeholder="æ•°ä¸€">
                    <input type="number" id="num2" min="1" max="999" placeholder="æ•°äºŒ">
                    <input type="number" id="num3" min="1" max="999" placeholder="æ•°ä¸‰">
                </div>
                <div class="btn-group">
                    <button id="random">éšæœºç”Ÿæˆ</button>
                    <button id="calculate">ç«‹å³å åœ</button>
                </div>
            </div>
        </div>

        <div id="resultSection" class="hidden">
            <!-- ç»“æœæ‘˜è¦å¡ç‰‡ -->
            <div class="card" style="border-top: 4px solid var(--primary-color);">
                <h2>å åœç»“æœ</h2>
                <div class="result-cards" id="resultCards">
                    <!-- JS ç”Ÿæˆå¡ç‰‡ -->
                </div>
                <div id="mainSummary"
                    style="background: #FDF6F6; padding: 12px; border-radius: 8px; color: #5D1010; font-size: 15px; text-align: justify; line-height: 1.8;">
                    <!-- JS ç”Ÿæˆæ€»è¯„ -->
                </div>
            </div>

            <!-- è¯¦ç»†è§£é‡Šå¡ç‰‡ -->
            <div class="card">
                <div class="tabs">
                    <div class="tab active" data-tab="basic">åŸºæœ¬å«ä¹‰</div>
                    <div class="tab" data-tab="detail">è¯¦ç»†åˆ†æ</div>
                    <div class="tab" data-tab="combo">ç»„åˆå…³ç³»</div>
                    <div class="tab" data-tab="images">ä¸‡ç‰©ç±»è±¡</div>
                </div>

                <div id="basicTab" class="tab-content active explanation-text">
                    <div id="basicExplanation"></div>
                </div>

                <div id="detailTab" class="tab-content explanation-text">
                    <div id="detailExplanation"></div>
                </div>

                <div id="comboTab" class="tab-content explanation-text">
                    <div id="comboExplanation"></div>
                </div>

                <div id="imagesTab" class="tab-content explanation-text">
                    <div id="imagesExplanation"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å…­ç¥æ•°æ® (æ–°å¢ color å’Œ accent å±æ€§)
        const liuShen = [
            {
                name: "å¤§å®‰",
                symbol: "å¤§å®‰",
                summary: "å¤§å‰ Â· äº‹äº‹æ˜Œé¡º",
                nature: "åœŸ",
                // æä»é»„ï¼šä»£è¡¨ç¨³é‡ã€åœŸåœ°ã€æ”¶è·
                color: "#FFF9C4",
                accent: "#FBC02D",
                basic: "å¤§å®‰äº‹äº‹æ˜Œï¼Œæ±‚è´¢åœ¨å¤æ–¹ï¼Œå¤±ç‰©å»ä¸è¿œï¼Œå®…èˆä¿å®‰åº·ã€‚",
                detail: "å¤§å®‰ä¸ºå…­ç¥ä¹‹é¦–ï¼Œä¸»å‰åˆ©å¹³å®‰ï¼Œè¯¸äº‹å¤§å‰å¤§åˆ©ã€‚ä»£è¡¨ç¨³å®šã€å’Œè°ã€é¡ºåˆ©ï¼Œæ˜¯æœ€å¥½çš„å¦è±¡ã€‚",
                characteristics: "å¹³ç¨³ã€ç¥¥å’Œã€é¡ºç•…ã€åœ†æ»¡ã€å‰ç¥¥",
                suitable: "å©šå§»ã€äº¤æ˜“ã€å‡ºè¡Œã€æ±‚è´¢ã€å…¥å®…",
                unsuitable: "è¯‰è®¼ã€äº‰æ–—"
            },
            {
                name: "ç•™è¿",
                symbol: "ç•™è¿",
                summary: "ä¸­å‡¶ Â· è°‹äº‹æœªæ˜",
                nature: "ç«",
                // æ²‰é¦™è¤ï¼šä»£è¡¨æ‹–å»¶ã€é™ˆæ—§ã€åœŸåœ°ç„¦ç¼
                color: "#D7CCC8",
                accent: "#5D4037",
                basic: "ç•™è¿äº‹éš¾æˆï¼Œæ±‚è°‹æ—¥æœªæ˜ï¼Œå®˜äº‹å‡¶ä¸åˆ©ï¼Œç§»å¾™é˜»å—è¡Œã€‚",
                detail: "ç•™è¿ä¸»å»¶è¿Ÿã€æ‹–å»¶ã€çŠ¹è±«ä¸å†³ã€‚äº‹æƒ…è¿›å±•ç¼“æ…¢ï¼Œéœ€è¦è€å¿ƒç­‰å¾…ã€‚ä»£è¡¨äº‹ç‰©çš„å‘å±•ä¼šé‡åˆ°é˜»ç¢ï¼Œéœ€è¦æ—¶é—´æ‰èƒ½è§£å†³ã€‚",
                characteristics: "æ‹–å»¶ã€å¾˜å¾Šã€çŠ¹è±«ã€è¿‚å›ã€ç­‰å¾…",
                suitable: "å®ˆæˆã€ç­‰å¾…æ—¶æœºã€ç»†æ°´é•¿æµçš„äº‹ä¸š",
                unsuitable: "æ€¥äº‹ã€å¿«é€Ÿè§æ•ˆçš„äº‹æƒ…"
            },
            {
                name: "é€Ÿå–œ",
                symbol: "é€Ÿå–œ",
                summary: "ä¸­å‰ Â· å–œè®¯ç«‹è‡³",
                nature: "æœ¨",
                // æ¡ƒå¤­ç²‰ï¼šä»£è¡¨å–œåº†ã€æ¡ƒèŠ±ã€ç«ç„°
                color: "#FFCDD2",
                accent: "#C62828",
                basic: "é€Ÿå–œå–œæ¥ä¸´ï¼Œæ±‚è´¢å‘ä¸œè¡Œï¼Œå¤±ç‰©ç”³åˆæœªï¼Œè¡Œäººç«‹ä¾¿è‡³ã€‚",
                detail: "é€Ÿå–œä»£è¡¨å¥½æ¶ˆæ¯å¿«é€Ÿåˆ°æ¥ï¼Œäº‹æƒ…è¿…é€Ÿè§æ•ˆã€‚ä¸»å¿«é€Ÿã€æ„‰å¿«ã€é¡ºåˆ©æˆåŠŸã€‚æ˜¯ä¸€ä¸ªå–œæ°”æ´‹æ´‹çš„å¦è±¡ï¼Œé¢„ç¤ºç€å¥½äº‹å°†è‡³ã€‚",
                characteristics: "è¿…é€Ÿã€æ¬¢å–œã€å…´æ—ºã€é¡ºåˆ©ã€æˆåŠŸ",
                suitable: "å©šå§»ã€åº†å…¸ã€å‡è¿ã€æ±‚è´¢ã€ä¼šå‹",
                unsuitable: "éœ€è¦é•¿æœŸè§„åˆ’çš„äº‹æƒ…"
            },
            {
                name: "èµ¤å£",
                symbol: "èµ¤",
                summary: "å°å‡¶ Â· å£èˆŒæ˜¯é",
                nature: "é‡‘",
                // é“¶æœ±çº¢/ç°ï¼šä»£è¡¨å…µåˆƒã€äº‰åµã€å°–é” (è¿™é‡Œç”¨å†·ç°å¸¦çº¢è°ƒ)
                color: "#E0E0E0",
                accent: "#455A64", // æˆ–è€…ç”¨æ·±çº¢ #BF360C
                basic: "èµ¤å£ä¸»å£èˆŒï¼Œå®˜éåˆ‡è¦é˜²ï¼Œå¤±ç‰©è¥¿æ–¹å¯»ï¼Œè¡Œäººæœªå›è½¬ã€‚",
                detail: "èµ¤å£ä»£è¡¨å£èˆŒæ˜¯éã€äº‰ç«¯ã€ç¾ç¥¸ã€‚ä¸»ä¸é¡ºã€é˜»ç¢ã€äº‰æ‰§ã€‚åšäº‹å®¹æ˜“é‡åˆ°é˜»åŠ›ï¼Œäººé™…å…³ç³»å¯èƒ½ç´§å¼ ï¼Œéœ€è¦å°å¿ƒå¤„ç†ã€‚",
                characteristics: "å†²çªã€äº‰æ‰§ã€ä¸é¡ºã€é˜»ç¢ã€æ˜¯é",
                suitable: "æ…é‡å†³ç­–ã€é¿å…å†²çª",
                unsuitable: "è°ˆåˆ¤ã€é¢è¯•ã€äº¤å‹ã€å‡ºè¡Œ"
            },
            {
                name: "å°å‰",
                symbol: "å°å‰",
                summary: "å°å‰ Â· è¯¸äº‹å’Œåˆ",
                nature: "æ°´",
                // æŸ³æ¢¢ç»¿ï¼šä»£è¡¨ç”Ÿæœºã€å°ç¡®å¹¸ã€æ°´æµ
                color: "#C8E6C9",
                accent: "#2E7D32",
                basic: "å°å‰ä¸»å°ç›Šï¼Œæ±‚è´¢å®œæ—©è¡Œï¼Œå©šå§»ä¸å®¶å®…ï¼Œè¯¸äº‹çš†å¹³å¹³ã€‚",
                detail: "å°å‰è±¡å¾å°çš„å‰ç¥¥ä¸é¡ºåˆ©ã€‚è™½ä¸åŠå¤§å®‰é‚£æ ·åœ†æ»¡ï¼Œä½†ä»å±å‰åˆ©ä¹‹è±¡ã€‚ä¸»å¹³ç¨³ä¸­æœ‰å°çš„æ”¶è·ï¼Œäº‹æƒ…ä¼šæœå¥½çš„æ–¹å‘å‘å±•ã€‚",
                characteristics: "å°åˆ©ã€æ¸è¿›ã€å¹³ç¨³ã€æ¸©å’Œã€ç•¥æœ‰æ”¶è·",
                suitable: "å°æŠ•èµ„ã€å°ç”Ÿæ„ã€å¾ªåºæ¸è¿›çš„äº‹ä¸š",
                unsuitable: "å¤§åŠ¨ä½œã€å¤§å†³ç­–"
            },
            {
                name: "ç©ºäº¡",
                symbol: "ç©ºäº¡",
                summary: "å¤§å‡¶ Â· éŸ³ä¿¡å…¨æ— ",
                nature: "é‡‘",
                // è‹å±±ç°/è“ï¼šä»£è¡¨è™šç©ºã€å¤œæ™šã€æ·±é‚ƒ
                color: "#CFD8DC",
                accent: "#37474F",
                basic: "ç©ºäº¡é˜´é˜³ç©ºï¼Œç—…è€…è¯ä¸çµï¼Œå¯»äººä¸ç›¸è§ï¼Œå®˜äº‹æœ‰è™šæƒŠã€‚",
                detail: "ç©ºäº¡ä»£è¡¨è™šæ— ã€ç©ºå¯‚ã€éš¾ä»¥æŠŠæ¡ã€‚ä¸»ä¸ç¡®å®šæ€§å¤§ï¼Œäº‹æƒ…éš¾ä»¥é¢„æµ‹ï¼Œå®¹æ˜“è½ç©ºã€‚æ˜¯å˜åŒ–å¤šç«¯çš„å¦è±¡ï¼Œéœ€è°¨æ…å¯¹å¾…ã€‚",
                characteristics: "è™šæ— ã€éš¾æµ‹ã€æ— å¸¸ã€å˜åŒ–ã€ä¸å®",
                suitable: "æ€è€ƒã€å†¥æƒ³ã€æ”¾ä¸‹ã€æš‚ç¼“è¡ŒåŠ¨",
                unsuitable: "æŠ•èµ„ã€å©šå§»ã€åˆä½œã€é‡è¦å†³ç­–"
            }
        ];
        // æ‰©å±•çš„ä¸‡ç‰©ç±»è±¡æ•°æ® (æ–°å¢æ ¸å¿ƒ)
        const shenShaImages = {
            "å¤§å®‰": {
                direction: "è¥¿å—ã€ä¸œåŒ—ã€ä¸œæ–¹",
                color: "é»„ã€é’ã€æ£•",
                number: "1ã€5ã€7",
                body: "è…¿è„šã€è‚èƒ†ã€è„¾èƒƒ",
                person: "è´µäººã€é•¿è¾ˆã€å®˜å‘˜",
                place: "ç”°å›­ã€è€å®…ã€æ ‘æ—ã€æœºå…³",
                lostItem: "æ²¡ä¸¢è¿œï¼Œåœ¨å®¶é‡Œæˆ–ç†Ÿæ‚‰å¤„ï¼Œé™æ­¢ç‰©ä½“æ—ã€‚",
                disease: "ç—…æƒ…ç¨³å®šï¼Œå¤šä¸ºæ…¢æ€§æˆ–å†…ä¼¤ã€‚",
                time: "ç™½å¤©ï¼Œé•¿ä¹…"
            },
            "ç•™è¿": {
                direction: "å—æ–¹ã€ä¸œå—",
                color: "çº¢ã€ç´«ã€ç²‰",
                number: "2ã€8ã€6",
                body: "å¿ƒè„ã€çœ¼ç›ã€è¡€æ¶²",
                person: "å¦‡å¥³ã€çº ç¼ è€…ã€æ‹–å»¶è€…",
                place: "è¡—é“ã€çª—æˆ·è¾¹ã€å¨æˆ¿",
                lostItem: "è¢«é®ç›–æˆ–å€Ÿèµ°ã€‚å¯»æ‰¾éœ€æ—¶é—´ï¼Œåœ¨æ˜äº®å¤„ã€‚",
                disease: "æ‹–å»¶åå¤ï¼Œå‘çƒ­ç‚ç—‡ã€‚",
                time: "ç¼“æ…¢ï¼Œæ‹–å»¶"
            },
            "é€Ÿå–œ": {
                direction: "ä¸œæ–¹ã€å—æ–¹",
                color: "ç»¿ã€çº¢ã€æ©™",
                number: "3ã€6ã€9",
                body: "å¤´éƒ¨ã€å’½å–‰ã€ç¥ç»",
                person: "ä¿¡ä½¿ã€å¹´è½»äººã€è‰ºäºº",
                place: "å­¦æ ¡ã€èŠ±è‰æ—ã€é«˜å¤„",
                lostItem: "ç«‹åˆ»æ‰¾èƒ½æ‰¾åˆ°ï¼Œåœ¨æ˜¾çœ¼å¤„ï¼Œå¾€ä¸œ/å—æ‰¾ã€‚",
                disease: "æ€¥ç—…ï¼Œå¤–æ„Ÿé£å¯’æˆ–ä¸Šç«ã€‚",
                time: "è¿…é€Ÿï¼Œæ—©æ™¨"
            },
            "èµ¤å£": {
                direction: "è¥¿æ–¹",
                color: "ç™½ã€é‡‘ã€é“¶",
                number: "4ã€7ã€10",
                body: "è‚ºéƒ¨ã€ç‰™é½¿ã€éª¨éª¼",
                person: "å†›è­¦ã€å¾‹å¸ˆã€ä»‡äºº",
                place: "é‡‘å±æ—ã€å·¥åœ°ã€ç¼ºå£å¤„",
                lostItem: "æå·²æŸåæˆ–è¢«ç›—ã€‚åœ¨é‡‘å±/å°–é”ç‰©æ—ã€‚",
                disease: "å‘¼å¸é“ï¼Œç‰™ç—›ï¼Œå¤–ä¼¤æ‰‹æœ¯ã€‚",
                time: "ä¸‹åˆï¼Œç§‹å­£"
            },
            "å°å‰": {
                direction: "åŒ—æ–¹",
                color: "é»‘ã€è“ã€ç°",
                number: "1ã€5ã€6",
                body: "è‚¾è„ã€è€³æœµã€æ³Œå°¿",
                person: "å•†äººã€å¸æœºã€æ¡ƒèŠ±",
                place: "æ°´è¾¹ã€æµ´å®¤ã€é˜´æš—å¤„",
                lostItem: "æ²¡ä¸¢ï¼Œæ”¾å¿˜äº†ã€‚åœ¨æ°´è¾¹/ä½å¤„/æ½®æ¹¿å¤„ã€‚",
                disease: "å¯’æ¹¿ï¼Œæ‹‰è‚šå­ï¼Œæ„Ÿå†’ã€‚",
                time: "å¤œæ™šï¼Œå†¬å­£"
            },
            "ç©ºäº¡": {
                direction: "ä¸­å¤®ã€è¥¿åŒ—",
                color: "ç™½ã€ç°ã€é€æ˜",
                number: "0ã€3ã€6",
                body: "ç¥ç»è¡°å¼±ã€è™šç—‡",
                person: "åƒ§é“ã€éª—å­ã€æ— èƒ½è€…",
                place: "è’åœ°ã€åŸå¢“ã€ç©ºæˆ¿",
                lostItem: "éš¾æ‰¾äº†ï¼Œå¯èƒ½é—å¤±åœ¨è·¯ä¸Šæˆ–ä¸å­˜åœ¨ã€‚",
                disease: "è™šç—…ï¼Œç²¾ç¥èé¡ï¼ŒæŸ¥æ— ç—…å› ã€‚",
                time: "åŠå¤œï¼Œè™šæ— "
            }
        };
        // å…­ç¥ç»„åˆæ„ä¹‰
        const combinations = {
            // --- å¤§å®‰ (ç¨³å›º) å¼€å¤´ ---
            "å¤§å®‰+å¤§å®‰": "ã€å å é‡é‡ã€‘åŒé‡ç¨³å›ºï¼Œæ ¹åŸºæ·±åšã€‚æ±‚è´¢å¤§è·ï¼Œæ±‚å®˜å¿…å‡ï¼Œå®¶å®…å¹³å®‰ï¼Œä¸‡äº‹å¦‚æ„ã€‚å¤§å‰ä¹‹è±¡ã€‚",
            "å¤§å®‰+ç•™è¿": "ã€ç¨³ä¸­å—é˜»ã€‘åŸºç¡€è™½å¥½ï¼Œä½†åç»­è¿›å±•ç¼“æ…¢ã€‚å¦‚è¡Œèˆ¹é‡æµ…æ»©ï¼Œéœ€è€å¿ƒç­‰å¾…æ°´æ¶¨ï¼Œä¸å¯å¼ºè¿›ã€‚",
            "å¤§å®‰+é€Ÿå–œ": "ã€é”¦ä¸Šæ·»èŠ±ã€‘ç¨³é‡ä¹‹ä¸­çªæ¥å–œè®¯ã€‚æ—¢æœ‰å®‰ç¨³çš„åº•ç›˜ï¼Œåˆæœ‰å¿«é€Ÿçš„æœºé‡ï¼Œæ˜¯åŠ¨é™çš†å®œçš„å¥½å¦ã€‚",
            "å¤§å®‰+èµ¤å£": "ã€å¹³åœ°é£æ³¢ã€‘æœ¬æ¥å®‰ç¨³ï¼Œçªç”Ÿå£èˆŒã€‚éœ€é˜²å°äººä»ä¸­ç ´åï¼Œæˆ–å› æ–‡ä¹¦åˆåŒå¼•èµ·äº‰ç«¯ã€‚ç¨³ä½é˜µè„šå³å¯ã€‚",
            "å¤§å®‰+å°å‰": "ã€é¡ºæ°´æ¨èˆŸã€‘ç¨³æ­¥å‘å±•ï¼Œæ¸å…¥ä½³å¢ƒã€‚è™½æ— æš´åˆ©ï¼Œä½†ç»†æ°´é•¿æµï¼Œåˆä½œæ„‰å¿«ï¼Œç”±äºåŸºç¡€ç‰¢å›ºï¼Œå°åˆ©å¯æˆã€‚",
            "å¤§å®‰+ç©ºäº¡": "ã€é‡‘ç‰å…¶å¤–ã€‘è¡¨é¢å®‰ç¨³ï¼Œå†…é‡Œç©ºè™šã€‚è°¨é˜²è¢«äººç”»é¥¼ï¼Œçœ‹ä¼¼ç¨³æ“èƒœåˆ¸ï¼Œå®åˆ™å˜æ•°æå¤§ï¼Œè½è¢‹æ‰ä¸ºå®‰ã€‚",

            // --- ç•™è¿ (æ‹–å»¶) å¼€å¤´ ---
            "ç•™è¿+å¤§å®‰": "ã€è‹¦å°½ç”˜æ¥ã€‘æ‹–å»¶æ—¥ä¹…ï¼Œç»ˆå¾—å®‰ç¨³ã€‚ç»è¿‡æ¼«é•¿çš„ç­‰å¾…å’Œçº ç»“ï¼Œäº‹æƒ…ç»ˆäºå°˜åŸƒè½å®šï¼Œç»“å±€åœ†æ»¡ã€‚",
            "ç•™è¿+ç•™è¿": "ã€é‡é‡é˜»æ»ã€‘è¿›é€€ä¸¤éš¾ï¼Œç”šè‡³åœæ»ä¸å‰ã€‚äº‹æ€èƒ¶ç€ï¼Œæ— ä»ä¸‹æ‰‹ã€‚å®œé™ä¸å®œåŠ¨ï¼ŒåŠ¨åˆ™æœ‰æ‚”ã€‚",
            "ç•™è¿+é€Ÿå–œ": "ã€ä¹…æ—±é€¢é›¨ã€‘ç­‰å¾…å·²ä¹…ï¼Œç»ˆè¿è½¬æœºã€‚é•¿æœŸçš„åƒµå±€è¢«æ‰“ç ´ï¼Œå¥½æ¶ˆæ¯çªç„¶ä¼ æ¥ï¼Œä¹‹å‰çš„æ—¶é—´æ²¡æœ‰ç™½è´¹ã€‚",
            "ç•™è¿+èµ¤å£": "ã€é›ªä¸ŠåŠ éœœã€‘æœ¬æ¥å°±æ…¢ï¼Œåˆç”Ÿäº‰ç«¯ã€‚ä¸ä»…äº‹æƒ…æ‹–ç€åŠä¸æˆï¼Œè¿˜æƒ¹äº†ä¸€èº«éº»çƒ¦å’Œå®˜éã€‚å¤§å‡¶ã€‚",
            "ç•™è¿+å°å‰": "ã€ç¼“æ­¥å¾è¡Œã€‘è™½ç„¶è¿›å±•æ…¢ï¼Œä½†å¥½åœ¨æ–¹å‘æ˜¯å¯¹çš„ã€‚å¦‚åŒèœ—ç‰›çˆ¬æ ‘ï¼Œè™½æ…¢ä½†ç»ˆèƒ½æœ‰å°æ”¶è·ã€‚",
            "ç•™è¿+ç©ºäº¡": "ã€å¾’åŠ³æ— åŠŸã€‘æ‹–å»¶è®¸ä¹…ï¼Œæœ€ç»ˆä¸€åœºç©ºã€‚æµªè´¹äº†æ—¶é—´ç²¾åŠ›ï¼Œæœ€åå‘ç°æ–¹å‘é”™äº†æˆ–äººè·‘äº†ã€‚",

            // --- é€Ÿå–œ (å¿«é€Ÿ) å¼€å¤´ ---
            "é€Ÿå–œ+å¤§å®‰": "ã€å–œæŠ¥å¹³å®‰ã€‘å¿«äº‹å¿«åŠï¼ŒååŠ²åè¶³ã€‚ä¸ä»…å¼€å¤´é¡ºåˆ©ï¼Œè€Œä¸”èƒ½é•¿ä¹…ä¿æŒï¼Œä¸ä»…æœ‰æ¿€æƒ…ï¼Œè¿˜æœ‰ä¿éšœã€‚",
            "é€Ÿå–œ+ç•™è¿": "ã€è™å¤´è›‡å°¾ã€‘å¼€å§‹è½°è½°çƒˆçƒˆï¼Œåç»­æ‹–æ³¥å¸¦æ°´ã€‚å–œè®¯æ¥äº†ä½†è¿Ÿè¿Ÿä¸èƒ½å…‘ç°ï¼Œä»¤äººç„¦æ€¥ã€‚",
            "é€Ÿå–œ+é€Ÿå–œ": "ã€å–œæ°”ç›ˆé—¨ã€‘åŒå–œä¸´é—¨ï¼Œæ¥è¿ä¸æ–­ã€‚æ—¶æœºæä½³ï¼Œè¿æ°”çˆ†æ£šï¼Œåº”å½“ä¹˜èƒœè¿½å‡»ï¼Œä¸å¯çŠ¹è±«ã€‚",
            "é€Ÿå–œ+èµ¤å£": "ã€ä¹æç”Ÿæ‚²ã€‘æ­£åœ¨é«˜å…´æ—¶ï¼Œçªå‘äº‰æ‰§ã€‚éœ€é˜²å› å¾—æ„å¿˜å½¢è€Œæ‹›æƒ¹å°äººï¼Œæˆ–å› è¨€è¯­ä¸å½“å¼•å‘å†²çªã€‚",
            "é€Ÿå–œ+å°å‰": "ã€é¡ºé£é¡ºæ°´ã€‘å¿ƒæƒ…æ„‰æ‚¦ï¼Œè¯¸äº‹é¡ºé‚ã€‚æ¡ƒèŠ±è¿ä½³ï¼Œäººé™…å…³ç³»å’Œè°ï¼Œé€‚åˆè°ˆåˆä½œæˆ–æ‹çˆ±ã€‚",
            "é€Ÿå–œ+ç©ºäº¡": "ã€æ˜™èŠ±ä¸€ç°ã€‘ç©ºæ¬¢å–œä¸€åœºã€‚æ¶ˆæ¯æ¥å¾—å¿«å»å¾—ä¹Ÿå¿«ï¼Œçœ‹ä¼¼æœºä¼šå¾ˆå¤§ï¼Œå®åˆ™æŠ“ä¸ä½ï¼Œå…¨æ˜¯æ³¡æ²«ã€‚",

            // --- èµ¤å£ (å†²çª) å¼€å¤´ ---
            "èµ¤å£+å¤§å®‰": "ã€é£é›¨åˆæ­‡ã€‘äº‰ç«¯è¿‡åï¼Œå½’äºå¹³é™ã€‚è™½ç„¶ä¹‹å‰åµå¾—ä¸å¯å¼€äº¤ï¼Œä½†æœ€ç»ˆèƒ½è¾¾æˆå’Œè§£ï¼Œä¿ä½å¹³å®‰ã€‚",
            "èµ¤å£+ç•™è¿": "ã€çº ç¼ ä¸ä¼‘ã€‘å®˜å¸å£èˆŒé™·å…¥åƒµå±€ã€‚äº‰åµæ²¡å®Œæ²¡äº†ï¼Œé—®é¢˜è§£å†³ä¸äº†ï¼Œäº’ç›¸æ‰¯çš®ï¼Œä»¤äººå¿ƒåŠ›äº¤ç˜ã€‚",
            "èµ¤å£+é€Ÿå–œ": "ã€å› ç¥¸å¾—ç¦ã€‘åµæ¶åè€Œåµå‡ºæ„Ÿæƒ…ï¼Œæˆ–å±æœºå…¬å…³æˆåŠŸã€‚äº‰ç«¯å¿«é€Ÿè§£å†³ï¼Œåäº‹å˜æˆäº†å¥½äº‹ã€‚",
            "èµ¤å£+èµ¤å£": "ã€å¤§åŠ¨å¹²æˆˆã€‘çŸ›ç›¾æ¿€åŒ–ï¼ŒåŠ¿åŒæ°´ç«ã€‚ææ˜“å‘ç”Ÿè‚¢ä½“å†²çªæˆ–ä¸¥é‡å®˜å¸ï¼Œåˆ‡å¿Œå†²åŠ¨ï¼Œé¿ä¹‹ä¸ºä¸Šã€‚",
            "èµ¤å£+å°å‰": "ã€å°åµæ€¡æƒ…ã€‘è™½æœ‰åˆ†æ­§ï¼Œæ— ä¼¤å¤§é›…ã€‚é€šè¿‡æ²Ÿé€šï¼ˆç”šè‡³äº‰è®ºï¼‰åè€Œè¾¾æˆäº†å°çš„å…±è¯†ã€‚",
            "èµ¤å£+ç©ºäº¡": "ã€è™šæƒŠä¸€åœºã€‘é›·å£°å¤§é›¨ç‚¹å°ã€‚çœ‹ä¼¼çŸ›ç›¾å¾ˆå¤§ï¼Œå…¶å®å¯¹æ–¹æ˜¯è™šå¼ å£°åŠ¿ï¼Œæœ€ç»ˆä¸äº†äº†ä¹‹ã€‚",

            // --- å°å‰ (å°åˆ©) å¼€å¤´ ---
            "å°å‰+å¤§å®‰": "ã€ç§¯å°‘æˆå¤šã€‘ä»å°é¡ºåˆ©èµ°å‘å¤§ç¨³å›ºã€‚ä¸€æ­¥ä¸€ä¸ªè„šå°ï¼ŒåŸºç¡€æ‰å®ï¼Œæœªæ¥å¯æœŸã€‚",
            "å°å‰+ç•™è¿": "ã€å¥½äº‹å¤šç£¨ã€‘è™½æœ‰å°åˆ©ï¼Œä½†æ‹¿ä¸åˆ°æ‰‹ã€‚è¿‡ç¨‹ä¸­ä¼šå‡ºç°æ‹–å»¶ï¼Œéœ€è¦è€å¿ƒå‘¨æ—‹æ‰èƒ½å…‘ç°ã€‚",
            "å°å‰+é€Ÿå–œ": "ã€å·¦å³é€¢æºã€‘å°å‰å¼•å‡ºå¤§å–œã€‚è´µäººç›¸åŠ©ï¼Œäººè„‰å˜ç°ï¼Œä¸ä»…é¡ºåˆ©ï¼Œè€Œä¸”è¶…ä¹é¢„æœŸçš„å¿«ã€‚",
            "å°å‰+èµ¤å£": "ã€å¥½å¿ƒæ‹›æ€¨ã€‘æœ¬æ¥æ˜¯å¥½äº‹ï¼Œç»“æœæƒ¹æ¥æ˜¯éã€‚åˆä½œä¸­å®¹æ˜“å› åˆ©ç›Šåˆ†é…ä¸å‡è€Œåµæ¶ã€‚",
            "å°å‰+å°å‰": "ã€ä¸¤æƒ…ç›¸æ‚¦ã€‘éå¸¸å’Œè°ï¼Œåˆä½œæ„‰å¿«ã€‚è™½ç„¶æ²¡æœ‰æƒŠå¤©åŠ¨åœ°çš„å¤§äº‹ï¼Œä½†æ—¥å­è¿‡å¾—æ»‹æ¶¦é¡ºå¿ƒã€‚",
            "å°å‰+ç©ºäº¡": "ã€ç«¹ç¯®æ‰“æ°´ã€‘çœ‹èµ·æ¥æœ‰å°åˆ©å¯å›¾ï¼Œä¼¸æ‰‹å»æŠ“å´æ²¡äº†ã€‚è°¨é˜²å°æ©å°æƒ çš„é™·é˜±ã€‚",

            // --- ç©ºäº¡ (è™šç©º) å¼€å¤´ ---
            "ç©ºäº¡+å¤§å®‰": "ã€ç»å¤„é€¢ç”Ÿã€‘æœ¬æ¥æ— æœ›ï¼Œçªç„¶è½¬å®‰ã€‚ä»¥ä¸ºæ²¡æˆäº†ï¼Œç»“æœå³°å›è·¯è½¬ï¼Œä¿ä½äº†åº•ç›˜ã€‚",
            "ç©ºäº¡+ç•™è¿": "ã€è¿·é›¾é‡é‡ã€‘æ—¢çœ‹ä¸æ¸…æ–¹å‘ï¼Œåˆèµ°ä¸å‡ºå»ã€‚é™·å…¥äº†é•¿æœŸçš„è¿·èŒ«å’Œè™šæ— ä¸­ï¼Œæœ€å¿Œç›²ç›®è¡ŒåŠ¨ã€‚",
            "ç©ºäº¡+é€Ÿå–œ": "ã€æ„å¤–ä¹‹å–œã€‘æ— å¿ƒæ’æŸ³æŸ³æˆè«ã€‚åœ¨ç»æœ›ä¸­çªç„¶æ‰ä¸‹æ¥çš„æœºä¼šï¼Œçº¯å±è¿æ°”ï¼Œä¸å¯å¼ºæ±‚ã€‚",
            "ç©ºäº¡+èµ¤å£": "ã€æ— ä¸­ç”Ÿæœ‰ã€‘æœ¬æ¥æ²¡äº‹ï¼Œçç¼–ä¹±é€ å¼•å‘äº‰ç«¯ã€‚éœ€é˜²è¯ˆéª—ã€è°£è¨€ä¸­ä¼¤ï¼Œå…¨æ˜¯è™šå‡çš„æ”»å‡»ã€‚",
            "ç©ºäº¡+å°å‰": "ã€å¾®å…‰é—ªçƒã€‘é»‘æš—ä¸­çš„ä¸€ç‚¹å°å¸Œæœ›ã€‚è™½å¤§å±€å·²å»ï¼Œä½†èƒ½æå›ä¸€ç‚¹æ˜¯ä¸€ç‚¹ï¼Œå°æœ‰å®‰æ…°ã€‚",
            "ç©ºäº¡+ç©ºäº¡": "ã€å››å¤§çš†ç©ºã€‘å½»åº•çš„è™šæ— ã€‚è®¡åˆ’å®Œå…¨è½ç©ºï¼Œäººå»æ¥¼ç©ºã€‚å»ºè®®å½»åº•æ”¾å¼ƒï¼Œé‡æ–°å¼€å§‹ã€‚"
        };
        // 1. å…­ç¥åŸºç¡€å®šä¹‰ (ç”¨äºæ‹¼æ¥èµ·å› )
        const startDefs = {
            1: { name: "å¤§å®‰", mean: "å‰", desc: "èµ·åŠ¿å¹³ç¨³" },
            2: { name: "ç•™è¿", mean: "å‡¶", desc: "èµ·åŠ¿å—é˜»" },
            3: { name: "é€Ÿå–œ", mean: "å‰", desc: "èµ·åŠ¿å¤§å¿«" },
            4: { name: "èµ¤å£", mean: "å‡¶", desc: "èµ·åŠ¿çº·äº‰" },
            5: { name: "å°å‰", mean: "å‰", desc: "èµ·åŠ¿é¡ºé‚" },
            6: { name: "ç©ºäº¡", mean: "å‡¶", desc: "èµ·åŠ¿è™šç©º" }
        };

        // 2. 36å®«æ ¸å¿ƒçŸ©é˜µ (ç»è¿‡ -> ç»“æœ)
        // æ ¼å¼ï¼štitles[ç»è¿‡][ç»“æœ] / poems[ç»è¿‡][ç»“æœ]
        const matrixData = {
            // --- ç»“æœï¼šå¤§å®‰ (1) ---
            1: {
                1: { t: "é‡é‡å®‰ç¨³", p: "ä¸¤é‡å¤§å®‰äº‹æ›´æ˜Œï¼Œæ ¹åŸºæ·±åšç¦ç»µé•¿ã€‚", d: "ç¨³ä¸ŠåŠ ç¨³ï¼ŒåŸºä¸šé•¿é’ã€‚" },
                2: { t: "è‹¦å°½ç”˜æ¥", p: "ç•™è¿è¿‡åæ˜¯å¹³å®‰ï¼Œè™½æœ‰è¹‰è·äº‹ä¸éš¾ã€‚", d: "æ‹–å»¶ä¹‹åï¼Œç»ˆå¾—åœ†æ»¡ã€‚" },
                3: { t: "å–œæŠ¥å¹³å®‰", p: "é€Ÿå–œå¤§å®‰å‰åº†å¤šï¼Œé’±è´¢å¾—æ‰‹ä¹å‘µå‘µã€‚", d: "å¿«è®¯ä¹‹åï¼Œè½è¢‹ä¸ºå®‰ã€‚" },
                4: { t: "åŒ–å¹²ä¸ºå¸›", p: "å£èˆŒæ¶ˆé™¤è¿æ¸é€šï¼Œå¤§å®‰ä¸€å¦æ˜¾å’Œèã€‚", d: "äº‰åµè¿‡åï¼Œå½’äºå¹³é™ã€‚" },
                5: { t: "ç§¯å°æˆå¤§", p: "å°å‰å¤§å®‰ç¦å¯¿å…¨ï¼Œæ±‚è°‹é¡ºé‚ä¹æ— è¾¹ã€‚", d: "å°åˆ©ç§¯ç´¯ï¼Œç»ˆæˆå¤§ä¸šã€‚" },
                6: { t: "ç»å¤„é€¢ç”Ÿ", p: "ç©ºäº¡è¿‡åè§å¤§å®‰ï¼Œæ­»ç°å¤ç‡ƒåˆä¸€ç­ã€‚", d: "è™šæƒŠä¸€åœºï¼Œç»ˆä¿åº•ç›˜ã€‚" }
            },
            // --- ç»“æœï¼šç•™è¿ (2) ---
            2: {
                1: { t: "å®‰ä¸­ç”Ÿæ»", p: "å¤§å®‰ä¹‹åé‡ç•™è¿ï¼ŒåŠäº‹è¿å»¶ä¸”æš‚æ‚¬ã€‚", d: "èµ·åˆç¨³å½“ï¼Œåæ¥æ‹–å»¶ã€‚" },
                2: { t: "é‡é‡é˜»æ»", p: "äºŒé‡ç•™è¿äº‹éš¾æˆï¼Œæ—¥æ—¥å¿§æ„å¹æ— å£°ã€‚", d: "æåº¦æ‹–å»¶ï¼Œè¿›é€€ä¸¤éš¾ã€‚" },
                3: { t: "å¥½æ™¯ä¸é•¿", p: "é€Ÿå–œç•™è¿å–œå˜å¿§ï¼Œè™½ç„¶å¾—ä»¤ä¸é•¿ä¹…ã€‚", d: "æ¥å¾—å¿«ï¼Œå¡ä½å¾—ä¹Ÿå¿«ã€‚" },
                4: { t: "é›ªä¸ŠåŠ éœœ", p: "èµ¤å£ç•™è¿äº‹æœ€éš¾ï¼Œå®˜éå£èˆŒæƒ¹ç¥¸ç«¯ã€‚", d: "åˆåµåˆæ…¢ï¼Œéº»çƒ¦ä¸æ–­ã€‚" },
                5: { t: "å¥½äº‹å¤šç£¨", p: "å°å‰ç•™è¿äº‹æœªå‘¨ï¼Œè™½ç„¶æœ‰ç›Šä¸”è¿Ÿç•™ã€‚", d: "è™½æœ‰å°åˆ©ï¼Œè¿Ÿè¿Ÿä¸åˆ°ã€‚" },
                6: { t: "è¿·é›¾é‡é‡", p: "ç©ºäº¡ç•™è¿è·¯è¿·èŒ«ï¼Œæ¬²è¿›æ— é—¨æ„å½·å¾¨ã€‚", d: "åˆç©ºåˆæ…¢ï¼Œæ–¹å‘å…¨æ— ã€‚" }
            },
            3: {
                1: { t: "é”¦ä¸Šæ·»èŠ±", p: "å¤§å®‰é€Ÿå–œäº‹äº¨é€šï¼Œä¸ç”¨æ±‚è°‹åˆ©è‡ªé€¢ã€‚", d: "ç¨³ä¸­æ±‚å¿«ï¼Œå‰ä¸ŠåŠ å‰ã€‚" },
                2: { t: "æ¯æœ¨é€¢æ˜¥", p: "ç•™è¿é€Ÿå–œä¸”è¿Ÿç–‘ï¼Œæ­¤äº‹è™½ç„¶è¦å¾…æ—¶ã€‚", d: "å…ˆæ…¢åå¿«ï¼Œç»ˆæœ‰è½¬æœºã€‚" },
                3: { t: "å–œæ°”ç›ˆé—¨", p: "é‡é‡é€Ÿå–œå–œç›ˆé—¨ï¼Œä¸”é—®è¡Œäººå³ä¾¿å­˜ã€‚", d: "å–œè®¯é¢‘ä¼ ï¼Œå¤§è·å…¨èƒœã€‚" },
                4: { t: "å› ç¥¸å¾—ç¦", p: "èµ¤å£é€Ÿå–œå£èˆŒæ¶ˆï¼Œæ˜¯éä»æ­¤æŠŠæ ¹æŠ›ã€‚", d: "äº‰ç«¯è§£å†³ï¼ŒåŒ–å¹²ä¸ºå¸›ã€‚" },
                5: { t: "é¡ºé£é¡ºæ°´", p: "å°å‰é€Ÿå–œæœ€ä¸ºè‰¯ï¼Œå©šå§»è´¢å®æ»¡ç±¯ç®±ã€‚", d: "é¡ºé‚å¦‚æ„ï¼Œå·¦å³é€¢æºã€‚" },
                6: { t: "æ„å¤–ä¹‹å–œ", p: "ç©ºäº¡é€Ÿå–œäº‹éš¾é‡ï¼Œæ„å¤–æœºç¼˜ä»å¤©é™ã€‚", d: "ç»å¤„é€¢ç”Ÿï¼Œæ— å¿ƒæ’æŸ³ã€‚" }
            },
            // --- ç»“æœï¼šèµ¤å£ (4) ---
            4: {
                1: { t: "å¹³åœ°é£æ³¢", p: "å¤§å®‰èµ¤å£æ˜¯éç”Ÿï¼Œè«æŠŠè‰¯è¨€å½“æ¶å£°ã€‚", d: "æœ¬æ¥å®‰ç¨³ï¼Œçªç”Ÿå£èˆŒã€‚" },
                2: { t: "ä¹…æ»ç”Ÿå˜", p: "ç•™è¿èµ¤å£äº‹éš¾æˆï¼Œå¤šæ˜¯æ¨è¿Ÿå£èˆŒäº‰ã€‚", d: "æ‹–å»¶å¤ªä¹…ï¼Œæƒ¹å‡ºéº»çƒ¦ã€‚" },
                3: { t: "ä¹æç”Ÿæ‚²", p: "é€Ÿå–œèµ¤å£è¦é˜²éï¼Œå¾—åŠ¿ä¹‹æ—¶è«ä½œä¸ºã€‚", d: "å¾—æ„å¿˜å½¢ï¼Œæ‹›æƒ¹å°äººã€‚" },
                4: { t: "å¤§åŠ¨å¹²æˆˆ", p: "é‡é‡èµ¤å£ä¸»åˆ‘ä¼¤ï¼Œå®˜éå£èˆŒèµ·è§å¢™ã€‚", d: "çŸ›ç›¾æ¿€åŒ–ï¼ŒåŠ¿åŒæ°´ç«ã€‚" },
                5: { t: "å¥½å¿ƒæ‹›æ€¨", p: "å°å‰èµ¤å£æƒ¹æ˜¯éï¼Œè™½ç„¶å¾—åˆ©æœ‰å¾®å¾®ã€‚", d: "è™½æœ‰å°åˆ©ï¼Œäº‰æ‰§éš¾å…ã€‚" },
                6: { t: "æ— ä¸­ç”Ÿæœ‰", p: "ç©ºäº¡èµ¤å£é¬¼ç¥å¤šï¼Œè™šè¯ˆäººæƒ…å¥ˆè‹¥ä½•ã€‚", d: "è™šå‡äº‰ç«¯ï¼Œè°£è¨€ä¸­ä¼¤ã€‚" }
            },
            // --- ç»“æœï¼šå°å‰ (5) ---
            5: {
                1: { t: "é¡ºæ°´æ¨èˆŸ", p: "å¤§å®‰å°å‰æœ€ä¸ºè‰¯ï¼Œç™¾äº‹æ— å¿§ç¦å¯¿é•¿ã€‚", d: "åŸºç¡€ç¨³å›ºï¼Œé¡ºåŠ¿è€Œä¸ºã€‚" },
                2: { t: "ç¼“æ­¥å¾è¡Œ", p: "ç•™è¿å°å‰äº‹é¡»è¿Ÿï¼Œä¸”å¾…æ—¶å…‰å³ä¾¿å®œã€‚", d: "è™½æœ‰æ‹–å»¶ï¼Œç»ˆæœ‰æ”¶è·ã€‚" },
                3: { t: "å¦‚é±¼å¾—æ°´", p: "é€Ÿå–œå°å‰ä¸¤ç›¸ç”Ÿï¼Œè´¢å¸›åŠŸåä¸”æ—¥å¢ã€‚", d: "äººè„‰é€šè¾¾ï¼Œå¦‚æ„é¡ºå¿ƒã€‚" },
                4: { t: "å°åµæ€¡æƒ…", p: "èµ¤å£å°å‰å£èˆŒè½»ï¼Œè™½ç„¶æœ‰é—¹ä¸ä¼¤æƒ…ã€‚", d: "è™½æœ‰åˆ†æ­§ï¼Œå¯è¾¾å…±è¯†ã€‚" },
                5: { t: "ä¸¤æƒ…ç›¸æ‚¦", p: "é‡é‡å°å‰äº‹å¤šä¹–ï¼Œå…­åˆå©šå§»ä¸ç”¨åª’ã€‚", d: "åˆä½œæ„‰å¿«ï¼Œç»†æ°´é•¿æµã€‚" },
                6: { t: "å¾®å…‰é—ªçƒ", p: "ç©ºäº¡å°å‰äº‹å¤šç£¨ï¼Œæ›´æœ‰è™šæƒŠä¸ç”¨ç½—ã€‚", d: "å¤§å±€è™½ç©ºï¼Œå°åˆ©å¯å›¾ã€‚" }
            },
            // --- ç»“æœï¼šç©ºäº¡ (6) ---
            6: {
                1: { t: "é‡‘ç‰å…¶å¤–", p: "å¤§å®‰ç©ºäº¡äº‹è½¬ç©ºï¼Œçœ‹æ¥ç¨³å¦¥è¿éš¾é€šã€‚", d: "è¡¨é¢å®‰ç¨³ï¼Œå®åˆ™è½ç©ºã€‚" },
                2: { t: "å¾’åŠ³æ— åŠŸ", p: "ç•™è¿ç©ºäº¡äº‹éš¾æˆï¼Œæ‰è´¹å¿ƒæœºä¸€åœºç©ºã€‚", d: "åˆæ…¢åˆç©ºï¼Œç™½å¿™ä¸€åœºã€‚" },
                3: { t: "æ˜™èŠ±ä¸€ç°", p: "é€Ÿå–œç©ºäº¡å–œå˜æ„ï¼Œæ°å¦‚äº‘æ•£æ°´ä¸œæµã€‚", d: "å¥½æ¢¦æ˜“é†’ï¼Œå…¨æ˜¯æ³¡æ²«ã€‚" },
                4: { t: "è™šæƒŠä¸€åœº", p: "èµ¤å£ç©ºäº¡ä¸”å¬çœŸï¼Œæ˜¯éè™½æœ‰ä¸ä¼¤èº«ã€‚", d: "é›·å£°è™½å¤§ï¼Œé›¨ç‚¹ç”šå°ã€‚" },
                5: { t: "ç«¹ç¯®æ‰“æ°´", p: "å°å‰ç©ºäº¡äº‹ä¸å…¨ï¼ŒåŠé€”è€ŒåºŸæƒ¹äººæ€œã€‚", d: "çœ‹ä¼¼æœ‰è·¯ï¼Œèµ°ä¸é€šé€ã€‚" },
                6: { t: "å››å¤§çš†ç©º", p: "é‡é‡ç©ºäº¡ä¸”è«æ±‚ï¼Œç¥é­‚é¢ å€’æ—¥æ€€æ„ã€‚", d: "ä¸‡äº‹çš†ä¼‘ï¼Œä¸å¦‚å½’å»ã€‚" }
            }
        };

        // ---------------------------------------------------------
        // 4. ç‰¹æ®Šå¤§æ ¼å±€ (æƒé‡æœ€é«˜ï¼Œå•ç‹¬å®šä¹‰)
        // ---------------------------------------------------------
        const specialGrid = {
            "1,1,1": { t: "å‘¨å¤©å¤§åŒ–", p: "ä¸‰é‡å¤§å®‰äº‹äº‹æ˜Œï¼Œç¦ç¦„æ— ç©·ä¸å¯é‡ã€‚", d: "ä¸Šä¸Šå¤§å‰ã€‚æ ¹åŸºæ·±åšï¼Œä¸å¯åŠ¨æ‘‡ï¼Œç¦æ³½ç»µé•¿ã€‚" },
            "3,3,3": { t: "é”¦ä¸Šæ·»èŠ±", p: "ä¸‰é‡é€Ÿå–œå–œé‡é‡ï¼Œè´¢æºå¹¿è¿›è¿äº¨é€šã€‚", d: "å‰æ˜Ÿé«˜ç…§ã€‚å¥½è¿æ¥äºŒè¿ä¸‰ï¼ŒåŠ¿å¦‚ç ´ç«¹ã€‚" },
            "5,5,5": { t: "äº”ç¦ä¸´é—¨", p: "ä¸‰é‡å°å‰æœ€å®‰è¯¦ï¼Œç´ç‘Ÿå’Œé¸£ç¦å¯¿é•¿ã€‚", d: "ç¨³å¥ä¹‹è±¡ã€‚èƒœåœ¨é•¿ä¹…å®‰ç¨³ï¼Œäººå’Œäº‹é¡ºã€‚" },
            "1,3,5": { t: "ä¸‰é˜³å¼€æ³°", p: "å¤§å®‰é€Ÿå–œåˆå°å‰ï¼Œæ­¥æ­¥é«˜å‡æ— äººåŠã€‚", d: "ç»ä½³å¥½å¦ã€‚æ­¥æ­¥ä¸ºè¥ï¼Œæ°´åˆ°æ¸ æˆï¼Œè¶Šæ¥è¶Šå¥½ã€‚" },
            "5,3,1": { t: "è¿˜ç è¿”ç’§", p: "å°å‰é€Ÿå–œå¤§å®‰ç•™ï¼Œå¤±ç‰©è¡Œäººä¸ç”¨æ„ã€‚", d: "åœ†æ»¡ä¹‹è±¡ã€‚è™½è¿‡ç¨‹æ€¥ä¿ƒï¼Œç»ˆå±€å®‰ç¨³ã€‚" },
            "6,6,6": { t: "é•œèŠ±æ°´æœˆ", p: "ä¸‰é‡ç©ºäº¡äº‹ä¸ç¥¥ï¼Œé˜´äººä½œç¥Ÿæ„å½·å¾¨ã€‚", d: "ä¸‡äº‹çš†ç©ºã€‚æ‰§å¿µå¤ªæ·±ï¼Œå»ºè®®å½»åº•æ”¾å¼ƒå¹»æƒ³ã€‚" }
        };

        // 5. èµ·å› è¯—å¥æ˜ å°„ (ç”¨äºç”Ÿæˆç¬¬ä¸€å¥è¯—)
        const startPoems = {
            "å¤§å®‰": "åˆèµ·å¤§å®‰æ ¹åŸºç¨³",
            "ç•™è¿": "åˆèµ·ç•™è¿äº‹éš¾æˆ",
            "é€Ÿå–œ": "åˆèµ·é€Ÿå–œå–œä¸´é—¨",
            "èµ¤å£": "åˆèµ·èµ¤å£æ˜¯éç”Ÿ",
            "å°å‰": "åˆèµ·å°å‰è·¯äº¨é€š",
            "ç©ºäº¡": "åˆèµ·ç©ºäº¡å¿ƒæœªå®š"
        };

        // ---------------------------------------------------------
        // 6. æ ¸å¿ƒå¼•æ“ï¼šç”Ÿæˆ 216 ç§å”¯ä¸€è§£é‡Š
        // ---------------------------------------------------------
        function getOracleVerdict(n1, n2, n3) {
            const n11 = (n1 - 1) % 6 + 1;
            const n22 = (n11 + n2 + 4) % 6 + 1;
            const n33 = (n22 + n3 + 4) % 6 + 1;
            // 1. ä¼˜å…ˆæ£€æŸ¥ç‰¹æ®Šæ ¼å±€
            const keyExact = `${n11},${n22},${n33}`;
            if (specialGrid[keyExact]) {
                return {
                    title: specialGrid[keyExact].t,
                    poem: specialGrid[keyExact].p, // ç‰¹æ®Šæ ¼å±€æœ¬èº«å°±æ˜¯å®Œæ•´çš„ä¸¤å¥è¯—
                    desc: specialGrid[keyExact].d
                };
            }

            // 2. æŸ¥é˜… 36å®«çŸ©é˜µ (è·å–ååŠéƒ¨åˆ†é€»è¾‘)
            // matrixData[ç»“æœ][ç»è¿‡]
            const core = matrixData[n33][n22];

            // 3. è·å–èµ·å› æ–‡å­—
            const god1Name = liuShen[n11 - 1].name;
            const startLine = startPoems[god1Name]; // ç¬¬ä¸€å¥è¯—

            // 4. ç»„åˆæœ€ç»ˆæ–­è¯­
            // æ ‡é¢˜ï¼šä½¿ç”¨çŸ©é˜µçš„æ ¸å¿ƒæ ‡é¢˜
            // è¯—å¥ï¼šèµ·å› è¯— + çŸ©é˜µæ ¸å¿ƒè¯— (ç»„æˆä¸ƒè¨€ç»å¥)
            // æè¿°ï¼šèµ·å› æè¿° + çŸ©é˜µæ ¸å¿ƒæè¿°

            return {
                title: core.t,
                // æ‹¼æ¥ä¸¤å¥è¯—ï¼Œä¸­é—´åŠ é€—å·
                poem: `${startLine}ï¼Œ${core.p}`,
                // æ‹¼æ¥ç™½è¯è§£
                desc: `ã€${god1Name}èµ·å±€ã€‘${core.d}`
            };
        }
        const wuXing = {
            "å¤§å®‰": {
                weather: "å¾®é£æ‹‚é¢ï¼Œäº‘æ·¡é£è½»",
                // åœºæ™¯ï¼šé™æ€ã€ç¨³å›ºçš„åœ°æ–¹
                scenes: ["å¤æ ‘ä¹‹ä¸‹", "ç”°å›­åº­é™¢", "å®½é˜”å¤§è·¯", "åº„ä¸¥å¤§å…", "é™è°§ä¹¦æˆ¿"],
                // åŠ¨æ€ï¼šå¹³ç¨³ã€ä¸åŠ¨çš„åŠ¨ä½œ
                actions: ["é™åç­‰å¾…", "å®‰ç¨³æ”¾ç½®", "å¾å¾è€Œè¡Œ", "ç»´æŒåŸçŠ¶"],
                // ç‰©è±¡ï¼šæ–¹å½¢ã€åœŸäº§ã€ç¨³å›ºä¹‹ç‰©
                objects: ["ç£çŸ³", "å°ç« ", "æ–¹ç›’", "äº”è°·", "å®¶å…·"]
            },
            "ç•™è¿": {
                weather: "é˜´é›¨ç»µç»µï¼Œé›¾æ°”ç¼­ç»•",
                // åœºæ™¯ï¼šçº ç»“ã€ç²˜æ»çš„åœ°æ–¹
                scenes: ["æ³¥æ³å°è·¯", "åå­—è¡—å¤´", "è€æ—§å¨æˆ¿", "å¹½æ·±å··å¼„"],
                // åŠ¨æ€ï¼šæ‹–å»¶ã€åå¤çš„åŠ¨ä½œ
                actions: ["å¾˜å¾Šä¸å‰", "åå¤çº ç¼ ", "è¢«ç»³ç´¢ç»Šä½", "å¯»æ‰¾æ— æœ"],
                // ç‰©è±¡ï¼šç»³ç´¢ã€ç²˜ç¨ ç‰©ã€æ—§è¯ä»¶
                objects: ["ä¹±éº»", "é”é“¾", "æ—§ç‰©", "æ¹¿åœŸ", "è—¤è”“"]
            },
            "é€Ÿå–œ": {
                weather: "é˜³å…‰æ˜åªšï¼Œå½©è™¹ä¹ç°",
                // åœºæ™¯ï¼šçƒ­é—¹ã€é«˜å¤„
                scenes: ["ç¹åé—¹å¸‚", "å­¦æ ¡æ“åœº", "å‘é˜³é«˜å¤„", "èŠ±å›­ä¹‹ä¸­"],
                // åŠ¨æ€ï¼šå¿«é€Ÿã€æ„‰æ‚¦çš„åŠ¨ä½œ
                actions: ["å¥”è·‘è€Œæ¥", "å«ç¬‘ç›¸è¿", "é£é¸Ÿæ è¿‡", "é¼“æŒæ¬¢å‘¼"],
                // ç‰©è±¡ï¼šå–œåº†ä¹‹ç‰©ã€ç«å…‰
                objects: ["å¥–æ¯", "é²œèŠ±", "å–œæŠ¥", "ç«ç‚¬", "ç”µå­äº§å“"]
            },
            "èµ¤å£": {
                weather: "é›·é›¨äº¤åŠ ï¼Œç‹‚é£å¤§ä½œ",
                // åœºæ™¯ï¼šå†²çªã€é‡‘å±å¤šä¹‹åœ°
                scenes: ["å»ºç­‘å·¥åœ°", "å± å®°é›†å¸‚", "ç ´æŸç¼ºå£", "è’ä¹±æˆ˜åœº"],
                // åŠ¨æ€ï¼šæ¿€çƒˆã€ä¼¤å®³çš„åŠ¨ä½œ
                actions: ["å¤§å£°äº‰åµ", "å™¨ç‰©ç ´ç¢", "æŒ¥åˆ€ç›¸å‘", "æƒŠé›·ä¹å“"],
                // ç‰©è±¡ï¼šå°–é”ã€é‡‘å±ã€ç ´æŸä¹‹ç‰©
                objects: ["åˆ©åˆƒ", "ç¢ç»ç’ƒ", "ç™½éª¨", "å‰ªåˆ€", "é¢å…·"]
            },
            "å°å‰": {
                weather: "ç»†é›¨è’™è’™ï¼Œéœ²æ°´æ²¾è¡£",
                // åœºæ™¯ï¼šæµåŠ¨ã€æ°´è¾¹
                scenes: ["å°æºªæ²³ç•”", "é…’é¦†èŒ¶æ¥¼", "æ¡ƒèŠ±æ—é—´", "æµ´å®¤æ°´è¾¹"],
                // åŠ¨æ€ï¼šæµåŠ¨ã€æ»‹æ¶¦çš„åŠ¨ä½œ
                actions: ["æµæ°´æ½ºæ½º", "æŠŠé…’è¨€æ¬¢", "å°èˆ¹æ¼‚æµ", "å«©èŠ½ç ´åœŸ"],
                // ç‰©è±¡ï¼šæ¶²ä½“ã€å°ç‰©ä»¶
                objects: ["é…’æ¯", "æ¸¸é±¼", "é•œå­", "è¯æ±¤", "é»‘è¡£"]
            },
            "ç©ºäº¡": {
                weather: "é˜´éœ¾ç¬¼ç½©ï¼Œæš®è‰²å››åˆ",
                // åœºæ™¯ï¼šè™šæ— ã€ç©ºæ—·
                scenes: ["è’éƒŠé‡å¤–", "æ¯äº•æ·±æ¸Š", "æ— äººç©ºå±‹", "åŸå¢“è’åœ°"],
                // åŠ¨æ€ï¼šè½ç©ºã€æ¶ˆå¤±çš„åŠ¨ä½œ
                actions: ["è·Œå…¥æ·±æ¸Š", "çƒŸæ¶ˆäº‘æ•£", "æŠ“æ¡ä¸ä½", "è¿·å¤±æ–¹å‘"],
                // ç‰©è±¡ï¼šç©ºè™šã€é˜´æš—ä¹‹ç‰©
                objects: ["ç©ºç®±å­", "å½±å­", "çªŸçª¿", "æ¯éª¨", "å°˜åŸƒ"]
            }
        };
        // ç”»é¢ç”Ÿæˆå¼•æ“
        function generateImagery(g1, g2, g3) {
            const w1 = wuXing[g1.name];
            const w2 = wuXing[g2.name];
            const w3 = wuXing[g3.name];

            // éšæœºæŠ½å–
            const scene = w1.scenes[Math.floor(Math.random() * w1.scenes.length)];
            const action = w2.actions[Math.floor(Math.random() * w2.actions.length)];
            const object = w3.objects[Math.floor(Math.random() * w3.objects.length)];

            // ç»„åˆæ¨¡æ¿ï¼šåœ¨[åœºæ™¯]ï¼Œ[åŠ¨æ€]ï¼Œæœ€ååªè§ [ç‰©è±¡]ã€‚
            return {
                text: `åœ¨${scene}ï¼Œäº¦è§${action}ï¼Œç»ˆè½å¾—${object}ä¹‹è±¡ã€‚`,
                keywords: [scene, action, object]
            };
        }
        // äº”è¡Œç”Ÿå…‹å…³ç³»å­—å…¸
        const wuxingRelation = {
            "ç”Ÿ": { label: "ç›¸ç”Ÿ", icon: "ğŸŸ¢", desc: "é¡ºé‚ã€æ»‹å…»ã€æ¨åŠ¨", class: "rel-sheng" },
            "å…‹": { label: "ç›¸å…‹", icon: "âš”ï¸", desc: "é˜»ç¢ã€å‹åŠ›ã€å†²çª", class: "rel-ke" },
            "åŒ": { label: "æ¯”å’Œ", icon: "ğŸ¤", desc: "å¸®æ‰¶ã€å åŠ ã€ç«äº‰", class: "rel-tong" },
            "æ³„": { label: "è¢«æ³„", icon: "ğŸ’§", desc: "ä»˜å‡ºã€æ¶ˆè€—ã€åŠ³ç´¯", class: "rel-xie" }, // æˆ‘ç”Ÿä»–
            "è€—": { label: "è¢«è€—", icon: "ğŸ›¡ï¸", desc: "èŠ±è´¹ã€ç‰µåˆ¶ã€å—ç´¯", class: "rel-hao" }  // æˆ‘å…‹ä»–
        };

        // æ ¸å¿ƒç®—æ³•ï¼šåˆ¤æ–­ A å¯¹ B çš„ä½œç”¨ (A -> B)
        function getInteraction(godA, godB) {
            const five = { "æœ¨": 1, "ç«": 2, "åœŸ": 3, "é‡‘": 4, "æ°´": 5 };
            const na = five[godA.nature];
            const nb = five[godB.nature];

            // è®¡ç®—å·®å€¼é€»è¾‘
            if (na === nb) return "åŒ";

            // ç”Ÿå…‹é€»è¾‘ (å¾ªç¯é“¾è¡¨: 1->2->3->4->5->1)
            if ((na === 1 && nb === 2) || (na === 2 && nb === 3) || (na === 3 && nb === 4) || (na === 4 && nb === 5) || (na === 5 && nb === 1))
                return "ç”Ÿ"; // Aç”ŸB

            if ((nb === 1 && na === 2) || (nb === 2 && na === 3) || (nb === 3 && na === 4) || (nb === 4 && na === 5) || (nb === 5 && na === 1))
                return "æ³„"; // Aè¢«Bæ³„ (Bç”ŸA)

            if ((na === 1 && nb === 3) || (na === 2 && nb === 4) || (na === 3 && nb === 5) || (na === 4 && nb === 1) || (na === 5 && nb === 2))
                return "å…‹"; // Aå…‹B

            return "è€—"; // Aè¢«Bè€— (Bå…‹A)
        }

        // è·å–è¯¦ç»†çš„ç”Ÿå…‹è§£é‡Šæ–‡æ¡ˆ
        function getRelationText(type, g1, g2) {
            const texts = {
                "ç”Ÿ": `<strong>${g1.name}(${g1.nature}) ç”Ÿ ${g2.name}(${g2.nature})</strong>ï¼šè¿åŠ¿é¡ºç•…ï¼Œå‰è€…ä¸ºåè€…æä¾›åŠ¨åŠ›ã€‚${g1.name}çš„åŸºç¡€æœ‰åŠ©äº${g2.name}çš„å‘å±•ï¼Œè¿‡ç¨‹è™½æœ‰å˜åŒ–ï¼Œä½†æ˜¯å‘ä¸Šçš„è¶‹åŠ¿ã€‚`,
                "æ³„": `<strong>${g1.name}(${g1.nature}) ç”Ÿ ${g2.name}(${g2.nature})</strong>ï¼š${g1.name}æ³„æ°”ç»™${g2.name}ï¼Œä»£è¡¨éœ€è¦ä»˜å‡ºä»£ä»·æˆ–ç²¾åŠ›æ‰èƒ½æ¨è¿›ä¸‹ä¸€æ­¥ã€‚è™½ç„¶èƒ½æˆï¼Œä½†èµ·åˆä¼šæ¯”è¾ƒç´¯ã€‚`,
                "å…‹": `<strong>${g1.name}(${g1.nature}) å…‹ ${g2.name}(${g2.nature})</strong>ï¼šäº”è¡Œç›¸å…‹ï¼Œå†²çªæ˜æ˜¾ã€‚${g1.name}ä¸ä»…ä¸æ”¯æŒï¼Œåè€Œå‹åˆ¶${g2.name}ï¼Œä»£è¡¨é˜»åŠ›å¤§ï¼Œæœ‰äººä»ä¸­ä½œæ¢—æˆ–ç¯å¢ƒä¸åˆ©ã€‚`,
                "è€—": `<strong>${g2.name}(${g2.nature}) å…‹ ${g1.name}(${g1.nature})</strong>ï¼š${g1.name}å—åˆ¶äº${g2.name}ï¼Œæƒ³åŠ¨åŠ¨ä¸äº†ï¼Œæƒ³åšåšä¸æˆã€‚ä»£è¡¨å‹åŠ›å¤§ï¼Œè¢«åŠ¨ç­‰å¾…ã€‚`,
                "åŒ": `<strong>äº”è¡Œæ¯”å’Œ (${g1.nature}è§${g2.nature})</strong>ï¼šåŠ›é‡å åŠ ã€‚è‹¥æ˜¯å‰ç¥åˆ™å‰ä¸ŠåŠ å‰ï¼Œè‹¥æ˜¯å‡¶ç¥åˆ™å‡¶ç›¸åŠ å€ã€‚`
            };
            return texts[type] || "";
        }
        // è®¡ç®—å…­ç¥å‡½æ•°
        function calculateLiuShen(num) {
            let remainder = num % 6;
            if (remainder === 0) remainder = 6;
            return liuShen[remainder - 1];
        }

        // è·å–è¯¦ç»†ä¸‡ç‰©å–è±¡ (å®Œæ•´ç‰ˆï¼šå«ä¸‰ä¼ ã€æ ¸å¿ƒã€å¤©æ°”ã€ç‰©è±¡)
        function getDetailedImages(god1, god2, god3) {
            let result = "";

            // è·å–æ•°æ®
            const s1 = shenShaImages[god1.name]; // æ‰©å±•è¯¦æƒ…
            const s2 = shenShaImages[god2.name];
            const s3 = shenShaImages[god3.name];

            const w1 = wuXing[god1.name]; // äº”è¡Œç‰©è±¡åº“
            const w2 = wuXing[god2.name];
            const w3 = wuXing[god3.name];

            // ------------------------------------------
            // 1. ä¸‰ä¼ æµå¹´æ¨æ¼” (Timeline)
            // ------------------------------------------
            result += `<h4>ğŸ”® ä¸‰ä¼ æµå¹´æ¨æ¼”</h4>`;
            result += `<div class="timeline">`;

            // èµ·å› 
            result += `
            <div class="timeline-item">
                <div class="timeline-dot start"></div>
                <div class="timeline-title">èµ·å› ï¼š${god1.name}</div>
                <div class="timeline-content">
                    <div><strong>æ—¶æœº/äººç‰©ï¼š</strong>${s1.time} / ${s1.person}</div>
                </div>
            </div>`;

            // ç»è¿‡
            result += `
            <div class="timeline-item">
                <div class="timeline-dot process"></div>
                <div class="timeline-title">ç»è¿‡ï¼š${god2.name}</div>
                <div class="timeline-content">
                    <div><strong>è¿‡ç¨‹ç‰¹å¾ï¼š</strong>${god2.characteristics}</div>
                </div>
            </div>`;

            // ç»“æœ
            result += `
            <div class="timeline-item">
                <div class="timeline-dot end"></div>
                <div class="timeline-title">ç»“æœï¼š${god3.name}</div>
                <div class="timeline-content">
                    <div><strong>æœ€ç»ˆå®šå±€ï¼š</strong>${god3.detail}</div>
                </div>
            </div>`;
            result += `</div>`;

            // ------------------------------------------
            // 2. è¯»è±¡ Â· ç”»é¢æ„Ÿ (é‡æ„ç‰ˆï¼šç”µå½±å™äº‹æ¨¡å¼)
            // ------------------------------------------

            // è°ƒç”¨é€ å¥å¼•æ“
            const imagery = generateImagery(god1, god2, god3);

            // å¤©æ°”é€»è¾‘
            let weatherStr = "";
            if (god1.name === god3.name) {
                weatherStr = `ä»å¤´è‡³å°¾çš†æ˜¯ ${w1.weather}`;
            } else {
                weatherStr = `åˆæ—¶${w1.weather}ï¼Œç»ˆè½¬${w3.weather}`;
            }

            result += `<h4>ğŸ–¼ï¸ è¯»è±¡ Â· æ„å¢ƒè¿˜åŸ</h4>`;

            // è¿™æ˜¯ä¸€ä¸ªæ–°çš„å¡ç‰‡æ ·å¼ï¼Œæ¨¡æ‹Ÿ"ç”»å·"
            result += `
            <div style="
                background: linear-gradient(to right, #fcfcfc, #f5f5f5); 
                border-left: 4px solid var(--primary-color);
                border-radius: 8px;
                padding: 15px;
                margin-top: 10px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.03);
            ">
                <div style="font-size:12px; color:#999; margin-bottom:5px;">ğŸŒ¤ï¸ å¤©æ—¶æ¨æ¼”</div>
                <div style="font-size:14px; color:#555; margin-bottom:15px; font-style:italic;">${weatherStr}</div>

                <div style="font-size:12px; color:#999; margin-bottom:5px;">ğŸ¬ æ„è±¡è’™å¤ªå¥‡</div>
                <div style="
                    font-size: 16px; 
                    color: #333; 
                    font-weight: bold; 
                    line-height: 1.6; 
                    font-family: 'KaiTi', serif;
                ">
                    â€œ ${imagery.text} â€
                </div>
                
                <!-- å…³é”®è¯èƒ¶å›Šå±•ç¤º -->
                <div style="margin-top:12px; display:flex; gap:8px;">
                    <span style="background:#eee; padding:2px 8px; border-radius:4px; font-size:12px; color:#666;">ğŸ“ ${imagery.keywords[0]}</span>
                    <span style="background:#eee; padding:2px 8px; border-radius:4px; font-size:12px; color:#666;">âš¡ ${imagery.keywords[1]}</span>
                    <span style="background:#eee; padding:2px 8px; border-radius:4px; font-size:12px; color:#666;">ğŸ“¦ ${imagery.keywords[2]}</span>
                </div>
            </div>
            `;

            // æ³¨æ„ï¼šè¿™é‡Œå»æ‰äº†åŸæ¥çš„ <div class="image-grid"> çš„å¼€å¤´ï¼Œ

            // ------------------------------------------
            // 3. æ ¸å¿ƒå®šå±€è¯¦æƒ… (ä»¥ç»“æœè®º)
            // ------------------------------------------
            result += `<h4>ğŸ“ æ ¸å¿ƒå®šå±€ (ä»¥ç»“æœè®º)</h4>`;
            result += `<div class="image-grid">`;

            // æ–¹ä½
            result += `
            <div class="image-item">
                <span class="image-label">ğŸ§­ å¯»äºº/ç‰©æ–¹ä½</span>
                <span class="image-value highlight-text">${s3.direction}</span>
            </div>`;

            // æ•°å­—
            result += `
            <div class="image-item">
                <span class="image-label">ğŸ”¢ å…³è”æ•°å­—</span>
                <span class="image-value">${s3.number}</span>
            </div>`;

            // å¤±ç‰©
            result += `
            <div class="image-item" style="grid-column: span 2;">
                <span class="image-label">ğŸ” å¤±ç‰©çº¿ç´¢</span>
                <span class="image-value">${s3.lostItem}</span>
            </div>`;

            // èº«ä½“/ç–¾ç—…
            result += `
            <div class="image-item" style="grid-column: span 2;">
                <span class="image-label">ğŸ’Š èº«ä½“/ç–¾ç—…</span>
                <span class="image-value">${s3.disease} <br><span style="font-size:12px;color:#888">éƒ¨ä½ï¼š${s3.body}</span></span>
            </div>`;

            // é¢œè‰²
            result += `
            <div class="image-item">
                <span class="image-label">ğŸ¨ å¹¸è¿é¢œè‰²</span>
                <span class="image-value">${s3.color}</span>
            </div>`;

            // åœºæ‰€
            result += `
            <div class="image-item">
                <span class="image-label">ğŸ  åœºæ‰€ç‰¹å¾</span>
                <span class="image-value">${s3.place}</span>
            </div>`;

            result += `</div>`; // End grid

            return result;
        }
        // åˆ¤æ–­äº”è¡Œç›¸ç”Ÿ
        function hasWuXingGeneration(elements) {
            const generationPairs = [
                ["æœ¨", "ç«"], ["ç«", "åœŸ"], ["åœŸ", "é‡‘"], ["é‡‘", "æ°´"], ["æ°´", "æœ¨"]
            ];
            for (let pair of generationPairs) {
                if (elements.includes(pair[0]) && elements.includes(pair[1])) return true;
            }
            return false;
        }

        // åˆ¤æ–­äº”è¡Œç›¸å…‹
        function hasWuXingRestriction(elements) {
            const restrictionPairs = [
                ["æœ¨", "åœŸ"], ["åœŸ", "æ°´"], ["æ°´", "ç«"], ["ç«", "é‡‘"], ["é‡‘", "æœ¨"]
            ];
            for (let pair of restrictionPairs) {
                if (elements.includes(pair[0]) && elements.includes(pair[1])) return true;
            }
            return false;
        }

        // ä»æ•°ç»„ä¸­éšæœºé€‰å–nä¸ªå…ƒç´ 
        function getRandomElements(array, n) {
            const shuffled = [...array].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, n);
        }

        // å½“é¡µé¢åŠ è½½å®Œæˆæ—¶
        document.addEventListener('DOMContentLoaded', function () {
            // è·å–DOMå…ƒç´ 
            const num1Input = document.getElementById('num1');
            const num2Input = document.getElementById('num2');
            const num3Input = document.getElementById('num3');
            const calculateBtn = document.getElementById('calculate');
            const randomBtn = document.getElementById('random');
            const resultSection = document.getElementById('resultSection');
            const resultCards = document.getElementById('resultCards');
            const mainSummary = document.getElementById('mainSummary');

            const basicExplanation = document.getElementById('basicExplanation');
            const detailExplanation = document.getElementById('detailExplanation');
            const comboExplanation = document.getElementById('comboExplanation');
            const imagesExplanation = document.getElementById('imagesExplanation');

            // è®¾ç½®æ ‡ç­¾åˆ‡æ¢åŠŸèƒ½
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', function () {
                    // ç§»é™¤æ‰€æœ‰æ ‡ç­¾çš„activeç±»
                    tabs.forEach(t => t.classList.remove('active'));
                    // æ·»åŠ å½“å‰æ ‡ç­¾çš„activeç±»
                    this.classList.add('active');

                    // éšè—æ‰€æœ‰å†…å®¹
                    const tabContents = document.querySelectorAll('.tab-content');
                    tabContents.forEach(content => content.classList.remove('active'));

                    // æ˜¾ç¤ºå½“å‰æ ‡ç­¾å¯¹åº”çš„å†…å®¹
                    const tabId = this.getAttribute('data-tab');
                    document.getElementById(tabId + 'Tab').classList.add('active');
                });
            });

            // ç‚¹å‡»è®¡ç®—æŒ‰é’®æ—¶
            calculateBtn.addEventListener('click', function () {
                const num1 = parseInt(num1Input.value);
                const num2 = parseInt(num2Input.value);
                const num3 = parseInt(num3Input.value);

                // éªŒè¯è¾“å…¥
                if (isNaN(num1) || isNaN(num2) || isNaN(num3) ||
                    num1 < 1 || num1 > 999 || num2 < 1 || num2 > 999 || num3 < 1 || num3 > 999) {
                    alert('è¯·è¾“å…¥ä¸‰ä¸ª1-999ä¹‹é—´çš„æ•°å­—');
                    return;
                }
                const num11 = (num1 - 1) % 6 + 1;
                const num22 = (num11 + num2 + 4) % 6 + 1;
                const num33 = (num22 + num3 + 4) % 6 + 1;
                // è®¡ç®—å…­ç¥
                const god1 = calculateLiuShen(num11);
                const god2 = calculateLiuShen(num22);
                const god3 = calculateLiuShen(num33);
                const he = `${num11},${num22},${num33}`;
                // æ˜¾ç¤ºç»“æœ
                displayResult(num1, num2, num3, god1, god2, god3, he);
            });

            // ç‚¹å‡»éšæœºæŒ‰é’®æ—¶
            randomBtn.addEventListener('click', function () {
                //ç”Ÿæˆä¸‰ä¸ªéšæœºæ•°å­—
                const num1 = Math.floor(Math.random() * 999) + 1;
                const num2 = Math.floor(Math.random() * 999) + 1;
                const num3 = Math.floor(Math.random() * 999) + 1;
                const num11 = (num1 - 1) % 6 + 1;
                const num22 = (num11 + num2 + 4) % 6 + 1;
                const num33 = (num22 + num3 + 4) % 6 + 1;
                // æ˜¾ç¤ºéšæœºæ•°å­—
                num1Input.value = num1;
                num2Input.value = num2;
                num3Input.value = num3;

                // è®¡ç®—å…­ç¥
                const god1 = calculateLiuShen(num11);
                const god2 = calculateLiuShen(num22);
                const god3 = calculateLiuShen(num33);
                const he = `${num11},${num22},${num33}`;
                // æ˜¾ç¤ºç»“æœ
                displayResult(num1, num2, num3, god1, god2, god3, he);
            });
            // è®¡ç®—å‰å‡¶ç­‰çº§ (æœ€ç»ˆç‰ˆï¼šæƒé‡é¡ºåºé€»è¾‘)
            // é€»è¾‘æ ¸å¿ƒï¼šæœ«ä¼ (ç»“æœ)å®šå¤§å±€ï¼Œåˆä¸­ä¼ (è¿‡ç¨‹)å®šæ·±æµ…
            function getLuckStatus(god1, god2, god3) {
                const goodGods = ["å¤§å®‰", "é€Ÿå–œ", "å°å‰"];

                // 1. å…ˆçœ‹ç»“å±€ (ç¬¬ä¸‰ä¸ªæ•°)
                const isEndGood = goodGods.includes(god3.name);
                const isEndKongWang = (god3.name === "ç©ºäº¡");

                // 2. ç»Ÿè®¡å…¨ç¨‹å‰ç¥æ•°é‡ (ç”¨äºåˆ¤æ–­è¿‡ç¨‹æ˜¯é¡ºæ˜¯é€†)
                let goodCount = 0;
                [god1, god2, god3].forEach(god => {
                    if (goodGods.includes(god.name)) goodCount++;
                });

                // --- åˆ¤å®šé€»è¾‘å¼€å§‹ ---

                // Level 5: é•œèŠ±æ°´æœˆ (ç°)
                // ç»“å±€æ˜¯ç©ºäº¡ã€‚æ— è®ºè¿‡ç¨‹å¤šä¹ˆçƒ­é—¹ï¼Œæœ€åä¸€åœºç©ºï¼Œå®šæ€§ä¸ºè™šæ— ã€‚
                if (isEndKongWang) {
                    return { css: "summary-lvl5", label: "è™šç©º Â· å˜æ•°" };
                }

                // ç»“å±€æ˜¯å‰ (å¤§å®‰/é€Ÿå–œ/å°å‰) -> ç´«è‰²æˆ–ç»¿è‰²
                if (isEndGood) {
                    // Level 1: ä¸Šä¸Šå¤§å‰ (ç´«)
                    // ç»“å±€å¥½ï¼Œä¸”å…¨ç¨‹å‰ç¥å¤š(>=2)ï¼Œè¯´æ˜è¿‡ç¨‹ä¹Ÿé¡ºã€‚
                    if (goodCount >= 2) {
                        return { css: "summary-lvl1", label: "ä¸Šä¸Š Â· å¤§å‰" };
                    }
                    // Level 2: å¦ææ³°æ¥ (ç»¿)
                    // ç»“å±€å¥½ï¼Œä½†å…¨ç¨‹å‰ç¥å°‘(<2)ï¼Œè¯´æ˜å‰é¢ç»å†äº†ç£¨éš¾ï¼Œæœ€åè½¬å¥½ã€‚
                    else {
                        return { css: "summary-lvl2", label: "å›è½¬ Â· æ³°æ¥" };
                    }
                }

                // ç»“å±€æ˜¯å‡¶ (ç•™è¿/èµ¤å£) -> é»„è‰²æˆ–çº¢è‰²
                else {
                    // Level 3: è™å¤´è›‡å°¾ (é»„)
                    // ç»“å±€ä¸å¥½ï¼Œä½†å…¨ç¨‹å‰ç¥å¤š(>=2)ï¼Œè¯´æ˜å¼€å±€å’Œè¿‡ç¨‹éƒ½ä¸é”™ï¼Œæœ€ååäº†ã€‚
                    // è¿™ç§å±äº"æƒ‹æƒœ"å’Œ"è­¦ç¤º"ï¼Œç”¨é»„è‰²ã€‚
                    if (goodCount >= 2) {
                        return { css: "summary-lvl3", label: "è­¦ç¤º Â· æ…è¡Œ" };
                    }
                    // Level 4: ä¸‹ä¸‹ä¹‹ç­¾ (çº¢)
                    // ç»“å±€ä¸å¥½ï¼Œè¿‡ç¨‹ä¹Ÿä¸å¥½ï¼Œé›ªä¸ŠåŠ éœœã€‚
                    else {
                        return { css: "summary-lvl4", label: "å‡¶è±¡ Â· é˜»æ»" };
                    }
                }
            }
            // åŠ¨æ€ç”Ÿæˆæ¸å˜èƒŒæ™¯æ ·å¼
            function applyDynamicTheme(element, g1, g2, g3) {
                // 1. ç”Ÿæˆä¸‰æ®µå¼æ¸å˜ (135åº¦ï¼Œä»å·¦ä¸Šåˆ°å³ä¸‹)
                // g1(èµ·å› ) -> g2(ç»è¿‡) -> g3(ç»“æœ)
                const gradient = `linear-gradient(135deg, ${g1.color} 0%, ${g2.color} 50%, ${g3.color} 100%)`;

                // 2. åº”ç”¨èƒŒæ™¯
                element.style.background = gradient;

                // 3. åº”ç”¨è¾¹æ¡†è‰² (ä½¿ç”¨"ç»“æœ"çš„ä¸»é¢˜è‰²ï¼ŒåŠ æ·±è§†è§‰å®šæ€§)
                element.style.borderColor = g3.accent;

                // 4. è¿”å›å¾½ç« çš„æ ·å¼ (ä¾›å†…éƒ¨HTMLä½¿ç”¨)
                return `color: ${g3.accent}; border-color: ${g3.accent};`;
            }
            // æ˜¾ç¤ºç»“æœå‡½æ•°
            function displayResult(num1, num2, num3, god1, god2, god3, he) {
                // æ˜¾ç¤ºç»“æœåŒºåŸŸ
                resultSection.classList.remove('hidden');

                // é¡¶éƒ¨å¡ç‰‡å±•ç¤ºä¸‰ä¸ªç¥ç…
                let cardsHTML = `
                    <div class="god-card">
                        <span class="god-nature">${god1.nature}</span>
                        <span class="god-symbol">${god1.symbol}</span>
                        <span class="god-summary" style="background-color: ${god1.color}; border-color: ${god1.accent};">${god1.summary}</span>
                    </div>
                    <div class="god-card">
                        <span class="god-nature">${god2.nature}</span>
                        <span class="god-symbol">${god2.symbol}</span>
                        <span class="god-summary" style="background-color: ${god2.color}; border-color: ${god2.accent};">${god2.summary}</span>
                    </div>
                    <div class="god-card">
                        <span class="god-nature">${god3.nature}</span>
                        <span class="god-symbol">${god3.symbol}</span>
                        <span class="god-summary" style="background-color: ${god3.color}; border-color: ${god3.accent};">${god3.summary}</span>
                    </div>
                `;
                resultCards.innerHTML = cardsHTML;
                // --- ä¿®æ”¹å¼€å§‹ï¼šå¤©æœºç­¾æ–‡æ¨¡å¼ ---

                // 1. è·å–åŸºç¡€å‰å‡¶é¢œè‰² (è°ƒç”¨ä¹‹å‰çš„ getLuckStatus é€»è¾‘)
                // ç¡®ä¿ä½ å·²ç»æœ‰ getLuckStatus å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰ï¼Œç”¨ä¸‹é¢çš„ simplified version
                const luckStatus = getLuckStatus(god1, god2, god3);

                // 2. è·å–å¤©æœºæ–­è¯­
                const oracle = getOracleVerdict(num1, num2, num3);

                // 3. åº”ç”¨åŠ¨æ€æ¸å˜èƒŒæ™¯
                const badgeStyle = applyDynamicTheme(mainSummary, god1, god2, god3);

                // 4. ç”Ÿæˆ HTML (å¤é£ç­¾æ–‡å¸ƒå±€)
                mainSummary.innerHTML = `
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
                        <span class="verdict-badge" style="${badgeStyle}">${luckStatus.label}</span>
                        <span style="font-family:'KaiTi',serif; font-size:18px; font-weight:bold; color:#333; letter-spacing:2px;">
                            ${oracle.title}
                        </span>
                    </div>
                    
                    <!-- è¯—å¥åŒº -->
                    <div style="
                        text-align: center; 
                        margin: 15px 0; 
                        padding: 10px 0;
                        border-top: 1px dashed rgba(0,0,0,0.1);
                        border-bottom: 1px dashed rgba(0,0,0,0.1);
                    ">
                        <p style="
                            font-family: 'KaiTi', 'SimSun', serif; 
                            font-size: 16px; 
                            color: #444; 
                            margin: 0; 
                            line-height: 1.6;
                            font-style: italic;
                        ">
                            ${oracle.poem.split('ï¼Œ').join('ï¼Œ<br>')}
                        </p>
                    </div>

                    <!-- ç™½è¯è§£ -->
                    <div style="font-size:14px; color:#555; text-align:justify;">
                        <strong>ğŸ’¡ æŒ‡å¼•ï¼š</strong>${oracle.desc}
                    </div>
                `;

                // --- ä¿®æ”¹ç»“æŸ ---

                // åŸºæœ¬è§£é‡Š
                let basicHTML = `
                    <h4>${god1.name}</h4>
                    <p>${god1.basic}</p>
                    
                    <h4>${god2.name}</h4>
                    <p>${god2.basic}</p>
                    
                    <h4>${god3.name}</h4>
                    <p>${god3.basic}</p>
                `;

                basicExplanation.innerHTML = basicHTML;

                // è¯¦ç»†è§£é‡Š
                let detailHTML = `
                    <h4>${god1.name}</h4>
                    <p>${god1.detail}</p>
                    <p><strong>ç‰¹æ€§:</strong> ${god1.characteristics}</p>
                    <p><span class="badge badge-suitable">å®œ</span>${god1.suitable}</p>
                    <p><span class="badge badge-unsuitable">å¿Œ</span>${god1.unsuitable}</p>
                    
                    <h4>${god2.name}</h4>
                    <p>${god2.detail}</p>
                    <p><strong>ç‰¹æ€§:</strong> ${god2.characteristics}</p>
                    <p><span class="badge badge-suitable">å®œ</span>${god2.suitable}</p>
                    <p><span class="badge badge-unsuitable">å¿Œ</span>${god2.unsuitable}</p>
                    
                    <h4>${god3.name}</h4>
                    <p>${god3.detail}</p>
                    <p><strong>ç‰¹æ€§:</strong> ${god3.characteristics}</p>
                    <p><span class="badge badge-suitable">å®œ</span>${god3.suitable}</p>
                    <p><span class="badge badge-unsuitable">å¿Œ</span>${god3.unsuitable}</p>
                `;

                detailExplanation.innerHTML = detailHTML;
                // --- ç»„åˆè§£é‡Š (å®Œç¾èåˆç‰ˆï¼šäº”è¡Œé€»è¾‘ + ä¼ ç»Ÿæ–­è¯­) ---

                // 1. è®¡ç®—äº”è¡Œå…³ç³» (åŒä¸Š)
                const rel1 = getInteraction(god1, god2);
                const info1 = wuxingRelation[rel1];
                const rel2 = getInteraction(god2, god3);
                const info2 = wuxingRelation[rel2];
                const rel3 = getInteraction(god1, god3);
                const info3 = wuxingRelation[rel3];

                // 2. è·å–ä¼ ç»Ÿæ–­è¯­ (å¤æ´»æ—§æ•°æ® combinations)
                const comboKey1 = `${god1.name}+${god2.name}`;
                const comboKey2 = `${god2.name}+${god3.name}`;
                const comboKey3 = `${god1.name}+${god3.name}`;

                // å®¹é”™å¤„ç†ï¼Œé˜²æ­¢æ‰¾ä¸åˆ°key
                const text1 = combinations[comboKey1] || "æš‚æ— ç‰¹å®šæ–­è¯­";
                const text2 = combinations[comboKey2] || "æš‚æ— ç‰¹å®šæ–­è¯­";
                const text3 = combinations[comboKey3] || "æš‚æ— ç‰¹å®šæ–­è¯­";

                let comboHTML = `
                    <h4>âš¡ äº”è¡Œèƒ½é‡æµè½¬å›¾</h4>
                    
                    <!-- 1. è§†è§‰æµè½¬å›¾ (ä¿æŒä¸å˜) -->
                    <div class="card" style="border:none; box-shadow:none; background:transparent;">
                        <div class="flow-container">
                            <div class="flow-node" style="border-color: ${god1.accent}">
                                <span style="font-weight:bold; color:${god1.accent}">${god1.name}</span>
                            </div>
                            <div class="flow-arrow"><span class="rel-badge ${info1.class}">${info1.label}</span></div>
                            <div class="flow-node" style="border-color: ${god2.accent}">
                                <span style="font-weight:bold; color:${god2.accent}">${god2.name}</span>
                            </div>
                            <div class="flow-arrow"><span class="rel-badge ${info2.class}">${info2.label}</span></div>
                            <div class="flow-node" style="border-color: ${god3.accent}">
                                <span style="font-weight:bold; color:${god3.accent}">${god3.name}</span>
                            </div>
                        </div>
                    </div>

                    <!-- 2. åˆ†æ®µè¯¦è§£ (èåˆ äº”è¡Œè§£é‡Š + ä¼ ç»Ÿæ–­è¯­) -->
                    <div class="combo-card">
                        <div class="combo-header">
                            <span>â‘  èµ·æ‰¿ï¼š${god1.name} â” ${god2.name}</span>
                        </div>
                        <div class="combo-text">
                            <p><strong>[äº”è¡Œ]</strong> ${getRelationText(rel1, god1, god2)}</p>
                            <div style="margin-top:8px; padding-top:8px; border-top:1px dashed #ddd; color:#888; font-size:13px;">
                                <strong>[æ–­è¯­]</strong> ${text1}
                            </div>
                        </div>
                    </div>

                    <div class="combo-card">
                        <div class="combo-header">
                            <span>â‘¡ è½¬åˆï¼š${god2.name} â” ${god3.name}</span>
                        </div>
                        <div class="combo-text">
                            <p><strong>[äº”è¡Œ]</strong> ${getRelationText(rel2, god2, god3)}</p>
                            <div style="margin-top:8px; padding-top:8px; border-top:1px dashed #ddd; color:#888; font-size:13px;">
                                <strong>[æ–­è¯­]</strong> ${text2}
                            </div>
                        </div>
                    </div>

                    <div class="combo-card" style="background:#fcfcfc; border-style:dashed;">
                        <div class="combo-header" style="font-size:13px; color:#666;">
                            <span>ğŸ” æš—å±€ï¼šåˆæœ«å…³ç³» (${god1.name} vs ${god3.name})</span>
                        </div>
                        <div class="combo-text" style="font-size:13px;">
                            <p>æ­¤å±€ä»${god1.name}èµ·ï¼Œè‡³${god3.name}ç»ˆï¼Œå‘ˆã€${info3.label}ã€‘ä¹‹åŠ¿ã€‚</p>
                            <div style="margin-top:5px; color:#666;">
                                <strong>[ç»¼åˆåˆ¤è¯]</strong> ${text3}
                            </div>
                        </div>
                    </div>
                `;

                comboExplanation.innerHTML = comboHTML;

                // ä¸‡ç‰©å–è±¡
                let imagesHTML = getDetailedImages(god1, god2, god3);
                imagesExplanation.innerHTML = imagesHTML;

                // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
                resultSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }

            // ä¸‰ç¥ç»„åˆè§£é‡Šå‡½æ•°
            function getTripleComboExplanation(god1, god2, god3) {
                const gods = [god1, god2, god3];
                const godNames = gods.map(g => g.name);

                // ç»Ÿè®¡å„ä¸ªç¥ç…å‡ºç°çš„æ¬¡æ•°
                const counts = {};
                godNames.forEach(name => {
                    counts[name] = (counts[name] || 0) + 1;
                });

                // åˆ¤æ–­æ˜¯å¦æœ‰ä¸‰ä¸ªç›¸åŒçš„ç¥ç…
                if (Object.values(counts).includes(3)) {
                    const godName = Object.keys(counts).find(key => counts[key] === 3);

                    switch (godName) {
                        case "å¤§å®‰":
                            return "ä¸‰é‡å¤§å®‰ï¼Œæœ€ä¸ºå‰åˆ©ï¼Œä¸‡äº‹å¦‚æ„ï¼Œå¤§å‰å¤§åˆ©ã€‚äº‹ä¸šæœ‰æˆï¼Œå®¶åº­å¹¸ç¦ï¼Œè´¢è¿äº¨é€šï¼Œå¥åº·å¹³å®‰ã€‚ä¸€åˆ‡é¡ºé‚ï¼Œæ— å¾€ä¸åˆ©ã€‚";
                        case "ç•™è¿":
                            return "ä¸‰é‡ç•™è¿ï¼Œæåº¦æ‹–å»¶ï¼Œäº‹æƒ…åœæ»ä¸å‰ã€‚éœ€è¦å½»åº•æ”¹å˜ç­–ç•¥æˆ–æ”¾å¼ƒå½“å‰è®¡åˆ’ã€‚é™·å…¥æ¼«é•¿ç­‰å¾…ï¼Œéš¾æœ‰çªç ´ã€‚";
                        case "é€Ÿå–œ":
                            return "ä¸‰é‡é€Ÿå–œï¼Œæå¤§å–œäº‹å³å°†åˆ°æ¥ã€‚å¯èƒ½æœ‰æ„å¤–ä¹‹å–œï¼ŒæƒŠå–œè¿è¿ã€‚äº‹ä¸šã€çˆ±æƒ…ã€è´¢è¿éƒ½æœ‰æå¥½çš„å‘å±•ã€‚";
                        case "èµ¤å£":
                            return "ä¸‰é‡èµ¤å£ï¼Œæåº¦ä¸é¡ºï¼Œå¤šæœ‰å£èˆŒæ˜¯éï¼Œäº‰ç«¯ä¸æ–­ã€‚éœ€ç‰¹åˆ«å°å¿ƒäººé™…å…³ç³»ï¼Œé¿å…å†²çªå’Œå®˜å¸ã€‚";
                        case "å°å‰":
                            return "ä¸‰é‡å°å‰ï¼Œç¨³æ­¥ä¸Šå‡ï¼Œé€æ¸ç§¯ç´¯ã€‚è™½æ— å¤§å–œå¤§æ‚²ï¼Œä½†å¹³ç¨³å‘å±•ï¼Œç§¯å°‘æˆå¤šï¼Œæœ€ç»ˆå¯èƒ½æœ‰ä¸é”™çš„æˆæœã€‚";
                        case "ç©ºäº¡":
                            return "ä¸‰é‡ç©ºäº¡ï¼Œæåº¦è™šæ— ï¼Œè®¡åˆ’éš¾ä»¥å®ç°ã€‚ç°å®ä¸ç†æƒ³æœ‰å¾ˆå¤§å·®è·ï¼Œéœ€é‡æ–°å®¡è§†ç›®æ ‡ï¼Œé¿å…ç—´å¿ƒå¦„æƒ³ã€‚";
                    }
                }

                // åˆ¤æ–­æ˜¯å¦æœ‰ä¸¤ä¸ªç›¸åŒçš„ç¥ç…
                if (Object.values(counts).includes(2)) {
                    const repeatedGod = Object.keys(counts).find(key => counts[key] === 2);
                    const singleGod = Object.keys(counts).find(key => counts[key] === 1);

                    let result = `${repeatedGod}ä¹‹è±¡åŠ å¼ºï¼Œ${singleGod}ä¹‹è±¡è¾…åŠ©ã€‚`;

                    // æ ¹æ®ä¸åŒç»„åˆç»™å‡ºå…·ä½“è§£é‡Š
                    if (repeatedGod === "å¤§å®‰") {
                        result += "ä»¥å¹³å®‰ç¨³å®šä¸ºä¸»ï¼Œ";
                        if (singleGod === "é€Ÿå–œ") {
                            result += "å…¼æœ‰å–œåº†ä¹‹è±¡ï¼Œå¤§å‰å¤§åˆ©ã€‚";
                        } else if (singleGod === "å°å‰") {
                            result += "å…¼æœ‰å°å‰ä¹‹è±¡ï¼Œç¨³ä¸­æœ‰è¿›ï¼Œå¹³å®‰é¡ºé‚ã€‚";
                        } else if (singleGod === "ç•™è¿") {
                            result += "ä½†æœ‰æ‹–å»¶ä¹‹è±¡ï¼Œè™½å¹³å®‰ä½†è¿›å±•ç¼“æ…¢ã€‚";
                        } else if (singleGod === "èµ¤å£") {
                            result += "ä½†æœ‰å£èˆŒä¹‹è±¡ï¼Œè™½å¹³å®‰ä½†éœ€é˜²å°äººã€‚";
                        } else if (singleGod === "ç©ºäº¡") {
                            result += "ä½†æœ‰è™šæ— ä¹‹è±¡ï¼Œè¡¨é¢å¹³å®‰å†…æœ‰å˜æ•°ã€‚";
                        }
                    } else if (repeatedGod === "ç•™è¿") {
                        result += "ä»¥æ‹–å»¶å¾˜å¾Šä¸ºä¸»ï¼Œè¿›å±•ç¼“æ…¢ï¼Œ";
                        if (singleGod === "å¤§å®‰") {
                            result += "ä½†æœ€ç»ˆä¼šæœ‰å¹³å®‰ç»“æœã€‚";
                        } else if (singleGod === "é€Ÿå–œ") {
                            result += "ä½†æœ€ç»ˆä¼šæœ‰è½¬æœºã€‚";
                        } else if (singleGod === "å°å‰") {
                            result += "ä¸­é—´å¯èƒ½æœ‰å°çš„æ”¶è·ã€‚";
                        } else if (singleGod === "èµ¤å£") {
                            result += "ä¸”å¤šæœ‰å£èˆŒæ˜¯éï¼Œå¤„å¢ƒå›°éš¾ã€‚";
                        } else if (singleGod === "ç©ºäº¡") {
                            result += "ä¸”å¤šæœ‰è™šæ— è¿·èŒ«ï¼Œéš¾ä»¥æŠŠæ¡ã€‚";
                        }
                    } else if (repeatedGod === "é€Ÿå–œ") {
                        result += "ä»¥å–œåº†ä¸ºä¸»ï¼Œå¥½äº‹å°†è‡³ï¼Œ";
                        if (singleGod === "å¤§å®‰") {
                            result += "ä¸”èƒ½ä¿æŒå¹³å®‰ç¨³å®šï¼Œéå¸¸å‰åˆ©ã€‚";
                        } else if (singleGod === "ç•™è¿") {
                            result += "ä½†å¯èƒ½æœ‰æ‰€å»¶è¿Ÿï¼Œéœ€è¦è€å¿ƒç­‰å¾…ã€‚";
                        } else if (singleGod === "å°å‰") {
                            result += "å…¼æœ‰å°å‰ä¹‹è±¡ï¼Œå–œæ°”æ´‹æ´‹ã€‚";
                        } else if (singleGod === "èµ¤å£") {
                            result += "ä½†ä¹Ÿæœ‰å£èˆŒä¹‹è±¡ï¼Œå–œä¸­æœ‰å¿§ã€‚";
                        } else if (singleGod === "ç©ºäº¡") {
                            result += "ä½†ä¹Ÿæœ‰è™šæ— ä¹‹è±¡ï¼Œå–œäº‹å¯èƒ½æœ‰å˜æ•°ã€‚";
                        }
                    } else if (repeatedGod === "èµ¤å£") {
                        result += "ä»¥å£èˆŒæ˜¯éä¸ºä¸»ï¼Œå¤šæœ‰äº‰ç«¯ï¼Œ";
                        if (singleGod === "å¤§å®‰") {
                            result += "ä½†æœ€ç»ˆä¼šè¶‹äºå¹³å®‰ã€‚";
                        } else if (singleGod === "ç•™è¿") {
                            result += "ä¸”äº‰ç«¯éš¾ä»¥è§£å†³ï¼Œæ‹–å»¶ä¸å†³ã€‚";
                        } else if (singleGod === "é€Ÿå–œ") {
                            result += "ä½†æœ€ç»ˆä¼šæœ‰è½¬æœºï¼Œè¿æ¥å¥½æ¶ˆæ¯ã€‚";
                        } else if (singleGod === "å°å‰") {
                            result += "ä½†æœ‰å°å‰è°ƒå’Œï¼Œä¸è‡³äºå¤ªä¸¥é‡ã€‚";
                        } else if (singleGod === "ç©ºäº¡") {
                            result += "ä½†å¯èƒ½æ˜¯è™šæƒŠä¸€åœºï¼Œä¸äº†äº†ä¹‹ã€‚";
                        }
                    } else if (repeatedGod === "å°å‰") {
                        result += "ä»¥å°å‰å°åˆ©ä¸ºä¸»ï¼Œç¨³æ­¥å‘å±•ï¼Œ";
                        if (singleGod === "å¤§å®‰") {
                            result += "å…¼æœ‰å¹³å®‰ä¹‹è±¡ï¼Œç¨³ä¸­å‘å¥½ã€‚";
                        } else if (singleGod === "ç•™è¿") {
                            result += "ä½†è¿›å±•è¾ƒæ…¢ï¼Œéœ€è¦è€å¿ƒç­‰å¾…ã€‚";
                        } else if (singleGod === "é€Ÿå–œ") {
                            result += "å…¼æœ‰é€Ÿå–œä¹‹è±¡ï¼Œå¯èƒ½è¿æ¥å¥½è½¬æœºã€‚";
                        } else if (singleGod === "èµ¤å£") {
                            result += "ä½†æœ‰å£èˆŒä¹‹è±¡ï¼Œå°æœ‰æ³¢æŠ˜ã€‚";
                        } else if (singleGod === "ç©ºäº¡") {
                            result += "ä½†æœ‰è™šæ— ä¹‹è±¡ï¼Œå¯èƒ½è™šæœ‰å…¶è¡¨ã€‚";
                        }
                    } else if (repeatedGod === "ç©ºäº¡") {
                        result += "ä»¥è™šæ— éš¾æµ‹ä¸ºä¸»ï¼Œå˜æ•°å¾ˆå¤§ï¼Œ";
                        if (singleGod === "å¤§å®‰") {
                            result += "ä½†æœ€ç»ˆä¼šè¶‹äºå¹³å®‰ã€‚";
                        } else if (singleGod === "ç•™è¿") {
                            result += "ä¸”è¿›å±•ç¼“æ…¢ï¼Œéš¾ä»¥æŠŠæ¡ã€‚";
                        } else if (singleGod === "é€Ÿå–œ") {
                            result += "ä½†å¯èƒ½æœ‰æ„å¤–ä¹‹å–œã€‚";
                        } else if (singleGod === "èµ¤å£") {
                            result += "ä¸”å¯èƒ½æœ‰å£èˆŒä¹‹äº‰ï¼Œä½†å¤šä¸ºè™šæƒŠã€‚";
                        } else if (singleGod === "å°å‰") {
                            result += "ä½†å¯èƒ½æœ‰å°çš„æ”¶è·ï¼Œä¸è‡³äºä¸€æ— æ‰€è·ã€‚";
                        }
                    }

                    return result;
                }

                // ä¸‰ä¸ªä¸åŒçš„ç¥ç…
                // åˆ¤æ–­æ•´ä½“å‰å‡¶
                const positiveGods = ["å¤§å®‰", "é€Ÿå–œ", "å°å‰"];
                const negativeGods = ["èµ¤å£", "ç•™è¿", "ç©ºäº¡"];

                let positiveCount = 0;
                let negativeCount = 0;

                godNames.forEach(name => {
                    if (positiveGods.includes(name)) positiveCount++;
                    if (negativeGods.includes(name)) negativeCount++;
                });

                let result = "ä¸‰ç¥å„å¼‚ï¼Œå˜åŒ–å¤šç«¯ã€‚";

                if (positiveCount > negativeCount) {
                    result += "æ€»ä½“åå‘å‰åˆ©ï¼Œè™½æœ‰æ³¢æŠ˜ä½†åŸºæœ¬å‘å¥½ã€‚";
                } else if (positiveCount < negativeCount) {
                    result += "æ€»ä½“åå‘ä¸åˆ©ï¼Œå¤šæœ‰å›°éš¾å’Œé˜»ç¢ã€‚";
                } else {
                    result += "å‰å‡¶å‚åŠï¼Œå–œå¿§å‚åŠï¼Œéœ€å…·ä½“é—®é¢˜å…·ä½“åˆ†æã€‚";
                }

                // å…·ä½“ç»„åˆçš„ç‰¹æ®Šè§£é‡Š
                if (godNames.includes("å¤§å®‰") && godNames.includes("é€Ÿå–œ") && godNames.includes("å°å‰")) {
                    result += "å¤§å®‰ã€é€Ÿå–œã€å°å‰ä¸‰å‰å¹¶ä¸´ï¼Œéå¸¸å‰åˆ©ã€‚äº‹ä¸šæœ‰æˆï¼Œå–œäº‹è¿è¿ï¼Œè´¢è¿äº¨é€šã€‚";
                } else if (godNames.includes("èµ¤å£") && godNames.includes("ç•™è¿") && godNames.includes("ç©ºäº¡")) {
                    result += "èµ¤å£ã€ç•™è¿ã€ç©ºäº¡ä¸‰å‡¶åŒç°ï¼Œéå¸¸ä¸åˆ©ã€‚å¤šæœ‰å£èˆŒæ˜¯éï¼Œè¿›å±•ç¼“æ…¢ï¼Œå˜æ•°å¾ˆå¤§ã€‚";
                } else if (godNames.includes("å¤§å®‰") && godNames.includes("é€Ÿå–œ")) {
                    result += "å¤§å®‰ä¸é€Ÿå–œç›¸åŠ©ï¼Œä¸»å¤§å‰å¤§åˆ©ã€‚";
                } else if (godNames.includes("èµ¤å£") && godNames.includes("ç©ºäº¡")) {
                    result += "èµ¤å£ä¸ç©ºäº¡ç›¸éšï¼Œé˜²è™šå‡äº‰ç«¯ã€‚";
                }

                return result;
            }
        });
    </script>
</body>

</html>
